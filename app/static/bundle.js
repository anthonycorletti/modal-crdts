var J2=Object.create;var{getPrototypeOf:X2,defineProperty:q9,getOwnPropertyNames:K2}=Object;var G2=Object.prototype.hasOwnProperty;var f1=(Z,$,J)=>{J=Z!=null?J2(X2(Z)):{};const X=$||!Z||!Z.__esModule?q9(J,"default",{value:Z,enumerable:!0}):J;for(let K of K2(Z))if(!G2.call(X,K))q9(X,K,{get:()=>Z[K],enumerable:!0});return X};var m5=(Z,$)=>()=>($||Z(($={exports:{}}).exports,$),$.exports);var v4=(Z,$)=>{for(var J in $)q9(Z,J,{get:$[J],enumerable:!0,configurable:!0,set:(X)=>$[J]=()=>X})};var pH=m5((sf,gH)=>{function P7(Z,$,J,X,K){if(Z===$){if(Z)return[[Y1,Z]];return[]}if(J!=null){var G=UE(Z,$,J);if(G)return G}var W=xJ(Z,$),Y=Z.substring(0,W);Z=Z.substring(W),$=$.substring(W),W=U$(Z,$);var H=Z.substring(Z.length-W);Z=Z.substring(0,Z.length-W),$=$.substring(0,$.length-W);var Q=WE(Z,$);if(Y)Q.unshift([Y1,Y]);if(H)Q.push([Y1,H]);if(vJ(Q,K),X)QE(Q);return Q}function WE(Z,$){var J;if(!Z)return[[I1,$]];if(!$)return[[i1,Z]];var X=Z.length>$.length?Z:$,K=Z.length>$.length?$:Z,G=X.indexOf(K);if(G!==-1){if(J=[[I1,X.substring(0,G)],[Y1,K],[I1,X.substring(G+K.length)]],Z.length>$.length)J[0][0]=J[2][0]=i1;return J}if(K.length===1)return[[i1,Z],[I1,$]];var W=HE(Z,$);if(W){var Y=W[0],H=W[1],Q=W[2],z=W[3],_=W[4],M=P7(Y,Q),U=P7(H,z);return M.concat([[Y1,_]],U)}return YE(Z,$)}function YE(Z,$){var J=Z.length,X=$.length,K=Math.ceil((J+X)/2),G=K,W=2*K,Y=new Array(W),H=new Array(W);for(var Q=0;Q<W;Q++)Y[Q]=-1,H[Q]=-1;Y[G+1]=0,H[G+1]=0;var z=J-X,_=z%2!==0,M=0,U=0,R=0,E=0;for(var F=0;F<K;F++){for(var q=-F+M;q<=F-U;q+=2){var N=G+q,P;if(q===-F||q!==F&&Y[N-1]<Y[N+1])P=Y[N+1];else P=Y[N-1]+1;var O=P-q;while(P<J&&O<X&&Z.charAt(P)===$.charAt(O))P++,O++;if(Y[N]=P,P>J)U+=2;else if(O>X)M+=2;else if(_){var D=G+z-q;if(D>=0&&D<W&&H[D]!==-1){var x=J-H[D];if(P>=x)return fH(Z,$,P,O)}}}for(var k=-F+R;k<=F-E;k+=2){var D=G+k,x;if(k===-F||k!==F&&H[D-1]<H[D+1])x=H[D+1];else x=H[D-1]+1;var p=x-k;while(x<J&&p<X&&Z.charAt(J-x-1)===$.charAt(X-p-1))x++,p++;if(H[D]=x,x>J)E+=2;else if(p>X)R+=2;else if(!_){var N=G+z-k;if(N>=0&&N<W&&Y[N]!==-1){var P=Y[N],O=G+P-N;if(x=J-x,P>=x)return fH(Z,$,P,O)}}}}return[[i1,Z],[I1,$]]}function fH(Z,$,J,X){var K=Z.substring(0,J),G=$.substring(0,X),W=Z.substring(J),Y=$.substring(X),H=P7(K,G),Q=P7(W,Y);return H.concat(Q)}function xJ(Z,$){if(!Z||!$||Z.charAt(0)!==$.charAt(0))return 0;var J=0,X=Math.min(Z.length,$.length),K=X,G=0;while(J<K){if(Z.substring(G,K)==$.substring(G,K))J=K,G=J;else X=K;K=Math.floor((X-J)/2+J)}if(vH(Z.charCodeAt(K-1)))K--;return K}function TH(Z,$){var J=Z.length,X=$.length;if(J==0||X==0)return 0;if(J>X)Z=Z.substring(J-X);else if(J<X)$=$.substring(0,J);var K=Math.min(J,X);if(Z==$)return K;var G=0,W=1;while(!0){var Y=Z.substring(K-W),H=$.indexOf(Y);if(H==-1)return G;if(W+=H,H==0||Z.substring(K-W)==$.substring(0,W))G=W,W++}}function U$(Z,$){if(!Z||!$||Z.slice(-1)!==$.slice(-1))return 0;var J=0,X=Math.min(Z.length,$.length),K=X,G=0;while(J<K){if(Z.substring(Z.length-K,Z.length-G)==$.substring($.length-K,$.length-G))J=K,G=J;else X=K;K=Math.floor((X-J)/2+J)}if(kH(Z.charCodeAt(Z.length-K)))K--;return K}function HE(Z,$){var J=Z.length>$.length?Z:$,X=Z.length>$.length?$:Z;if(J.length<4||X.length*2<J.length)return null;function K(U,R,E){var F=U.substring(E,E+Math.floor(U.length/4)),q=-1,N="",P,O,D,x;while((q=R.indexOf(F,q+1))!==-1){var k=xJ(U.substring(E),R.substring(q)),p=U$(U.substring(0,E),R.substring(0,q));if(N.length<p+k)N=R.substring(q-p,q)+R.substring(q,q+k),P=U.substring(0,E-p),O=U.substring(E+k),D=R.substring(0,q-p),x=R.substring(q+k)}if(N.length*2>=U.length)return[P,O,D,x,N];else return null}var G=K(J,X,Math.ceil(J.length/4)),W=K(J,X,Math.ceil(J.length/2)),Y;if(!G&&!W)return null;else if(!W)Y=G;else if(!G)Y=W;else Y=G[4].length>W[4].length?G:W;var H,Q,z,_;if(Z.length>$.length)H=Y[0],Q=Y[1],z=Y[2],_=Y[3];else z=Y[0],_=Y[1],H=Y[2],Q=Y[3];var M=Y[4];return[H,Q,z,_,M]}function QE(Z){var $=!1,J=[],X=0,K=null,G=0,W=0,Y=0,H=0,Q=0;while(G<Z.length){if(Z[G][0]==Y1)J[X++]=G,W=H,Y=Q,H=0,Q=0,K=Z[G][1];else{if(Z[G][0]==I1)H+=Z[G][1].length;else Q+=Z[G][1].length;if(K&&K.length<=Math.max(W,Y)&&K.length<=Math.max(H,Q))Z.splice(J[X-1],0,[i1,K]),Z[J[X-1]+1][0]=I1,X--,X--,G=X>0?J[X-1]:-1,W=0,Y=0,H=0,Q=0,K=null,$=!0}G++}if($)vJ(Z);ME(Z),G=1;while(G<Z.length){if(Z[G-1][0]==i1&&Z[G][0]==I1){var z=Z[G-1][1],_=Z[G][1],M=TH(z,_),U=TH(_,z);if(M>=U){if(M>=z.length/2||M>=_.length/2)Z.splice(G,0,[Y1,_.substring(0,M)]),Z[G-1][1]=z.substring(0,z.length-M),Z[G+1][1]=_.substring(M),G++}else if(U>=z.length/2||U>=_.length/2)Z.splice(G,0,[Y1,z.substring(0,U)]),Z[G-1][0]=I1,Z[G-1][1]=_.substring(0,_.length-U),Z[G+1][0]=i1,Z[G+1][1]=z.substring(U),G++;G++}G++}}function ME(Z){function $(U,R){if(!U||!R)return 6;var E=U.charAt(U.length-1),F=R.charAt(0),q=E.match(jH),N=F.match(jH),P=q&&E.match(hH),O=N&&F.match(hH),D=P&&E.match(xH),x=O&&F.match(xH),k=D&&U.match(zE),p=x&&R.match(_E);if(k||p)return 5;else if(D||x)return 4;else if(q&&!P&&O)return 3;else if(P||O)return 2;else if(q||N)return 1;return 0}var J=1;while(J<Z.length-1){if(Z[J-1][0]==Y1&&Z[J+1][0]==Y1){var X=Z[J-1][1],K=Z[J][1],G=Z[J+1][1],W=U$(X,K);if(W){var Y=K.substring(K.length-W);X=X.substring(0,X.length-W),K=Y+K.substring(0,K.length-W),G=Y+G}var H=X,Q=K,z=G,_=$(X,K)+$(K,G);while(K.charAt(0)===G.charAt(0)){X+=K.charAt(0),K=K.substring(1)+G.charAt(0),G=G.substring(1);var M=$(X,K)+$(K,G);if(M>=_)_=M,H=X,Q=K,z=G}if(Z[J-1][1]!=H){if(H)Z[J-1][1]=H;else Z.splice(J-1,1),J--;if(Z[J][1]=Q,z)Z[J+1][1]=z;else Z.splice(J+1,1),J--}}J++}}function vJ(Z,$){Z.push([Y1,""]);var J=0,X=0,K=0,G="",W="",Y;while(J<Z.length){if(J<Z.length-1&&!Z[J][1]){Z.splice(J,1);continue}switch(Z[J][0]){case I1:K++,W+=Z[J][1],J++;break;case i1:X++,G+=Z[J][1],J++;break;case Y1:var H=J-K-X-1;if($){if(H>=0&&bH(Z[H][1])){var Q=Z[H][1].slice(-1);if(Z[H][1]=Z[H][1].slice(0,-1),G=Q+G,W=Q+W,!Z[H][1]){Z.splice(H,1),J--;var z=H-1;if(Z[z]&&Z[z][0]===I1)K++,W=Z[z][1]+W,z--;if(Z[z]&&Z[z][0]===i1)X++,G=Z[z][1]+G,z--;H=z}}if(yH(Z[J][1])){var Q=Z[J][1].charAt(0);Z[J][1]=Z[J][1].slice(1),G+=Q,W+=Q}}if(J<Z.length-1&&!Z[J][1]){Z.splice(J,1);break}if(G.length>0||W.length>0){if(G.length>0&&W.length>0){if(Y=xJ(W,G),Y!==0){if(H>=0)Z[H][1]+=W.substring(0,Y);else Z.splice(0,0,[Y1,W.substring(0,Y)]),J++;W=W.substring(Y),G=G.substring(Y)}if(Y=U$(W,G),Y!==0)Z[J][1]=W.substring(W.length-Y)+Z[J][1],W=W.substring(0,W.length-Y),G=G.substring(0,G.length-Y)}var _=K+X;if(G.length===0&&W.length===0)Z.splice(J-_,_),J=J-_;else if(G.length===0)Z.splice(J-_,_,[I1,W]),J=J-_+1;else if(W.length===0)Z.splice(J-_,_,[i1,G]),J=J-_+1;else Z.splice(J-_,_,[i1,G],[I1,W]),J=J-_+2}if(J!==0&&Z[J-1][0]===Y1)Z[J-1][1]+=Z[J][1],Z.splice(J,1);else J++;K=0,X=0,G="",W="";break}}if(Z[Z.length-1][1]==="")Z.pop();var M=!1;J=1;while(J<Z.length-1){if(Z[J-1][0]===Y1&&Z[J+1][0]===Y1){if(Z[J][1].substring(Z[J][1].length-Z[J-1][1].length)===Z[J-1][1])Z[J][1]=Z[J-1][1]+Z[J][1].substring(0,Z[J][1].length-Z[J-1][1].length),Z[J+1][1]=Z[J-1][1]+Z[J+1][1],Z.splice(J-1,1),M=!0;else if(Z[J][1].substring(0,Z[J+1][1].length)==Z[J+1][1])Z[J-1][1]+=Z[J+1][1],Z[J][1]=Z[J][1].substring(Z[J+1][1].length)+Z[J+1][1],Z.splice(J+1,1),M=!0}J++}if(M)vJ(Z,$)}function vH(Z){return Z>=55296&&Z<=56319}function kH(Z){return Z>=56320&&Z<=57343}function yH(Z){return kH(Z.charCodeAt(0))}function bH(Z){return vH(Z.charCodeAt(Z.length-1))}function qE(Z){var $=[];for(var J=0;J<Z.length;J++)if(Z[J][1].length>0)$.push(Z[J]);return $}function hJ(Z,$,J,X){if(bH(Z)||yH(X))return null;return qE([[Y1,Z],[i1,$],[I1,J],[Y1,X]])}function UE(Z,$,J){var X=typeof J==="number"?{index:J,length:0}:J.oldRange,K=typeof J==="number"?null:J.newRange,G=Z.length,W=$.length;if(X.length===0&&(K===null||K.length===0)){var Y=X.index,H=Z.slice(0,Y),Q=Z.slice(Y),z=K?K.index:null;Z:{var _=Y+W-G;if(z!==null&&z!==_)break Z;if(_<0||_>W)break Z;var M=$.slice(0,_),U=$.slice(_);if(U!==Q)break Z;var R=Math.min(Y,_),E=H.slice(0,R),F=M.slice(0,R);if(E!==F)break Z;var q=H.slice(R),N=M.slice(R);return hJ(E,q,N,Q)}Z:{if(z!==null&&z!==Y)break Z;var P=Y,M=$.slice(0,P),U=$.slice(P);if(M!==H)break Z;var O=Math.min(G-P,W-P),D=Q.slice(Q.length-O),x=U.slice(U.length-O);if(D!==x)break Z;var q=Q.slice(0,Q.length-O),N=U.slice(0,U.length-O);return hJ(H,q,N,D)}}if(X.length>0&&K&&K.length===0)Z:{var E=Z.slice(0,X.index),D=Z.slice(X.index+X.length),R=E.length,O=D.length;if(W<R+O)break Z;var F=$.slice(0,R),x=$.slice(W-O);if(E!==F||D!==x)break Z;var q=Z.slice(R,G-O),N=$.slice(R,W-O);return hJ(E,q,N,D)}return null}function F$(Z,$,J,X){return P7(Z,$,J,X,!0)}var i1=-1,I1=1,Y1=0,jH=/[^a-zA-Z0-9]/,hH=/\s/,xH=/[\r\n]/,zE=/\n\r?\n$/,_E=/^\r?\n\r?\n/;F$.INSERT=I1;F$.DELETE=i1;F$.EQUAL=Y1;gH.exports=F$});var rJ=m5((N$,U4)=>{function BE(Z,$){return Z.set($[0],$[1]),Z}function DE(Z,$){return Z.add($),Z}function IE(Z,$){var J=-1,X=Z?Z.length:0;while(++J<X)if($(Z[J],J,Z)===!1)break;return Z}function CE(Z,$){var J=-1,X=$.length,K=Z.length;while(++J<X)Z[K+J]=$[J];return Z}function EQ(Z,$,J,X){var K=-1,G=Z?Z.length:0;if(X&&G)J=Z[++K];while(++K<G)J=$(J,Z[K],K,Z);return J}function SE(Z,$){var J=-1,X=Array(Z);while(++J<Z)X[J]=$(J);return X}function fE(Z,$){return Z==null?void 0:Z[$]}function OQ(Z){var $=!1;if(Z!=null&&typeof Z.toString!="function")try{$=!!(Z+"")}catch(J){}return $}function dH(Z){var $=-1,J=Array(Z.size);return Z.forEach(function(X,K){J[++$]=[K,X]}),J}function iJ(Z,$){return function(J){return Z($(J))}}function cH(Z){var $=-1,J=Array(Z.size);return Z.forEach(function(X){J[++$]=X}),J}function _8(Z){var $=-1,J=Z?Z.length:0;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}function lE(){this.__data__=L7?L7(null):{}}function iE(Z){return this.has(Z)&&delete this.__data__[Z]}function sE(Z){var $=this.__data__;if(L7){var J=$[Z];return J===tH?void 0:J}return S6.call($,Z)?$[Z]:void 0}function nE(Z){var $=this.__data__;return L7?$[Z]!==void 0:S6.call($,Z)}function oE(Z,$){var J=this.__data__;return J[Z]=L7&&$===void 0?tH:$,this}function J6(Z){var $=-1,J=Z?Z.length:0;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}function rE(){this.__data__=[]}function aE(Z){var $=this.__data__,J=L$($,Z);if(J<0)return!1;var X=$.length-1;if(J==X)$.pop();else yE.call($,J,1);return!0}function tE(Z){var $=this.__data__,J=L$($,Z);return J<0?void 0:$[J][1]}function eE(Z){return L$(this.__data__,Z)>-1}function ZO(Z,$){var J=this.__data__,X=L$(J,Z);if(X<0)J.push([Z,$]);else J[X][1]=$;return this}function F4(Z){var $=-1,J=Z?Z.length:0;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}function $O(){this.__data__={hash:new _8,map:new(V7||J6),string:new _8}}function JO(Z){return w$(this,Z).delete(Z)}function XO(Z){return w$(this,Z).get(Z)}function KO(Z){return w$(this,Z).has(Z)}function GO(Z,$){return w$(this,Z).set(Z,$),this}function N4(Z){this.__data__=new J6(Z)}function WO(){this.__data__=new J6}function YO(Z){return this.__data__.delete(Z)}function HO(Z){return this.__data__.get(Z)}function QO(Z){return this.__data__.has(Z)}function zO(Z,$){var J=this.__data__;if(J instanceof J6){var X=J.__data__;if(!V7||X.length<FE-1)return X.push([Z,$]),this;J=this.__data__=new F4(X)}return J.set(Z,$),this}function _O(Z,$){var J=nJ(Z)||vO(Z)?SE(Z.length,String):[],X=J.length,K=!!X;for(var G in Z)if(($||S6.call(Z,G))&&!(K&&(G=="length"||TO(G,X))))J.push(G);return J}function VQ(Z,$,J){var X=Z[$];if(!(S6.call(Z,$)&&BQ(X,J))||J===void 0&&!($ in Z))Z[$]=J}function L$(Z,$){var J=Z.length;while(J--)if(BQ(Z[J][0],$))return J;return-1}function MO(Z,$){return Z&&LQ($,oJ($),Z)}function uJ(Z,$,J,X,K,G,W){var Y;if(X)Y=G?X(Z,K,G,W):X(Z);if(Y!==void 0)return Y;if(!A$(Z))return Z;var H=nJ(Z);if(H){if(Y=CO(Z),!$)return BO(Z,Y)}else{var Q=z8(Z),z=Q==cJ||Q==JQ;if(yO(Z))return EO(Z,$);if(Q==lJ||Q==dJ||z&&!G){if(OQ(Z))return G?Z:{};if(Y=SO(z?{}:Z),!$)return DO(Z,MO(Y,Z))}else{if(!j0[Q])return G?Z:{};Y=fO(Z,Q,uJ,$)}}W||(W=new N4);var _=W.get(Z);if(_)return _;if(W.set(Z,Y),!H)var M=J?IO(Z):oJ(Z);return IE(M||Z,function(U,R){if(M)R=U,U=Z[R];VQ(Y,R,uJ(U,$,J,X,R,Z,W))}),Y}function qO(Z){return A$(Z)?vE(Z):{}}function UO(Z,$,J){var X=$(Z);return nJ(Z)?X:CE(X,J(Z))}function FO(Z){return V$.call(Z)}function NO(Z){if(!A$(Z)||hO(Z))return!1;var $=IQ(Z)||OQ(Z)?hE:PE;return $.test(M8(Z))}function RO(Z){if(!AQ(Z))return gE(Z);var $=[];for(var J in Object(Z))if(S6.call(Z,J)&&J!="constructor")$.push(J);return $}function EO(Z,$){if($)return Z.slice();var J=new Z.constructor(Z.length);return Z.copy(J),J}function sJ(Z){var $=new Z.constructor(Z.byteLength);return new nH($).set(new nH(Z)),$}function OO(Z,$){var J=$?sJ(Z.buffer):Z.buffer;return new Z.constructor(J,Z.byteOffset,Z.byteLength)}function PO(Z,$,J){var X=$?J(dH(Z),!0):dH(Z);return EQ(X,BE,new Z.constructor)}function VO(Z){var $=new Z.constructor(Z.source,OE.exec(Z));return $.lastIndex=Z.lastIndex,$}function LO(Z,$,J){var X=$?J(cH(Z),!0):cH(Z);return EQ(X,DE,new Z.constructor)}function wO(Z){return aH?Object(aH.call(Z)):{}}function AO(Z,$){var J=$?sJ(Z.buffer):Z.buffer;return new Z.constructor(J,Z.byteOffset,Z.length)}function BO(Z,$){var J=-1,X=Z.length;$||($=Array(X));while(++J<X)$[J]=Z[J];return $}function LQ(Z,$,J,X){J||(J={});var K=-1,G=$.length;while(++K<G){var W=$[K],Y=X?X(J[W],Z[W],W,J,Z):void 0;VQ(J,W,Y===void 0?Z[W]:Y)}return J}function DO(Z,$){return LQ(Z,wQ(Z),$)}function IO(Z){return UO(Z,oJ,wQ)}function w$(Z,$){var J=Z.__data__;return jO($)?J[typeof $=="string"?"string":"hash"]:J.map}function R4(Z,$){var J=fE(Z,$);return NO(J)?J:void 0}function CO(Z){var $=Z.length,J=Z.constructor($);if($&&typeof Z[0]=="string"&&S6.call(Z,"index"))J.index=Z.index,J.input=Z.input;return J}function SO(Z){return typeof Z.constructor=="function"&&!AQ(Z)?qO(xE(Z)):{}}function fO(Z,$,J,X){var K=Z.constructor;switch($){case YQ:return sJ(Z);case ZQ:case $Q:return new K(+Z);case O$:return OO(Z,X);case HQ:case QQ:case zQ:case _Q:case MQ:case qQ:case UQ:case FQ:case NQ:return AO(Z,X);case R$:return PO(Z,X,J);case XQ:case GQ:return new K(Z);case KQ:return VO(Z);case E$:return LO(Z,X,J);case WQ:return wO(Z)}}function TO(Z,$){return $=$==null?eH:$,!!$&&(typeof Z=="number"||VE.test(Z))&&(Z>-1&&Z%1==0&&Z<$)}function jO(Z){var $=typeof Z;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?Z!=="__proto__":Z===null}function hO(Z){return!!lH&&lH in Z}function AQ(Z){var $=Z&&Z.constructor,J=typeof $=="function"&&$.prototype||P$;return Z===J}function M8(Z){if(Z!=null){try{return PQ.call(Z)}catch($){}try{return Z+""}catch($){}}return""}function xO(Z){return uJ(Z,!0,!0)}function BQ(Z,$){return Z===$||Z!==Z&&$!==$}function vO(Z){return kO(Z)&&S6.call(Z,"callee")&&(!kE.call(Z,"callee")||V$.call(Z)==dJ)}function DQ(Z){return Z!=null&&bO(Z.length)&&!IQ(Z)}function kO(Z){return gO(Z)&&DQ(Z)}function IQ(Z){var $=A$(Z)?V$.call(Z):"";return $==cJ||$==JQ}function bO(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=eH}function A$(Z){var $=typeof Z;return!!Z&&($=="object"||$=="function")}function gO(Z){return!!Z&&typeof Z=="object"}function oJ(Z){return DQ(Z)?_O(Z):RO(Z)}function pO(){return[]}function mO(){return!1}var FE=200,tH="__lodash_hash_undefined__",eH=9007199254740991,dJ="[object Arguments]",NE="[object Array]",ZQ="[object Boolean]",$Q="[object Date]",RE="[object Error]",cJ="[object Function]",JQ="[object GeneratorFunction]",R$="[object Map]",XQ="[object Number]",lJ="[object Object]",mH="[object Promise]",KQ="[object RegExp]",E$="[object Set]",GQ="[object String]",WQ="[object Symbol]",yJ="[object WeakMap]",YQ="[object ArrayBuffer]",O$="[object DataView]",HQ="[object Float32Array]",QQ="[object Float64Array]",zQ="[object Int8Array]",_Q="[object Int16Array]",MQ="[object Int32Array]",qQ="[object Uint8Array]",UQ="[object Uint8ClampedArray]",FQ="[object Uint16Array]",NQ="[object Uint32Array]",EE=/[\\^$.*+?()[\]{}|]/g,OE=/\w*$/,PE=/^\[object .+?Constructor\]$/,VE=/^(?:0|[1-9]\d*)$/,j0={};j0[dJ]=j0[NE]=j0[YQ]=j0[O$]=j0[ZQ]=j0[$Q]=j0[HQ]=j0[QQ]=j0[zQ]=j0[_Q]=j0[MQ]=j0[R$]=j0[XQ]=j0[lJ]=j0[KQ]=j0[E$]=j0[GQ]=j0[WQ]=j0[qQ]=j0[UQ]=j0[FQ]=j0[NQ]=!0;j0[RE]=j0[cJ]=j0[yJ]=!1;var LE=typeof global=="object"&&global&&global.Object===Object&&global,wE=typeof self=="object"&&self&&self.Object===Object&&self,$6=LE||wE||Function("return this")(),RQ=typeof N$=="object"&&N$&&!N$.nodeType&&N$,uH=RQ&&typeof U4=="object"&&U4&&!U4.nodeType&&U4,AE=uH&&uH.exports===RQ,TE=Array.prototype,jE=Function.prototype,P$=Object.prototype,kJ=$6["__core-js_shared__"],lH=function(){var Z=/[^.]+$/.exec(kJ&&kJ.keys&&kJ.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),PQ=jE.toString,S6=P$.hasOwnProperty,V$=P$.toString,hE=RegExp("^"+PQ.call(S6).replace(EE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iH=AE?$6.Buffer:void 0,sH=$6.Symbol,nH=$6.Uint8Array,xE=iJ(Object.getPrototypeOf,Object),vE=Object.create,kE=P$.propertyIsEnumerable,yE=TE.splice,oH=Object.getOwnPropertySymbols,bE=iH?iH.isBuffer:void 0,gE=iJ(Object.keys,Object),bJ=R4($6,"DataView"),V7=R4($6,"Map"),gJ=R4($6,"Promise"),pJ=R4($6,"Set"),mJ=R4($6,"WeakMap"),L7=R4(Object,"create"),pE=M8(bJ),mE=M8(V7),uE=M8(gJ),dE=M8(pJ),cE=M8(mJ),rH=sH?sH.prototype:void 0,aH=rH?rH.valueOf:void 0;_8.prototype.clear=lE;_8.prototype.delete=iE;_8.prototype.get=sE;_8.prototype.has=nE;_8.prototype.set=oE;J6.prototype.clear=rE;J6.prototype.delete=aE;J6.prototype.get=tE;J6.prototype.has=eE;J6.prototype.set=ZO;F4.prototype.clear=$O;F4.prototype.delete=JO;F4.prototype.get=XO;F4.prototype.has=KO;F4.prototype.set=GO;N4.prototype.clear=WO;N4.prototype.delete=YO;N4.prototype.get=HO;N4.prototype.has=QO;N4.prototype.set=zO;var wQ=oH?iJ(oH,Object):pO,z8=FO;if(bJ&&z8(new bJ(new ArrayBuffer(1)))!=O$||V7&&z8(new V7)!=R$||gJ&&z8(gJ.resolve())!=mH||pJ&&z8(new pJ)!=E$||mJ&&z8(new mJ)!=yJ)z8=function(Z){var $=V$.call(Z),J=$==lJ?Z.constructor:void 0,X=J?M8(J):void 0;if(X)switch(X){case pE:return O$;case mE:return R$;case uE:return mH;case dE:return E$;case cE:return yJ}return $};var nJ=Array.isArray,yO=bE||mO;U4.exports=xO});var HX=m5((B$,O4)=>{function HP(Z,$){var J=-1,X=Z==null?0:Z.length,K=0,G=[];while(++J<X){var W=Z[J];if($(W,J,Z))G[K++]=W}return G}function QP(Z,$){var J=-1,X=$.length,K=Z.length;while(++J<X)Z[K+J]=$[J];return Z}function zP(Z,$){var J=-1,X=Z==null?0:Z.length;while(++J<X)if($(Z[J],J,Z))return!0;return!1}function _P(Z,$){var J=-1,X=Array(Z);while(++J<Z)X[J]=$(J);return X}function MP(Z){return function($){return Z($)}}function qP(Z,$){return Z.has($)}function UP(Z,$){return Z==null?void 0:Z[$]}function FP(Z){var $=-1,J=Array(Z.size);return Z.forEach(function(X,K){J[++$]=[K,X]}),J}function NP(Z,$){return function(J){return Z($(J))}}function RP(Z){var $=-1,J=Array(Z.size);return Z.forEach(function(X){J[++$]=X}),J}function U8(Z){var $=-1,J=Z==null?0:Z.length;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}function SP(){this.__data__=A7?A7(null):{},this.size=0}function fP(Z){var $=this.has(Z)&&delete this.__data__[Z];return this.size-=$?1:0,$}function TP(Z){var $=this.__data__;if(A7){var J=$[Z];return J===YX?void 0:J}return k5.call($,Z)?$[Z]:void 0}function jP(Z){var $=this.__data__;return A7?$[Z]!==void 0:k5.call($,Z)}function hP(Z,$){var J=this.__data__;return this.size+=this.has(Z)?0:1,J[Z]=A7&&$===void 0?YX:$,this}function K6(Z){var $=-1,J=Z==null?0:Z.length;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}function xP(){this.__data__=[],this.size=0}function vP(Z){var $=this.__data__,J=v$($,Z);if(J<0)return!1;var X=$.length-1;if(J==X)$.pop();else VP.call($,J,1);return--this.size,!0}function kP(Z){var $=this.__data__,J=v$($,Z);return J<0?void 0:$[J][1]}function yP(Z){return v$(this.__data__,Z)>-1}function bP(Z,$){var J=this.__data__,X=v$(J,Z);if(X<0)++this.size,J.push([Z,$]);else J[X][1]=$;return this}function F8(Z){var $=-1,J=Z==null?0:Z.length;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}function gP(){this.size=0,this.__data__={hash:new U8,map:new(w7||K6),string:new U8}}function pP(Z){var $=k$(this,Z).delete(Z);return this.size-=$?1:0,$}function mP(Z){return k$(this,Z).get(Z)}function uP(Z){return k$(this,Z).has(Z)}function dP(Z,$){var J=k$(this,Z),X=J.size;return J.set(Z,$),this.size+=J.size==X?0:1,this}function T$(Z){var $=-1,J=Z==null?0:Z.length;this.__data__=new F8;while(++$<J)this.add(Z[$])}function cP(Z){return this.__data__.set(Z,YX),this}function lP(Z){return this.__data__.has(Z)}function T6(Z){var $=this.__data__=new K6(Z);this.size=$.size}function iP(){this.__data__=new K6,this.size=0}function sP(Z){var $=this.__data__,J=$.delete(Z);return this.size=$.size,J}function nP(Z){return this.__data__.get(Z)}function oP(Z){return this.__data__.has(Z)}function rP(Z,$){var J=this.__data__;if(J instanceof K6){var X=J.__data__;if(!w7||X.length<uO-1)return X.push([Z,$]),this.size=++J.size,this;J=this.__data__=new F8(X)}return J.set(Z,$),this.size=J.size,this}function aP(Z,$){var J=j$(Z),X=!J&&MV(Z),K=!J&&!X&&WX(Z),G=!J&&!X&&!K&&Yz(Z),W=J||X||K||G,Y=W?_P(Z.length,String):[],H=Y.length;for(var Q in Z)if(($||k5.call(Z,Q))&&!(W&&(Q=="length"||K&&(Q=="offset"||Q=="parent")||G&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||YV(Q,H))))Y.push(Q);return Y}function v$(Z,$){var J=Z.length;while(J--)if(Xz(Z[J][0],$))return J;return-1}function tP(Z,$,J){var X=$(Z);return j$(Z)?X:QP(X,J(Z))}function D7(Z){if(Z==null)return Z===void 0?nO:lO;return q8&&q8 in Object(Z)?GV(Z):_V(Z)}function yQ(Z){return B7(Z)&&D7(Z)==D$}function $z(Z,$,J,X,K){if(Z===$)return!0;if(Z==null||$==null||!B7(Z)&&!B7($))return Z!==Z&&$!==$;return eP(Z,$,J,X,$z,K)}function eP(Z,$,J,X,K,G){var W=j$(Z),Y=j$($),H=W?ZX:f6(Z),Q=Y?ZX:f6($);H=H==D$?E4:H,Q=Q==D$?E4:Q;var z=H==E4,_=Q==E4,M=H==Q;if(M&&WX(Z)){if(!WX($))return!1;W=!0,z=!1}if(M&&!z)return G||(G=new T6),W||Yz(Z)?Jz(Z,$,J,X,K,G):XV(Z,$,H,J,X,K,G);if(!(J&h$)){var U=z&&k5.call(Z,"__wrapped__"),R=_&&k5.call($,"__wrapped__");if(U||R){var E=U?Z.value():Z,F=R?$.value():$;return G||(G=new T6),K(E,F,J,X,G)}}if(!M)return!1;return G||(G=new T6),KV(Z,$,J,X,K,G)}function ZV(Z){if(!Wz(Z)||QV(Z))return!1;var $=Kz(Z)?PP:GP;return $.test(N8(Z))}function $V(Z){return B7(Z)&&Gz(Z.length)&&!!k0[D7(Z)]}function JV(Z){if(!zV(Z))return wP(Z);var $=[];for(var J in Object(Z))if(k5.call(Z,J)&&J!="constructor")$.push(J);return $}function Jz(Z,$,J,X,K,G){var W=J&h$,Y=Z.length,H=$.length;if(Y!=H&&!(W&&H>Y))return!1;var Q=G.get(Z);if(Q&&G.get($))return Q==$;var z=-1,_=!0,M=J&gQ?new T$:void 0;G.set(Z,$),G.set($,Z);while(++z<Y){var U=Z[z],R=$[z];if(X)var E=W?X(R,U,z,$,Z,G):X(U,R,z,Z,$,G);if(E!==void 0){if(E)continue;_=!1;break}if(M){if(!zP($,function(F,q){if(!qP(M,q)&&(U===F||K(U,F,J,X,G)))return M.push(q)})){_=!1;break}}else if(!(U===R||K(U,R,J,X,G))){_=!1;break}}return G.delete(Z),G.delete($),_}function XV(Z,$,J,X,K,G,W){switch(J){case S$:if(Z.byteLength!=$.byteLength||Z.byteOffset!=$.byteOffset)return!1;Z=Z.buffer,$=$.buffer;case nQ:if(Z.byteLength!=$.byteLength||!G(new xQ(Z),new xQ($)))return!1;return!0;case mQ:case uQ:case lQ:return Xz(+Z,+$);case dQ:return Z.name==$.name&&Z.message==$.message;case iQ:case sQ:return Z==$+"";case I$:var Y=FP;case C$:var H=X&h$;if(Y||(Y=RP),Z.size!=$.size&&!H)return!1;var Q=W.get(Z);if(Q)return Q==$;X|=gQ,W.set(Z,$);var z=Jz(Y(Z),Y($),X,K,G,W);return W.delete(Z),z;case sO:if(eJ)return eJ.call(Z)==eJ.call($)}return!1}function KV(Z,$,J,X,K,G){var W=J&h$,Y=bQ(Z),H=Y.length,Q=bQ($),z=Q.length;if(H!=z&&!W)return!1;var _=H;while(_--){var M=Y[_];if(!(W?M in $:k5.call($,M)))return!1}var U=G.get(Z);if(U&&G.get($))return U==$;var R=!0;G.set(Z,$),G.set($,Z);var E=W;while(++_<H){M=Y[_];var F=Z[M],q=$[M];if(X)var N=W?X(q,F,M,$,Z,G):X(F,q,M,Z,$,G);if(!(N===void 0?F===q||K(F,q,J,X,G):N)){R=!1;break}E||(E=M=="constructor")}if(R&&!E){var P=Z.constructor,O=$.constructor;if(P!=O&&(("constructor"in Z)&&("constructor"in $))&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O))R=!1}return G.delete(Z),G.delete($),R}function bQ(Z){return tP(Z,FV,WV)}function k$(Z,$){var J=Z.__data__;return HV($)?J[typeof $=="string"?"string":"hash"]:J.map}function P4(Z,$){var J=UP(Z,$);return ZV(J)?J:void 0}function GV(Z){var $=k5.call(Z,q8),J=Z[q8];try{Z[q8]=void 0;var X=!0}catch(G){}var K=eQ.call(Z);if(X)if($)Z[q8]=J;else delete Z[q8];return K}function YV(Z,$){return $=$==null?pQ:$,!!$&&(typeof Z=="number"||WP.test(Z))&&(Z>-1&&Z%1==0&&Z<$)}function HV(Z){var $=typeof Z;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?Z!=="__proto__":Z===null}function QV(Z){return!!jQ&&jQ in Z}function zV(Z){var $=Z&&Z.constructor,J=typeof $=="function"&&$.prototype||x$;return Z===J}function _V(Z){return eQ.call(Z)}function N8(Z){if(Z!=null){try{return tQ.call(Z)}catch($){}try{return Z+""}catch($){}}return""}function Xz(Z,$){return Z===$||Z!==Z&&$!==$}function qV(Z){return Z!=null&&Gz(Z.length)&&!Kz(Z)}function UV(Z,$){return $z(Z,$)}function Kz(Z){if(!Wz(Z))return!1;var $=D7(Z);return $==cQ||$==cO||$==dO||$==iO}function Gz(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=pQ}function Wz(Z){var $=typeof Z;return Z!=null&&($=="object"||$=="function")}function B7(Z){return Z!=null&&typeof Z=="object"}function FV(Z){return qV(Z)?aP(Z):JV(Z)}function NV(){return[]}function RV(){return!1}var uO=200,YX="__lodash_hash_undefined__",h$=1,gQ=2,pQ=9007199254740991,D$="[object Arguments]",ZX="[object Array]",dO="[object AsyncFunction]",mQ="[object Boolean]",uQ="[object Date]",dQ="[object Error]",cQ="[object Function]",cO="[object GeneratorFunction]",I$="[object Map]",lQ="[object Number]",lO="[object Null]",E4="[object Object]",CQ="[object Promise]",iO="[object Proxy]",iQ="[object RegExp]",C$="[object Set]",sQ="[object String]",sO="[object Symbol]",nO="[object Undefined]",$X="[object WeakMap]",nQ="[object ArrayBuffer]",S$="[object DataView]",oO="[object Float32Array]",rO="[object Float64Array]",aO="[object Int8Array]",tO="[object Int16Array]",eO="[object Int32Array]",ZP="[object Uint8Array]",$P="[object Uint8ClampedArray]",JP="[object Uint16Array]",XP="[object Uint32Array]",KP=/[\\^$.*+?()[\]{}|]/g,GP=/^\[object .+?Constructor\]$/,WP=/^(?:0|[1-9]\d*)$/,k0={};k0[oO]=k0[rO]=k0[aO]=k0[tO]=k0[eO]=k0[ZP]=k0[$P]=k0[JP]=k0[XP]=!0;k0[D$]=k0[ZX]=k0[nQ]=k0[mQ]=k0[S$]=k0[uQ]=k0[dQ]=k0[cQ]=k0[I$]=k0[lQ]=k0[E4]=k0[iQ]=k0[C$]=k0[sQ]=k0[$X]=!1;var oQ=typeof global=="object"&&global&&global.Object===Object&&global,YP=typeof self=="object"&&self&&self.Object===Object&&self,X6=oQ||YP||Function("return this")(),rQ=typeof B$=="object"&&B$&&!B$.nodeType&&B$,SQ=rQ&&typeof O4=="object"&&O4&&!O4.nodeType&&O4,aQ=SQ&&SQ.exports===rQ,aJ=aQ&&oQ.process,fQ=function(){try{return aJ&&aJ.binding&&aJ.binding("util")}catch(Z){}}(),TQ=fQ&&fQ.isTypedArray,EP=Array.prototype,OP=Function.prototype,x$=Object.prototype,tJ=X6["__core-js_shared__"],tQ=OP.toString,k5=x$.hasOwnProperty,jQ=function(){var Z=/[^.]+$/.exec(tJ&&tJ.keys&&tJ.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),eQ=x$.toString,PP=RegExp("^"+tQ.call(k5).replace(KP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hQ=aQ?X6.Buffer:void 0,f$=X6.Symbol,xQ=X6.Uint8Array,Zz=x$.propertyIsEnumerable,VP=EP.splice,q8=f$?f$.toStringTag:void 0,vQ=Object.getOwnPropertySymbols,LP=hQ?hQ.isBuffer:void 0,wP=NP(Object.keys,Object),JX=P4(X6,"DataView"),w7=P4(X6,"Map"),XX=P4(X6,"Promise"),KX=P4(X6,"Set"),GX=P4(X6,"WeakMap"),A7=P4(Object,"create"),AP=N8(JX),BP=N8(w7),DP=N8(XX),IP=N8(KX),CP=N8(GX),kQ=f$?f$.prototype:void 0,eJ=kQ?kQ.valueOf:void 0;U8.prototype.clear=SP;U8.prototype.delete=fP;U8.prototype.get=TP;U8.prototype.has=jP;U8.prototype.set=hP;K6.prototype.clear=xP;K6.prototype.delete=vP;K6.prototype.get=kP;K6.prototype.has=yP;K6.prototype.set=bP;F8.prototype.clear=gP;F8.prototype.delete=pP;F8.prototype.get=mP;F8.prototype.has=uP;F8.prototype.set=dP;T$.prototype.add=T$.prototype.push=cP;T$.prototype.has=lP;T6.prototype.clear=iP;T6.prototype.delete=sP;T6.prototype.get=nP;T6.prototype.has=oP;T6.prototype.set=rP;var WV=!vQ?NV:function(Z){if(Z==null)return[];return Z=Object(Z),HP(vQ(Z),function($){return Zz.call(Z,$)})},f6=D7;if(JX&&f6(new JX(new ArrayBuffer(1)))!=S$||w7&&f6(new w7)!=I$||XX&&f6(XX.resolve())!=CQ||KX&&f6(new KX)!=C$||GX&&f6(new GX)!=$X)f6=function(Z){var $=D7(Z),J=$==E4?Z.constructor:void 0,X=J?N8(J):"";if(X)switch(X){case AP:return S$;case BP:return I$;case DP:return CQ;case IP:return C$;case CP:return $X}return $};var MV=yQ(function(){return arguments}())?yQ:function(Z){return B7(Z)&&k5.call(Z,"callee")&&!Zz.call(Z,"callee")},j$=Array.isArray,WX=LP||RV,Yz=TQ?MP(TQ):$V;O4.exports=UV});var Qz=m5((Hz)=>{Object.defineProperty(Hz,"__esModule",{value:!0});var EV=rJ(),OV=HX(),QX;(function(Z){function $(G={},W={},Y=!1){if(typeof G!=="object")G={};if(typeof W!=="object")W={};let H=EV(W);if(!Y)H=Object.keys(H).reduce((Q,z)=>{if(H[z]!=null)Q[z]=H[z];return Q},{});for(let Q in G)if(G[Q]!==void 0&&W[Q]===void 0)H[Q]=G[Q];return Object.keys(H).length>0?H:void 0}Z.compose=$;function J(G={},W={}){if(typeof G!=="object")G={};if(typeof W!=="object")W={};const Y=Object.keys(G).concat(Object.keys(W)).reduce((H,Q)=>{if(!OV(G[Q],W[Q]))H[Q]=W[Q]===void 0?null:W[Q];return H},{});return Object.keys(Y).length>0?Y:void 0}Z.diff=J;function X(G={},W={}){G=G||{};const Y=Object.keys(W).reduce((H,Q)=>{if(W[Q]!==G[Q]&&G[Q]!==void 0)H[Q]=W[Q];return H},{});return Object.keys(G).reduce((H,Q)=>{if(G[Q]!==W[Q]&&W[Q]===void 0)H[Q]=null;return H},Y)}Z.invert=X;function K(G,W,Y=!1){if(typeof G!=="object")return W;if(typeof W!=="object")return;if(!Y)return W;const H=Object.keys(W).reduce((Q,z)=>{if(G[z]===void 0)Q[z]=W[z];return Q},{});return Object.keys(H).length>0?H:void 0}Z.transform=K})(QX||(QX={}));Hz.default=QX});var _X=m5((zz)=>{Object.defineProperty(zz,"__esModule",{value:!0});var zX;(function(Z){function $(J){if(typeof J.delete==="number")return J.delete;else if(typeof J.retain==="number")return J.retain;else if(typeof J.retain==="object"&&J.retain!==null)return 1;else return typeof J.insert==="string"?J.insert.length:1}Z.length=$})(zX||(zX={}));zz.default=zX});var Uz=m5((qz)=>{Object.defineProperty(qz,"__esModule",{value:!0});var _z=_X();class Mz{constructor(Z){this.ops=Z,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(Z){if(!Z)Z=1/0;const $=this.ops[this.index];if($){const J=this.offset,X=_z.default.length($);if(Z>=X-J)Z=X-J,this.index+=1,this.offset=0;else this.offset+=Z;if(typeof $.delete==="number")return{delete:Z};else{const K={};if($.attributes)K.attributes=$.attributes;if(typeof $.retain==="number")K.retain=Z;else if(typeof $.retain==="object"&&$.retain!==null)K.retain=$.retain;else if(typeof $.insert==="string")K.insert=$.insert.substr(J,Z);else K.insert=$.insert;return K}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){if(this.ops[this.index])return _z.default.length(this.ops[this.index])-this.offset;else return 1/0}peekType(){const Z=this.ops[this.index];if(Z)if(typeof Z.delete==="number")return"delete";else if(typeof Z.retain==="number"||typeof Z.retain==="object"&&Z.retain!==null)return"retain";else return"insert";return"retain"}rest(){if(!this.hasNext())return[];else if(this.offset===0)return this.ops.slice(this.index);else{const Z=this.offset,$=this.index,J=this.next(),X=this.ops.slice(this.index);return this.offset=Z,this.index=$,[J].concat(X)}}}qz.default=Mz});var s1=m5((Nz,b$)=>{Object.defineProperty(Nz,"__esModule",{value:!0});Nz.AttributeMap=Nz.OpIterator=Nz.Op=void 0;var y$=pH(),wV=rJ(),MX=HX(),R8=Qz();Nz.AttributeMap=R8.default;var G6=_X();Nz.Op=G6.default;var G5=Uz();Nz.OpIterator=G5.default;var AV=String.fromCharCode(0),Fz=(Z,$)=>{if(typeof Z!=="object"||Z===null)throw new Error(`cannot retain a ${typeof Z}`);if(typeof $!=="object"||$===null)throw new Error(`cannot retain a ${typeof $}`);const J=Object.keys(Z)[0];if(!J||J!==Object.keys($)[0])throw new Error(`embed types not matched: ${J} != ${Object.keys($)[0]}`);return[J,Z[J],$[J]]};class t0{constructor(Z){if(Array.isArray(Z))this.ops=Z;else if(Z!=null&&Array.isArray(Z.ops))this.ops=Z.ops;else this.ops=[]}static registerEmbed(Z,$){this.handlers[Z]=$}static unregisterEmbed(Z){delete this.handlers[Z]}static getHandler(Z){const $=this.handlers[Z];if(!$)throw new Error(`no handlers for embed type "${Z}"`);return $}insert(Z,$){const J={};if(typeof Z==="string"&&Z.length===0)return this;if(J.insert=Z,$!=null&&typeof $==="object"&&Object.keys($).length>0)J.attributes=$;return this.push(J)}delete(Z){if(Z<=0)return this;return this.push({delete:Z})}retain(Z,$){if(typeof Z==="number"&&Z<=0)return this;const J={retain:Z};if($!=null&&typeof $==="object"&&Object.keys($).length>0)J.attributes=$;return this.push(J)}push(Z){let $=this.ops.length,J=this.ops[$-1];if(Z=wV(Z),typeof J==="object"){if(typeof Z.delete==="number"&&typeof J.delete==="number")return this.ops[$-1]={delete:J.delete+Z.delete},this;if(typeof J.delete==="number"&&Z.insert!=null){if($-=1,J=this.ops[$-1],typeof J!=="object")return this.ops.unshift(Z),this}if(MX(Z.attributes,J.attributes)){if(typeof Z.insert==="string"&&typeof J.insert==="string"){if(this.ops[$-1]={insert:J.insert+Z.insert},typeof Z.attributes==="object")this.ops[$-1].attributes=Z.attributes;return this}else if(typeof Z.retain==="number"&&typeof J.retain==="number"){if(this.ops[$-1]={retain:J.retain+Z.retain},typeof Z.attributes==="object")this.ops[$-1].attributes=Z.attributes;return this}}}if($===this.ops.length)this.ops.push(Z);else this.ops.splice($,0,Z);return this}chop(){const Z=this.ops[this.ops.length-1];if(Z&&typeof Z.retain==="number"&&!Z.attributes)this.ops.pop();return this}filter(Z){return this.ops.filter(Z)}forEach(Z){this.ops.forEach(Z)}map(Z){return this.ops.map(Z)}partition(Z){const $=[],J=[];return this.forEach((X)=>{(Z(X)?$:J).push(X)}),[$,J]}reduce(Z,$){return this.ops.reduce(Z,$)}changeLength(){return this.reduce((Z,$)=>{if($.insert)return Z+G6.default.length($);else if($.delete)return Z-$.delete;return Z},0)}length(){return this.reduce((Z,$)=>{return Z+G6.default.length($)},0)}slice(Z=0,$=1/0){const J=[],X=new G5.default(this.ops);let K=0;while(K<$&&X.hasNext()){let G;if(K<Z)G=X.next(Z-K);else G=X.next($-K),J.push(G);K+=G6.default.length(G)}return new t0(J)}compose(Z){const $=new G5.default(this.ops),J=new G5.default(Z.ops),X=[],K=J.peek();if(K!=null&&typeof K.retain==="number"&&K.attributes==null){let W=K.retain;while($.peekType()==="insert"&&$.peekLength()<=W)W-=$.peekLength(),X.push($.next());if(K.retain-W>0)J.next(K.retain-W)}const G=new t0(X);while($.hasNext()||J.hasNext())if(J.peekType()==="insert")G.push(J.next());else if($.peekType()==="delete")G.push($.next());else{const W=Math.min($.peekLength(),J.peekLength()),Y=$.next(W),H=J.next(W);if(H.retain){const Q={};if(typeof Y.retain==="number")Q.retain=typeof H.retain==="number"?W:H.retain;else if(typeof H.retain==="number")if(Y.retain==null)Q.insert=Y.insert;else Q.retain=Y.retain;else{const _=Y.retain==null?"insert":"retain",[M,U,R]=Fz(Y[_],H.retain),E=t0.getHandler(M);Q[_]={[M]:E.compose(U,R,_==="retain")}}const z=R8.default.compose(Y.attributes,H.attributes,typeof Y.retain==="number");if(z)Q.attributes=z;if(G.push(Q),!J.hasNext()&&MX(G.ops[G.ops.length-1],Q)){const _=new t0($.rest());return G.concat(_).chop()}}else if(typeof H.delete==="number"&&(typeof Y.retain==="number"||typeof Y.retain==="object"&&Y.retain!==null))G.push(H)}return G.chop()}concat(Z){const $=new t0(this.ops.slice());if(Z.ops.length>0)$.push(Z.ops[0]),$.ops=$.ops.concat(Z.ops.slice(1));return $}diff(Z,$){if(this.ops===Z.ops)return new t0;const J=[this,Z].map((Y)=>{return Y.map((H)=>{if(H.insert!=null)return typeof H.insert==="string"?H.insert:AV;throw new Error("diff() called "+(Y===Z?"on":"with")+" non-document")}).join("")}),X=new t0,K=y$(J[0],J[1],$,!0),G=new G5.default(this.ops),W=new G5.default(Z.ops);return K.forEach((Y)=>{let H=Y[1].length;while(H>0){let Q=0;switch(Y[0]){case y$.INSERT:Q=Math.min(W.peekLength(),H),X.push(W.next(Q));break;case y$.DELETE:Q=Math.min(H,G.peekLength()),G.next(Q),X.delete(Q);break;case y$.EQUAL:Q=Math.min(G.peekLength(),W.peekLength(),H);const z=G.next(Q),_=W.next(Q);if(MX(z.insert,_.insert))X.retain(Q,R8.default.diff(z.attributes,_.attributes));else X.push(_).delete(Q);break}H-=Q}}),X.chop()}eachLine(Z,$="\n"){const J=new G5.default(this.ops);let X=new t0,K=0;while(J.hasNext()){if(J.peekType()!=="insert")return;const G=J.peek(),W=G6.default.length(G)-J.peekLength(),Y=typeof G.insert==="string"?G.insert.indexOf($,W)-W:-1;if(Y<0)X.push(J.next());else if(Y>0)X.push(J.next(Y));else{if(Z(X,J.next(1).attributes||{},K)===!1)return;K+=1,X=new t0}}if(X.length()>0)Z(X,{},K)}invert(Z){const $=new t0;return this.reduce((J,X)=>{if(X.insert)$.delete(G6.default.length(X));else if(typeof X.retain==="number"&&X.attributes==null)return $.retain(X.retain),J+X.retain;else if(X.delete||typeof X.retain==="number"){const K=X.delete||X.retain;return Z.slice(J,J+K).forEach((W)=>{if(X.delete)$.push(W);else if(X.retain&&X.attributes)$.retain(G6.default.length(W),R8.default.invert(X.attributes,W.attributes))}),J+K}else if(typeof X.retain==="object"&&X.retain!==null){const K=Z.slice(J,J+1),G=new G5.default(K.ops).next(),[W,Y,H]=Fz(X.retain,G.insert),Q=t0.getHandler(W);return $.retain({[W]:Q.invert(Y,H)},R8.default.invert(X.attributes,G.attributes)),J+1}return J},0),$.chop()}transform(Z,$=!1){if($=!!$,typeof Z==="number")return this.transformPosition(Z,$);const J=Z,X=new G5.default(this.ops),K=new G5.default(J.ops),G=new t0;while(X.hasNext()||K.hasNext())if(X.peekType()==="insert"&&($||K.peekType()!=="insert"))G.retain(G6.default.length(X.next()));else if(K.peekType()==="insert")G.push(K.next());else{const W=Math.min(X.peekLength(),K.peekLength()),Y=X.next(W),H=K.next(W);if(Y.delete)continue;else if(H.delete)G.push(H);else{const Q=Y.retain,z=H.retain;let _=typeof z==="object"&&z!==null?z:W;if(typeof Q==="object"&&Q!==null&&typeof z==="object"&&z!==null){const M=Object.keys(Q)[0];if(M===Object.keys(z)[0]){const U=t0.getHandler(M);if(U)_={[M]:U.transform(Q[M],z[M],$)}}}G.retain(_,R8.default.transform(Y.attributes,H.attributes,$))}}return G.chop()}transformPosition(Z,$=!1){$=!!$;const J=new G5.default(this.ops);let X=0;while(J.hasNext()&&X<=Z){const K=J.peekLength(),G=J.peekType();if(J.next(),G==="delete"){Z-=Math.min(K,Z-X);continue}else if(G==="insert"&&(X<Z||!$))Z+=K;X+=K}return Z}}t0.Op=G6.default;t0.OpIterator=G5.default;t0.AttributeMap=R8.default;t0.handlers={};Nz.default=t0;if(typeof b$==="object")b$.exports=t0,b$.exports.default=t0});var Pz=m5((FT,FX)=>{function I7(){}function SV(Z,$,J){this.fn=Z,this.context=$,this.once=J||!1}function Oz(Z,$,J,X,K){if(typeof J!=="function")throw new TypeError("The listener must be a function");var G=new SV(J,X||Z,K),W=C1?C1+$:$;if(!Z._events[W])Z._events[W]=G,Z._eventsCount++;else if(!Z._events[W].fn)Z._events[W].push(G);else Z._events[W]=[Z._events[W],G];return Z}function p$(Z,$){if(--Z._eventsCount===0)Z._events=new I7;else delete Z._events[$]}function V1(){this._events=new I7,this._eventsCount=0}var CV=Object.prototype.hasOwnProperty,C1="~";if(Object.create){if(I7.prototype=Object.create(null),!new I7().__proto__)C1=!1}V1.prototype.eventNames=function Z(){var $=[],J,X;if(this._eventsCount===0)return $;for(X in J=this._events)if(CV.call(J,X))$.push(C1?X.slice(1):X);if(Object.getOwnPropertySymbols)return $.concat(Object.getOwnPropertySymbols(J));return $};V1.prototype.listeners=function Z($){var J=C1?C1+$:$,X=this._events[J];if(!X)return[];if(X.fn)return[X.fn];for(var K=0,G=X.length,W=new Array(G);K<G;K++)W[K]=X[K].fn;return W};V1.prototype.listenerCount=function Z($){var J=C1?C1+$:$,X=this._events[J];if(!X)return 0;if(X.fn)return 1;return X.length};V1.prototype.emit=function Z($,J,X,K,G,W){var Y=C1?C1+$:$;if(!this._events[Y])return!1;var H=this._events[Y],Q=arguments.length,z,_;if(H.fn){if(H.once)this.removeListener($,H.fn,void 0,!0);switch(Q){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,J),!0;case 3:return H.fn.call(H.context,J,X),!0;case 4:return H.fn.call(H.context,J,X,K),!0;case 5:return H.fn.call(H.context,J,X,K,G),!0;case 6:return H.fn.call(H.context,J,X,K,G,W),!0}for(_=1,z=new Array(Q-1);_<Q;_++)z[_-1]=arguments[_];H.fn.apply(H.context,z)}else{var M=H.length,U;for(_=0;_<M;_++){if(H[_].once)this.removeListener($,H[_].fn,void 0,!0);switch(Q){case 1:H[_].fn.call(H[_].context);break;case 2:H[_].fn.call(H[_].context,J);break;case 3:H[_].fn.call(H[_].context,J,X);break;case 4:H[_].fn.call(H[_].context,J,X,K);break;default:if(!z)for(U=1,z=new Array(Q-1);U<Q;U++)z[U-1]=arguments[U];H[_].fn.apply(H[_].context,z)}}}return!0};V1.prototype.on=function Z($,J,X){return Oz(this,$,J,X,!1)};V1.prototype.once=function Z($,J,X){return Oz(this,$,J,X,!0)};V1.prototype.removeListener=function Z($,J,X,K){var G=C1?C1+$:$;if(!this._events[G])return this;if(!J)return p$(this,G),this;var W=this._events[G];if(W.fn){if(W.fn===J&&(!K||W.once)&&(!X||W.context===X))p$(this,G)}else{for(var Y=0,H=[],Q=W.length;Y<Q;Y++)if(W[Y].fn!==J||K&&!W[Y].once||X&&W[Y].context!==X)H.push(W[Y]);if(H.length)this._events[G]=H.length===1?H[0]:H;else p$(this,G)}return this};V1.prototype.removeAllListeners=function Z($){var J;if($){if(J=C1?C1+$:$,this._events[J])p$(this,J)}else this._events=new I7,this._eventsCount=0;return this};V1.prototype.off=V1.prototype.removeListener;V1.prototype.addListener=V1.prototype.on;V1.prefixed=C1;V1.EventEmitter=V1;if(typeof FX!=="undefined")FX.exports=V1});var n_=m5((H9,cX)=>{/*! For license information please see quill-cursors.js.LICENSE.txt */(function(Z,$){typeof H9=="object"&&typeof cX=="object"?cX.exports=$():typeof define=="function"&&define.amd?define([],$):typeof H9=="object"?H9.QuillCursors=$():Z.QuillCursors=$()})(self,()=>(()=>{var Z={582:(K,G,W)=>{W.d(G,{Z:()=>_});var Y=W(81),H=W.n(Y),Q=W(645),z=W.n(Q)()(H());z.push([K.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const _=z},645:(K)=>{K.exports=function(G){var W=[];return W.toString=function(){return this.map(function(Y){var H="",Q=Y[5]!==void 0;return Y[4]&&(H+="@supports (".concat(Y[4],") {")),Y[2]&&(H+="@media ".concat(Y[2]," {")),Q&&(H+="@layer".concat(Y[5].length>0?" ".concat(Y[5]):""," {")),H+=G(Y),Q&&(H+="}"),Y[2]&&(H+="}"),Y[4]&&(H+="}"),H}).join("")},W.i=function(Y,H,Q,z,_){typeof Y=="string"&&(Y=[[null,Y,void 0]]);var M={};if(Q)for(var U=0;U<this.length;U++){var R=this[U][0];R!=null&&(M[R]=!0)}for(var E=0;E<Y.length;E++){var F=[].concat(Y[E]);Q&&M[F[0]]||(_!==void 0&&(F[5]===void 0||(F[1]="@layer".concat(F[5].length>0?" ".concat(F[5]):""," {").concat(F[1],"}")),F[5]=_),H&&(F[2]?(F[1]="@media ".concat(F[2]," {").concat(F[1],"}"),F[2]=H):F[2]=H),z&&(F[4]?(F[1]="@supports (".concat(F[4],") {").concat(F[1],"}"),F[4]=z):F[4]="".concat(z)),W.push(F))}},W}},81:(K)=>{K.exports=function(G){return G[1]}},529:(K)=>{var G=-1;function W(q,N,P,O){if(q===N)return q?[[0,q]]:[];if(P!=null){var D=function(Z0,v,h){var T=typeof h=="number"?{index:h,length:0}:h.oldRange,j=typeof h=="number"?null:h.newRange,i=Z0.length,n=v.length;if(T.length===0&&(j===null||j.length===0)){var M0=T.index,N0=Z0.slice(0,M0),C0=Z0.slice(M0),V0=j?j.index:null,a=M0+n-i;if((V0===null||V0===a)&&!(a<0||a>n)){var g0=v.slice(0,a);if((B=v.slice(a))===C0){var V=Math.min(M0,a);if((u=N0.slice(0,V))===(s=g0.slice(0,V)))return E(u,N0.slice(V),g0.slice(V),C0)}}if(V0===null||V0===M0){var A=M0,B=(g0=v.slice(0,A),v.slice(A));if(g0===N0){var I=Math.min(i-A,n-A);if((o=C0.slice(C0.length-I))===(Q0=B.slice(B.length-I)))return E(N0,C0.slice(0,C0.length-I),B.slice(0,B.length-I),o)}}}if(T.length>0&&j&&j.length===0){var u=Z0.slice(0,T.index),o=Z0.slice(T.index+T.length);if(!(n<(V=u.length)+(I=o.length))){var s=v.slice(0,V),Q0=v.slice(n-I);if(u===s&&o===Q0)return E(u,Z0.slice(V,i-I),v.slice(V,n-I),o)}}return null}(q,N,P);if(D)return D}var x=H(q,N),k=q.substring(0,x);x=Q(q=q.substring(x),N=N.substring(x));var p=q.substring(q.length-x),e=function(Z0,v){var h;if(!Z0)return[[1,v]];if(!v)return[[G,Z0]];var T=Z0.length>v.length?Z0:v,j=Z0.length>v.length?v:Z0,i=T.indexOf(j);if(i!==-1)return h=[[1,T.substring(0,i)],[0,j],[1,T.substring(i+j.length)]],Z0.length>v.length&&(h[0][0]=h[2][0]=G),h;if(j.length===1)return[[G,Z0],[1,v]];var n=function(A,B){var I=A.length>B.length?A:B,u=A.length>B.length?B:A;if(I.length<4||2*u.length<I.length)return null;function o(z1,J0,g){for(var Y0,x0,B0,q0,y0=z1.substring(g,g+Math.floor(z1.length/4)),E0=-1,L0="";(E0=J0.indexOf(y0,E0+1))!==-1;){var w0=H(z1.substring(g),J0.substring(E0)),Z1=Q(z1.substring(0,g),J0.substring(0,E0));L0.length<Z1+w0&&(L0=J0.substring(E0-Z1,E0)+J0.substring(E0,E0+w0),Y0=z1.substring(0,g-Z1),x0=z1.substring(g+w0),B0=J0.substring(0,E0-Z1),q0=J0.substring(E0+w0))}return 2*L0.length>=z1.length?[Y0,x0,B0,q0,L0]:null}var s,Q0,G0,z0,e0,Q1=o(I,u,Math.ceil(I.length/4)),w1=o(I,u,Math.ceil(I.length/2));return Q1||w1?(s=w1?Q1&&Q1[4].length>w1[4].length?Q1:w1:Q1,A.length>B.length?(Q0=s[0],G0=s[1],z0=s[2],e0=s[3]):(z0=s[0],e0=s[1],Q0=s[2],G0=s[3]),[Q0,G0,z0,e0,s[4]]):null}(Z0,v);if(n){var M0=n[0],N0=n[1],C0=n[2],V0=n[3],a=n[4],g0=W(M0,C0),V=W(N0,V0);return g0.concat([[0,a]],V)}return function(A,B){for(var I=A.length,u=B.length,o=Math.ceil((I+u)/2),s=o,Q0=2*o,G0=new Array(Q0),z0=new Array(Q0),e0=0;e0<Q0;e0++)G0[e0]=-1,z0[e0]=-1;G0[s+1]=0,z0[s+1]=0;for(var Q1=I-u,w1=Q1%2!=0,z1=0,J0=0,g=0,Y0=0,x0=0;x0<o;x0++){for(var B0=-x0+z1;B0<=x0-J0;B0+=2){for(var q0=s+B0,y0=(S0=B0===-x0||B0!==x0&&G0[q0-1]<G0[q0+1]?G0[q0+1]:G0[q0-1]+1)-B0;S0<I&&y0<u&&A.charAt(S0)===B.charAt(y0);)S0++,y0++;if(G0[q0]=S0,S0>I)J0+=2;else if(y0>u)z1+=2;else if(w1&&(w0=s+Q1-B0)>=0&&w0<Q0&&z0[w0]!==-1&&S0>=(L0=I-z0[w0]))return Y(A,B,S0,y0)}for(var E0=-x0+g;E0<=x0-Y0;E0+=2){for(var L0,w0=s+E0,Z1=(L0=E0===-x0||E0!==x0&&z0[w0-1]<z0[w0+1]?z0[w0+1]:z0[w0-1]+1)-E0;L0<I&&Z1<u&&A.charAt(I-L0-1)===B.charAt(u-Z1-1);)L0++,Z1++;if(z0[w0]=L0,L0>I)Y0+=2;else if(Z1>u)g+=2;else if(!w1){var S0;if((q0=s+Q1-E0)>=0&&q0<Q0&&G0[q0]!==-1){if(y0=s+(S0=G0[q0])-q0,S0>=(L0=I-L0))return Y(A,B,S0,y0)}}}}return[[G,A],[1,B]]}(Z0,v)}(q=q.substring(0,q.length-x),N=N.substring(0,N.length-x));return k&&e.unshift([0,k]),p&&e.push([0,p]),z(e,O),e}function Y(q,N,P,O){var D=q.substring(0,P),x=N.substring(0,O),k=q.substring(P),p=N.substring(O),e=W(D,x),Z0=W(k,p);return e.concat(Z0)}function H(q,N){if(!q||!N||q.charAt(0)!==N.charAt(0))return 0;for(var P=0,O=Math.min(q.length,N.length),D=O,x=0;P<D;)q.substring(x,D)==N.substring(x,D)?x=P=D:O=D,D=Math.floor((O-P)/2+P);return _(q.charCodeAt(D-1))&&D--,D}function Q(q,N){if(!q||!N||q.slice(-1)!==N.slice(-1))return 0;for(var P=0,O=Math.min(q.length,N.length),D=O,x=0;P<D;)q.substring(q.length-D,q.length-x)==N.substring(N.length-D,N.length-x)?x=P=D:O=D,D=Math.floor((O-P)/2+P);return M(q.charCodeAt(q.length-D))&&D--,D}function z(q,N){q.push([0,""]);for(var P,O=0,D=0,x=0,k="",p="";O<q.length;)if(O<q.length-1&&!q[O][1])q.splice(O,1);else switch(q[O][0]){case 1:x++,p+=q[O][1],O++;break;case G:D++,k+=q[O][1],O++;break;case 0:var e=O-x-D-1;if(N){if(e>=0&&R(q[e][1])){var Z0=q[e][1].slice(-1);if(q[e][1]=q[e][1].slice(0,-1),k=Z0+k,p=Z0+p,!q[e][1]){q.splice(e,1),O--;var v=e-1;q[v]&&q[v][0]===1&&(x++,p=q[v][1]+p,v--),q[v]&&q[v][0]===G&&(D++,k=q[v][1]+k,v--),e=v}}U(q[O][1])&&(Z0=q[O][1].charAt(0),q[O][1]=q[O][1].slice(1),k+=Z0,p+=Z0)}if(O<q.length-1&&!q[O][1]){q.splice(O,1);break}if(k.length>0||p.length>0){k.length>0&&p.length>0&&((P=H(p,k))!==0&&(e>=0?q[e][1]+=p.substring(0,P):(q.splice(0,0,[0,p.substring(0,P)]),O++),p=p.substring(P),k=k.substring(P)),(P=Q(p,k))!==0&&(q[O][1]=p.substring(p.length-P)+q[O][1],p=p.substring(0,p.length-P),k=k.substring(0,k.length-P)));var h=x+D;k.length===0&&p.length===0?(q.splice(O-h,h),O-=h):k.length===0?(q.splice(O-h,h,[1,p]),O=O-h+1):p.length===0?(q.splice(O-h,h,[G,k]),O=O-h+1):(q.splice(O-h,h,[G,k],[1,p]),O=O-h+2)}O!==0&&q[O-1][0]===0?(q[O-1][1]+=q[O][1],q.splice(O,1)):O++,x=0,D=0,k="",p=""}q[q.length-1][1]===""&&q.pop();var T=!1;for(O=1;O<q.length-1;)q[O-1][0]===0&&q[O+1][0]===0&&(q[O][1].substring(q[O][1].length-q[O-1][1].length)===q[O-1][1]?(q[O][1]=q[O-1][1]+q[O][1].substring(0,q[O][1].length-q[O-1][1].length),q[O+1][1]=q[O-1][1]+q[O+1][1],q.splice(O-1,1),T=!0):q[O][1].substring(0,q[O+1][1].length)==q[O+1][1]&&(q[O-1][1]+=q[O+1][1],q[O][1]=q[O][1].substring(q[O+1][1].length)+q[O+1][1],q.splice(O+1,1),T=!0)),O++;T&&z(q,N)}function _(q){return q>=55296&&q<=56319}function M(q){return q>=56320&&q<=57343}function U(q){return M(q.charCodeAt(0))}function R(q){return _(q.charCodeAt(q.length-1))}function E(q,N,P,O){return R(q)||U(O)?null:function(D){for(var x=[],k=0;k<D.length;k++)D[k][1].length>0&&x.push(D[k]);return x}([[0,q],[G,N],[1,P],[0,O]])}function F(q,N,P){return W(q,N,P,!0)}F.INSERT=1,F.DELETE=G,F.EQUAL=0,K.exports=F},465:(K,G,W)=>{K=W.nmd(K);var Y="__lodash_hash_undefined__",H=9007199254740991,Q="[object Arguments]",z="[object Boolean]",_="[object Date]",M="[object Function]",U="[object GeneratorFunction]",R="[object Map]",E="[object Number]",F="[object Object]",q="[object Promise]",N="[object RegExp]",P="[object Set]",O="[object String]",D="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",p="[object DataView]",e="[object Float32Array]",Z0="[object Float64Array]",v="[object Int8Array]",h="[object Int16Array]",T="[object Int32Array]",j="[object Uint8Array]",i="[object Uint8ClampedArray]",n="[object Uint16Array]",M0="[object Uint32Array]",N0=/\w*$/,C0=/^\[object .+?Constructor\]$/,V0=/^(?:0|[1-9]\d*)$/,a={};a[Q]=a["[object Array]"]=a[k]=a[p]=a[z]=a[_]=a[e]=a[Z0]=a[v]=a[h]=a[T]=a[R]=a[E]=a[F]=a[N]=a[P]=a[O]=a[D]=a[j]=a[i]=a[n]=a[M0]=!0,a["[object Error]"]=a[M]=a[x]=!1;var g0=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,V=typeof self=="object"&&self&&self.Object===Object&&self,A=g0||V||Function("return this")(),B=G&&!G.nodeType&&G,I=B&&K&&!K.nodeType&&K,u=I&&I.exports===B;function o(L,C){return L.set(C[0],C[1]),L}function s(L,C){return L.add(C),L}function Q0(L,C,b,c){var K0=-1,O0=L?L.length:0;for(c&&O0&&(b=L[++K0]);++K0<O0;)b=C(b,L[K0],K0,L);return b}function G0(L){var C=!1;if(L!=null&&typeof L.toString!="function")try{C=!!(L+"")}catch(b){}return C}function z0(L){var C=-1,b=Array(L.size);return L.forEach(function(c,K0){b[++C]=[K0,c]}),b}function e0(L,C){return function(b){return L(C(b))}}function Q1(L){var C=-1,b=Array(L.size);return L.forEach(function(c){b[++C]=c}),b}var w1,z1=Array.prototype,J0=Function.prototype,g=Object.prototype,Y0=A["__core-js_shared__"],x0=(w1=/[^.]+$/.exec(Y0&&Y0.keys&&Y0.keys.IE_PROTO||""))?"Symbol(src)_1."+w1:"",B0=J0.toString,q0=g.hasOwnProperty,y0=g.toString,E0=RegExp("^"+B0.call(q0).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L0=u?A.Buffer:void 0,w0=A.Symbol,Z1=A.Uint8Array,S0=e0(Object.getPrototypeOf,Object),S4=Object.create,m6=g.propertyIsEnumerable,Q9=z1.splice,p7=Object.getOwnPropertySymbols,z9=L0?L0.isBuffer:void 0,_9=e0(Object.keys,Object),f4=P5(A,"DataView"),z6=P5(A,"Map"),u6=P5(A,"Promise"),Q5=P5(A,"Set"),m1=P5(A,"WeakMap"),u1=P5(Object,"create"),V8=L5(f4),E5=L5(z6),L8=L5(u6),d6=L5(Q5),m7=L5(m1),T4=w0?w0.prototype:void 0,j4=T4?T4.valueOf:void 0;function O5(L){var C=-1,b=L?L.length:0;for(this.clear();++C<b;){var c=L[C];this.set(c[0],c[1])}}function S1(L){var C=-1,b=L?L.length:0;for(this.clear();++C<b;){var c=L[C];this.set(c[0],c[1])}}function d1(L){var C=-1,b=L?L.length:0;for(this.clear();++C<b;){var c=L[C];this.set(c[0],c[1])}}function _6(L){this.__data__=new S1(L)}function z5(L,C,b){var c=L[C];q0.call(L,C)&&c7(c,b)&&(b!==void 0||(C in L))||(L[C]=b)}function w8(L,C){for(var b=L.length;b--;)if(c7(L[b][0],C))return b;return-1}function _5(L,C,b,c,K0,O0,f0){var _0;if(c&&(_0=O0?c(L,K0,O0,f0):c(L)),_0!==void 0)return _0;if(!R0(L))return L;var s0=w(L);if(s0){if(_0=function($0){var P0=$0.length,n0=$0.constructor(P0);return P0&&typeof $0[0]=="string"&&q0.call($0,"index")&&(n0.index=$0.index,n0.input=$0.input),n0}(L),!C)return function($0,P0){var n0=-1,H0=$0.length;for(P0||(P0=Array(H0));++n0<H0;)P0[n0]=$0[n0];return P0}(L,_0)}else{var p0=V5(L),w5=p0==M||p0==U;if(y(L))return function($0,P0){if(P0)return $0.slice();var n0=new $0.constructor($0.length);return $0.copy(n0),n0}(L,C);if(p0==F||p0==Q||w5&&!O0){if(G0(L))return O0?L:{};if(_0=function($0){return typeof $0.constructor!="function"||M6($0)?{}:R0(P0=S0($0))?S4(P0):{};var P0}(w5?{}:L),!C)return function($0,P0){return u7($0,h4($0),P0)}(L,function($0,P0){return $0&&u7(P0,W0(P0),$0)}(_0,L))}else{if(!a[p0])return O0?L:{};_0=function($0,P0,n0,H0){var F0,M5=$0.constructor;switch(P0){case k:return A8($0);case z:case _:return new M5(+$0);case p:return function(U0,_1){var c0=_1?A8(U0.buffer):U0.buffer;return new U0.constructor(c0,U0.byteOffset,U0.byteLength)}($0,H0);case e:case Z0:case v:case h:case T:case j:case i:case n:case M0:return function(U0,_1){var c0=_1?A8(U0.buffer):U0.buffer;return new U0.constructor(c0,U0.byteOffset,U0.length)}($0,H0);case R:return function(U0,_1,c0){return Q0(_1?c0(z0(U0),!0):z0(U0),o,new U0.constructor)}($0,H0,n0);case E:case O:return new M5($0);case N:return function(U0){var _1=new U0.constructor(U0.source,N0.exec(U0));return _1.lastIndex=U0.lastIndex,_1}($0);case P:return function(U0,_1,c0){return Q0(_1?c0(Q1(U0),!0):Q1(U0),s,new U0.constructor)}($0,H0,n0);case D:return F0=$0,j4?Object(j4.call(F0)):{}}}(L,p0,_5,C)}}f0||(f0=new _6);var g5=f0.get(L);if(g5)return g5;if(f0.set(L,_0),!s0)var q6=b?function($0){return function(P0,n0,H0){var F0=n0(P0);return w(P0)?F0:function(M5,U0){for(var _1=-1,c0=U0.length,q5=M5.length;++_1<c0;)M5[q5+_1]=U0[_1];return M5}(F0,H0(P0))}($0,W0,h4)}(L):W0(L);return function($0,P0){for(var n0=-1,H0=$0?$0.length:0;++n0<H0&&P0($0[n0],n0)!==!1;);}(q6||L,function($0,P0){q6&&($0=L[P0=$0]),z5(_0,P0,_5($0,C,b,c,P0,L,f0))}),_0}function A8(L){var C=new L.constructor(L.byteLength);return new Z1(C).set(new Z1(L)),C}function u7(L,C,b,c){b||(b={});for(var K0=-1,O0=C.length;++K0<O0;){var f0=C[K0],_0=c?c(b[f0],L[f0],f0,b,L):void 0;z5(b,f0,_0===void 0?L[f0]:_0)}return b}function b5(L,C){var b,c,K0=L.__data__;return((c=typeof(b=C))=="string"||c=="number"||c=="symbol"||c=="boolean"?b!=="__proto__":b===null)?K0[typeof C=="string"?"string":"hash"]:K0.map}function P5(L,C){var b=function(c,K0){return c==null?void 0:c[K0]}(L,C);return function(c){return!(!R0(c)||(K0=c,x0&&(x0 in K0)))&&(r(c)||G0(c)?E0:C0).test(L5(c));var K0}(b)?b:void 0}O5.prototype.clear=function(){this.__data__=u1?u1(null):{}},O5.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},O5.prototype.get=function(L){var C=this.__data__;if(u1){var b=C[L];return b===Y?void 0:b}return q0.call(C,L)?C[L]:void 0},O5.prototype.has=function(L){var C=this.__data__;return u1?C[L]!==void 0:q0.call(C,L)},O5.prototype.set=function(L,C){return this.__data__[L]=u1&&C===void 0?Y:C,this},S1.prototype.clear=function(){this.__data__=[]},S1.prototype.delete=function(L){var C=this.__data__,b=w8(C,L);return!(b<0||(b==C.length-1?C.pop():Q9.call(C,b,1),0))},S1.prototype.get=function(L){var C=this.__data__,b=w8(C,L);return b<0?void 0:C[b][1]},S1.prototype.has=function(L){return w8(this.__data__,L)>-1},S1.prototype.set=function(L,C){var b=this.__data__,c=w8(b,L);return c<0?b.push([L,C]):b[c][1]=C,this},d1.prototype.clear=function(){this.__data__={hash:new O5,map:new(z6||S1),string:new O5}},d1.prototype.delete=function(L){return b5(this,L).delete(L)},d1.prototype.get=function(L){return b5(this,L).get(L)},d1.prototype.has=function(L){return b5(this,L).has(L)},d1.prototype.set=function(L,C){return b5(this,L).set(L,C),this},_6.prototype.clear=function(){this.__data__=new S1},_6.prototype.delete=function(L){return this.__data__.delete(L)},_6.prototype.get=function(L){return this.__data__.get(L)},_6.prototype.has=function(L){return this.__data__.has(L)},_6.prototype.set=function(L,C){var b=this.__data__;if(b instanceof S1){var c=b.__data__;if(!z6||c.length<199)return c.push([L,C]),this;b=this.__data__=new d1(c)}return b.set(L,C),this};var h4=p7?e0(p7,Object):function(){return[]},V5=function(L){return y0.call(L)};function d7(L,C){return!!(C=C==null?H:C)&&(typeof L=="number"||V0.test(L))&&L>-1&&L%1==0&&L<C}function M6(L){var C=L&&L.constructor;return L===(typeof C=="function"&&C.prototype||g)}function L5(L){if(L!=null){try{return B0.call(L)}catch(C){}try{return L+""}catch(C){}}return""}function c7(L,C){return L===C||L!=L&&C!=C}(f4&&V5(new f4(new ArrayBuffer(1)))!=p||z6&&V5(new z6)!=R||u6&&V5(u6.resolve())!=q||Q5&&V5(new Q5)!=P||m1&&V5(new m1)!=x)&&(V5=function(L){var C=y0.call(L),b=C==F?L.constructor:void 0,c=b?L5(b):void 0;if(c)switch(c){case V8:return p;case E5:return R;case L8:return q;case d6:return P;case m7:return x}return C});var w=Array.isArray;function S(L){return L!=null&&function(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=H}(L.length)&&!r(L)}var y=z9||function(){return!1};function r(L){var C=R0(L)?y0.call(L):"";return C==M||C==U}function R0(L){var C=typeof L;return!!L&&(C=="object"||C=="function")}function W0(L){return S(L)?function(C,b){var c=w(C)||function(_0){return function(s0){return function(p0){return!!p0&&typeof p0=="object"}(s0)&&S(s0)}(_0)&&q0.call(_0,"callee")&&(!m6.call(_0,"callee")||y0.call(_0)==Q)}(C)?function(_0,s0){for(var p0=-1,w5=Array(_0);++p0<_0;)w5[p0]=s0(p0);return w5}(C.length,String):[],K0=c.length,O0=!!K0;for(var f0 in C)!b&&!q0.call(C,f0)||O0&&(f0=="length"||d7(f0,K0))||c.push(f0);return c}(L):function(C){if(!M6(C))return _9(C);var b=[];for(var c in Object(C))q0.call(C,c)&&c!="constructor"&&b.push(c);return b}(L)}K.exports=function(L){return _5(L,!0,!0)}},307:(K,G,W)=>{K=W.nmd(K);var Y="__lodash_hash_undefined__",H=9007199254740991,Q="[object Arguments]",z="[object Array]",_="[object Boolean]",M="[object Date]",U="[object Error]",R="[object Function]",E="[object Map]",F="[object Number]",q="[object Object]",N="[object Promise]",P="[object RegExp]",O="[object Set]",D="[object String]",x="[object WeakMap]",k="[object ArrayBuffer]",p="[object DataView]",e=/^\[object .+?Constructor\]$/,Z0=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[Q]=v[z]=v[k]=v[_]=v[p]=v[M]=v[U]=v[R]=v[E]=v[F]=v[q]=v[P]=v[O]=v[D]=v[x]=!1;var h=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,T=typeof self=="object"&&self&&self.Object===Object&&self,j=h||T||Function("return this")(),i=G&&!G.nodeType&&G,n=i&&K&&!K.nodeType&&K,M0=n&&n.exports===i,N0=M0&&h.process,C0=function(){try{return N0&&N0.binding&&N0.binding("util")}catch(w){}}(),V0=C0&&C0.isTypedArray;function a(w,S){for(var y=-1,r=w==null?0:w.length;++y<r;)if(S(w[y],y,w))return!0;return!1}function g0(w){var S=-1,y=Array(w.size);return w.forEach(function(r,R0){y[++S]=[R0,r]}),y}function V(w){var S=-1,y=Array(w.size);return w.forEach(function(r){y[++S]=r}),y}var A,B,I,u=Array.prototype,o=Function.prototype,s=Object.prototype,Q0=j["__core-js_shared__"],G0=o.toString,z0=s.hasOwnProperty,e0=(A=/[^.]+$/.exec(Q0&&Q0.keys&&Q0.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",Q1=s.toString,w1=RegExp("^"+G0.call(z0).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z1=M0?j.Buffer:void 0,J0=j.Symbol,g=j.Uint8Array,Y0=s.propertyIsEnumerable,x0=u.splice,B0=J0?J0.toStringTag:void 0,q0=Object.getOwnPropertySymbols,y0=z1?z1.isBuffer:void 0,E0=(B=Object.keys,I=Object,function(w){return B(I(w))}),L0=d1(j,"DataView"),w0=d1(j,"Map"),Z1=d1(j,"Promise"),S0=d1(j,"Set"),S4=d1(j,"WeakMap"),m6=d1(Object,"create"),Q9=_5(L0),p7=_5(w0),z9=_5(Z1),_9=_5(S0),f4=_5(S4),z6=J0?J0.prototype:void 0,u6=z6?z6.valueOf:void 0;function Q5(w){var S=-1,y=w==null?0:w.length;for(this.clear();++S<y;){var r=w[S];this.set(r[0],r[1])}}function m1(w){var S=-1,y=w==null?0:w.length;for(this.clear();++S<y;){var r=w[S];this.set(r[0],r[1])}}function u1(w){var S=-1,y=w==null?0:w.length;for(this.clear();++S<y;){var r=w[S];this.set(r[0],r[1])}}function V8(w){var S=-1,y=w==null?0:w.length;for(this.__data__=new u1;++S<y;)this.add(w[S])}function E5(w){var S=this.__data__=new m1(w);this.size=S.size}function L8(w,S){for(var y=w.length;y--;)if(A8(w[y][0],S))return y;return-1}function d6(w){return w==null?w===void 0?"[object Undefined]":"[object Null]":B0&&(B0 in Object(w))?function(S){var y=z0.call(S,B0),r=S[B0];try{S[B0]=void 0;var R0=!0}catch(L){}var W0=Q1.call(S);return R0&&(y?S[B0]=r:delete S[B0]),W0}(w):function(S){return Q1.call(S)}(w)}function m7(w){return M6(w)&&d6(w)==Q}function T4(w,S,y,r,R0){return w===S||(w==null||S==null||!M6(w)&&!M6(S)?w!=w&&S!=S:function(W0,L,C,b,c,K0){var O0=b5(W0),f0=b5(L),_0=O0?z:z5(W0),s0=f0?z:z5(L),p0=(_0=_0==Q?q:_0)==q,w5=(s0=s0==Q?q:s0)==q,g5=_0==s0;if(g5&&P5(W0)){if(!P5(L))return!1;O0=!0,p0=!1}if(g5&&!p0)return K0||(K0=new E5),O0||L5(W0)?j4(W0,L,C,b,c,K0):function(H0,F0,M5,U0,_1,c0,q5){switch(M5){case p:if(H0.byteLength!=F0.byteLength||H0.byteOffset!=F0.byteOffset)return!1;H0=H0.buffer,F0=F0.buffer;case k:return!(H0.byteLength!=F0.byteLength||!c0(new g(H0),new g(F0)));case _:case M:case F:return A8(+H0,+F0);case U:return H0.name==F0.name&&H0.message==F0.message;case P:case D:return H0==F0+"";case E:var U6=g0;case O:var x4=1&U0;if(U6||(U6=V),H0.size!=F0.size&&!x4)return!1;var c6=q5.get(H0);if(c6)return c6==F0;U0|=2,q5.set(H0,F0);var p5=j4(U6(H0),U6(F0),U0,_1,c0,q5);return q5.delete(H0),p5;case"[object Symbol]":if(u6)return u6.call(H0)==u6.call(F0)}return!1}(W0,L,_0,C,b,c,K0);if(!(1&C)){var q6=p0&&z0.call(W0,"__wrapped__"),$0=w5&&z0.call(L,"__wrapped__");if(q6||$0){var P0=q6?W0.value():W0,n0=$0?L.value():L;return K0||(K0=new E5),c(P0,n0,C,b,K0)}}return!!g5&&(K0||(K0=new E5),function(H0,F0,M5,U0,_1,c0){var q5=1&M5,U6=O5(H0),x4=U6.length;if(x4!=O5(F0).length&&!q5)return!1;for(var c6=x4;c6--;){var p5=U6[c6];if(!(q5?p5 in F0:z0.call(F0,p5)))return!1}var lX=c0.get(H0);if(lX&&c0.get(F0))return lX==F0;var l7=!0;c0.set(H0,F0),c0.set(F0,H0);for(var M9=q5;++c6<x4;){var i7=H0[p5=U6[c6]],s7=F0[p5];if(U0)var iX=q5?U0(s7,i7,p5,F0,H0,c0):U0(i7,s7,p5,H0,F0,c0);if(!(iX===void 0?i7===s7||_1(i7,s7,M5,U0,c0):iX)){l7=!1;break}M9||(M9=p5=="constructor")}if(l7&&!M9){var n7=H0.constructor,o7=F0.constructor;n7==o7||!("constructor"in H0)||!("constructor"in F0)||typeof n7=="function"&&n7 instanceof n7&&typeof o7=="function"&&o7 instanceof o7||(l7=!1)}return c0.delete(H0),c0.delete(F0),l7}(W0,L,C,b,c,K0))}(w,S,y,r,T4,R0))}function j4(w,S,y,r,R0,W0){var L=1&y,C=w.length,b=S.length;if(C!=b&&!(L&&b>C))return!1;var c=W0.get(w);if(c&&W0.get(S))return c==S;var K0=-1,O0=!0,f0=2&y?new V8:void 0;for(W0.set(w,S),W0.set(S,w);++K0<C;){var _0=w[K0],s0=S[K0];if(r)var p0=L?r(s0,_0,K0,S,w,W0):r(_0,s0,K0,w,S,W0);if(p0!==void 0){if(p0)continue;O0=!1;break}if(f0){if(!a(S,function(w5,g5){if(q6=g5,!f0.has(q6)&&(_0===w5||R0(_0,w5,y,r,W0)))return f0.push(g5);var q6})){O0=!1;break}}else if(_0!==s0&&!R0(_0,s0,y,r,W0)){O0=!1;break}}return W0.delete(w),W0.delete(S),O0}function O5(w){return function(S,y,r){var R0=y(S);return b5(S)?R0:function(W0,L){for(var C=-1,b=L.length,c=W0.length;++C<b;)W0[c+C]=L[C];return W0}(R0,r(S))}(w,c7,_6)}function S1(w,S){var y,r,R0=w.__data__;return((r=typeof(y=S))=="string"||r=="number"||r=="symbol"||r=="boolean"?y!=="__proto__":y===null)?R0[typeof S=="string"?"string":"hash"]:R0.map}function d1(w,S){var y=function(r,R0){return r==null?void 0:r[R0]}(w,S);return function(r){return!(!d7(r)||function(R0){return!!e0&&e0 in R0}(r))&&(h4(r)?w1:e).test(_5(r))}(y)?y:void 0}Q5.prototype.clear=function(){this.__data__=m6?m6(null):{},this.size=0},Q5.prototype.delete=function(w){var S=this.has(w)&&delete this.__data__[w];return this.size-=S?1:0,S},Q5.prototype.get=function(w){var S=this.__data__;if(m6){var y=S[w];return y===Y?void 0:y}return z0.call(S,w)?S[w]:void 0},Q5.prototype.has=function(w){var S=this.__data__;return m6?S[w]!==void 0:z0.call(S,w)},Q5.prototype.set=function(w,S){var y=this.__data__;return this.size+=this.has(w)?0:1,y[w]=m6&&S===void 0?Y:S,this},m1.prototype.clear=function(){this.__data__=[],this.size=0},m1.prototype.delete=function(w){var S=this.__data__,y=L8(S,w);return!(y<0||(y==S.length-1?S.pop():x0.call(S,y,1),--this.size,0))},m1.prototype.get=function(w){var S=this.__data__,y=L8(S,w);return y<0?void 0:S[y][1]},m1.prototype.has=function(w){return L8(this.__data__,w)>-1},m1.prototype.set=function(w,S){var y=this.__data__,r=L8(y,w);return r<0?(++this.size,y.push([w,S])):y[r][1]=S,this},u1.prototype.clear=function(){this.size=0,this.__data__={hash:new Q5,map:new(w0||m1),string:new Q5}},u1.prototype.delete=function(w){var S=S1(this,w).delete(w);return this.size-=S?1:0,S},u1.prototype.get=function(w){return S1(this,w).get(w)},u1.prototype.has=function(w){return S1(this,w).has(w)},u1.prototype.set=function(w,S){var y=S1(this,w),r=y.size;return y.set(w,S),this.size+=y.size==r?0:1,this},V8.prototype.add=V8.prototype.push=function(w){return this.__data__.set(w,Y),this},V8.prototype.has=function(w){return this.__data__.has(w)},E5.prototype.clear=function(){this.__data__=new m1,this.size=0},E5.prototype.delete=function(w){var S=this.__data__,y=S.delete(w);return this.size=S.size,y},E5.prototype.get=function(w){return this.__data__.get(w)},E5.prototype.has=function(w){return this.__data__.has(w)},E5.prototype.set=function(w,S){var y=this.__data__;if(y instanceof m1){var r=y.__data__;if(!w0||r.length<199)return r.push([w,S]),this.size=++y.size,this;y=this.__data__=new u1(r)}return y.set(w,S),this.size=y.size,this};var _6=q0?function(w){return w==null?[]:(w=Object(w),function(S,y){for(var r=-1,R0=S==null?0:S.length,W0=0,L=[];++r<R0;){var C=S[r];b=C,Y0.call(w,b)&&(L[W0++]=C)}var b;return L}(q0(w)))}:function(){return[]},z5=d6;function w8(w,S){return!!(S=S==null?H:S)&&(typeof w=="number"||Z0.test(w))&&w>-1&&w%1==0&&w<S}function _5(w){if(w!=null){try{return G0.call(w)}catch(S){}try{return w+""}catch(S){}}return""}function A8(w,S){return w===S||w!=w&&S!=S}(L0&&z5(new L0(new ArrayBuffer(1)))!=p||w0&&z5(new w0)!=E||Z1&&z5(Z1.resolve())!=N||S0&&z5(new S0)!=O||S4&&z5(new S4)!=x)&&(z5=function(w){var S=d6(w),y=S==q?w.constructor:void 0,r=y?_5(y):"";if(r)switch(r){case Q9:return p;case p7:return E;case z9:return N;case _9:return O;case f4:return x}return S});var u7=m7(function(){return arguments}())?m7:function(w){return M6(w)&&z0.call(w,"callee")&&!Y0.call(w,"callee")},b5=Array.isArray,P5=y0||function(){return!1};function h4(w){if(!d7(w))return!1;var S=d6(w);return S==R||S=="[object GeneratorFunction]"||S=="[object AsyncFunction]"||S=="[object Proxy]"}function V5(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=H}function d7(w){var S=typeof w;return w!=null&&(S=="object"||S=="function")}function M6(w){return w!=null&&typeof w=="object"}var L5=V0?function(w){return function(S){return w(S)}}(V0):function(w){return M6(w)&&V5(w.length)&&!!v[d6(w)]};function c7(w){return(S=w)!=null&&V5(S.length)&&!h4(S)?function(y,r){var R0=b5(y),W0=!R0&&u7(y),L=!R0&&!W0&&P5(y),C=!R0&&!W0&&!L&&L5(y),b=R0||W0||L||C,c=b?function(f0,_0){for(var s0=-1,p0=Array(f0);++s0<f0;)p0[s0]=_0(s0);return p0}(y.length,String):[],K0=c.length;for(var O0 in y)!r&&!z0.call(y,O0)||b&&(O0=="length"||L&&(O0=="offset"||O0=="parent")||C&&(O0=="buffer"||O0=="byteLength"||O0=="byteOffset")||w8(O0,K0))||c.push(O0);return c}(w):function(y){if(R0=(r=y)&&r.constructor,r!==(typeof R0=="function"&&R0.prototype||s))return E0(y);var r,R0,W0=[];for(var L in Object(y))z0.call(y,L)&&L!="constructor"&&W0.push(L);return W0}(w);var S}K.exports=function(w,S){return T4(w,S)}},210:function(K,G,W){var Y=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(G,"__esModule",{value:!0});var H,Q=Y(W(465)),z=Y(W(307));(function(_){_.compose=function(M,U,R){M===void 0&&(M={}),U===void 0&&(U={}),typeof M!="object"&&(M={}),typeof U!="object"&&(U={});var E=Q.default(U);for(var F in R||(E=Object.keys(E).reduce(function(q,N){return E[N]!=null&&(q[N]=E[N]),q},{})),M)M[F]!==void 0&&U[F]===void 0&&(E[F]=M[F]);return Object.keys(E).length>0?E:void 0},_.diff=function(M,U){M===void 0&&(M={}),U===void 0&&(U={}),typeof M!="object"&&(M={}),typeof U!="object"&&(U={});var R=Object.keys(M).concat(Object.keys(U)).reduce(function(E,F){return z.default(M[F],U[F])||(E[F]=U[F]===void 0?null:U[F]),E},{});return Object.keys(R).length>0?R:void 0},_.invert=function(M,U){M===void 0&&(M={}),U===void 0&&(U={}),M=M||{};var R=Object.keys(U).reduce(function(E,F){return U[F]!==M[F]&&M[F]!==void 0&&(E[F]=U[F]),E},{});return Object.keys(M).reduce(function(E,F){return M[F]!==U[F]&&U[F]===void 0&&(E[F]=null),E},R)},_.transform=function(M,U,R){if(R===void 0&&(R=!1),typeof M!="object")return U;if(typeof U=="object"){if(!R)return U;var E=Object.keys(U).reduce(function(F,q){return M[q]===void 0&&(F[q]=U[q]),F},{});return Object.keys(E).length>0?E:void 0}}})(H||(H={})),G.default=H},895:function(K,G,W){var Y=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}},H=Y(W(529)),Q=Y(W(465)),z=Y(W(307)),_=Y(W(210)),M=Y(W(430)),U=String.fromCharCode(0),R=function(){function E(F){Array.isArray(F)?this.ops=F:F!=null&&Array.isArray(F.ops)?this.ops=F.ops:this.ops=[]}return E.prototype.insert=function(F,q){var N={};return typeof F=="string"&&F.length===0?this:(N.insert=F,q!=null&&typeof q=="object"&&Object.keys(q).length>0&&(N.attributes=q),this.push(N))},E.prototype.delete=function(F){return F<=0?this:this.push({delete:F})},E.prototype.retain=function(F,q){if(F<=0)return this;var N={retain:F};return q!=null&&typeof q=="object"&&Object.keys(q).length>0&&(N.attributes=q),this.push(N)},E.prototype.push=function(F){var q=this.ops.length,N=this.ops[q-1];if(F=Q.default(F),typeof N=="object"){if(typeof F.delete=="number"&&typeof N.delete=="number")return this.ops[q-1]={delete:N.delete+F.delete},this;if(typeof N.delete=="number"&&F.insert!=null&&(q-=1,typeof(N=this.ops[q-1])!="object"))return this.ops.unshift(F),this;if(z.default(F.attributes,N.attributes)){if(typeof F.insert=="string"&&typeof N.insert=="string")return this.ops[q-1]={insert:N.insert+F.insert},typeof F.attributes=="object"&&(this.ops[q-1].attributes=F.attributes),this;if(typeof F.retain=="number"&&typeof N.retain=="number")return this.ops[q-1]={retain:N.retain+F.retain},typeof F.attributes=="object"&&(this.ops[q-1].attributes=F.attributes),this}}return q===this.ops.length?this.ops.push(F):this.ops.splice(q,0,F),this},E.prototype.chop=function(){var F=this.ops[this.ops.length-1];return F&&F.retain&&!F.attributes&&this.ops.pop(),this},E.prototype.filter=function(F){return this.ops.filter(F)},E.prototype.forEach=function(F){this.ops.forEach(F)},E.prototype.map=function(F){return this.ops.map(F)},E.prototype.partition=function(F){var q=[],N=[];return this.forEach(function(P){(F(P)?q:N).push(P)}),[q,N]},E.prototype.reduce=function(F,q){return this.ops.reduce(F,q)},E.prototype.changeLength=function(){return this.reduce(function(F,q){return q.insert?F+M.default.length(q):q.delete?F-q.delete:F},0)},E.prototype.length=function(){return this.reduce(function(F,q){return F+M.default.length(q)},0)},E.prototype.slice=function(F,q){F===void 0&&(F=0),q===void 0&&(q=1/0);for(var N=[],P=M.default.iterator(this.ops),O=0;O<q&&P.hasNext();){var D=void 0;O<F?D=P.next(F-O):(D=P.next(q-O),N.push(D)),O+=M.default.length(D)}return new E(N)},E.prototype.compose=function(F){var q=M.default.iterator(this.ops),N=M.default.iterator(F.ops),P=[],O=N.peek();if(O!=null&&typeof O.retain=="number"&&O.attributes==null){for(var D=O.retain;q.peekType()==="insert"&&q.peekLength()<=D;)D-=q.peekLength(),P.push(q.next());O.retain-D>0&&N.next(O.retain-D)}for(var x=new E(P);q.hasNext()||N.hasNext();)if(N.peekType()==="insert")x.push(N.next());else if(q.peekType()==="delete")x.push(q.next());else{var k=Math.min(q.peekLength(),N.peekLength()),p=q.next(k),e=N.next(k);if(typeof e.retain=="number"){var Z0={};typeof p.retain=="number"?Z0.retain=k:Z0.insert=p.insert;var v=_.default.compose(p.attributes,e.attributes,typeof p.retain=="number");if(v&&(Z0.attributes=v),x.push(Z0),!N.hasNext()&&z.default(x.ops[x.ops.length-1],Z0)){var h=new E(q.rest());return x.concat(h).chop()}}else typeof e.delete=="number"&&typeof p.retain=="number"&&x.push(e)}return x.chop()},E.prototype.concat=function(F){var q=new E(this.ops.slice());return F.ops.length>0&&(q.push(F.ops[0]),q.ops=q.ops.concat(F.ops.slice(1))),q},E.prototype.diff=function(F,q){if(this.ops===F.ops)return new E;var N=[this,F].map(function(k){return k.map(function(p){if(p.insert!=null)return typeof p.insert=="string"?p.insert:U;throw new Error("diff() called "+(k===F?"on":"with")+" non-document")}).join("")}),P=new E,O=H.default(N[0],N[1],q),D=M.default.iterator(this.ops),x=M.default.iterator(F.ops);return O.forEach(function(k){for(var p=k[1].length;p>0;){var e=0;switch(k[0]){case H.default.INSERT:e=Math.min(x.peekLength(),p),P.push(x.next(e));break;case H.default.DELETE:e=Math.min(p,D.peekLength()),D.next(e),P.delete(e);break;case H.default.EQUAL:e=Math.min(D.peekLength(),x.peekLength(),p);var Z0=D.next(e),v=x.next(e);z.default(Z0.insert,v.insert)?P.retain(e,_.default.diff(Z0.attributes,v.attributes)):P.push(v).delete(e)}p-=e}}),P.chop()},E.prototype.eachLine=function(F,q){q===void 0&&(q="\n");for(var N=M.default.iterator(this.ops),P=new E,O=0;N.hasNext();){if(N.peekType()!=="insert")return;var D=N.peek(),x=M.default.length(D)-N.peekLength(),k=typeof D.insert=="string"?D.insert.indexOf(q,x)-x:-1;if(k<0)P.push(N.next());else if(k>0)P.push(N.next(k));else{if(F(P,N.next(1).attributes||{},O)===!1)return;O+=1,P=new E}}P.length()>0&&F(P,{},O)},E.prototype.invert=function(F){var q=new E;return this.reduce(function(N,P){if(P.insert)q.delete(M.default.length(P));else{if(P.retain&&P.attributes==null)return q.retain(P.retain),N+P.retain;if(P.delete||P.retain&&P.attributes){var O=P.delete||P.retain;return F.slice(N,N+O).forEach(function(D){P.delete?q.push(D):P.retain&&P.attributes&&q.retain(M.default.length(D),_.default.invert(P.attributes,D.attributes))}),N+O}}return N},0),q.chop()},E.prototype.transform=function(F,q){if(q===void 0&&(q=!1),q=!!q,typeof F=="number")return this.transformPosition(F,q);for(var N=F,P=M.default.iterator(this.ops),O=M.default.iterator(N.ops),D=new E;P.hasNext()||O.hasNext();)if(P.peekType()!=="insert"||!q&&O.peekType()==="insert")if(O.peekType()==="insert")D.push(O.next());else{var x=Math.min(P.peekLength(),O.peekLength()),k=P.next(x),p=O.next(x);if(k.delete)continue;p.delete?D.push(p):D.retain(x,_.default.transform(k.attributes,p.attributes,q))}else D.retain(M.default.length(P.next()));return D.chop()},E.prototype.transformPosition=function(F,q){q===void 0&&(q=!1),q=!!q;for(var N=M.default.iterator(this.ops),P=0;N.hasNext()&&P<=F;){var O=N.peekLength(),D=N.peekType();N.next(),D!=="delete"?(D==="insert"&&(P<F||!q)&&(F+=O),P+=O):F-=Math.min(O,F-P)}return F},E.Op=M.default,E.AttributeMap=_.default,E}();K.exports=R},977:function(K,G,W){var Y=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(G,"__esModule",{value:!0});var H=Y(W(430)),Q=function(){function z(_){this.ops=_,this.index=0,this.offset=0}return z.prototype.hasNext=function(){return this.peekLength()<1/0},z.prototype.next=function(_){_||(_=1/0);var M=this.ops[this.index];if(M){var U=this.offset,R=H.default.length(M);if(_>=R-U?(_=R-U,this.index+=1,this.offset=0):this.offset+=_,typeof M.delete=="number")return{delete:_};var E={};return M.attributes&&(E.attributes=M.attributes),typeof M.retain=="number"?E.retain=_:typeof M.insert=="string"?E.insert=M.insert.substr(U,_):E.insert=M.insert,E}return{retain:1/0}},z.prototype.peek=function(){return this.ops[this.index]},z.prototype.peekLength=function(){return this.ops[this.index]?H.default.length(this.ops[this.index])-this.offset:1/0},z.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},z.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var _=this.offset,M=this.index,U=this.next(),R=this.ops.slice(this.index);return this.offset=_,this.index=M,[U].concat(R)}return[]},z}();G.default=Q},430:function(K,G,W){var Y=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(G,"__esModule",{value:!0});var H,Q=Y(W(977));(function(z){z.iterator=function(_){return new Q.default(_)},z.length=function(_){return typeof _.delete=="number"?_.delete:typeof _.retain=="number"?_.retain:typeof _.insert=="string"?_.insert.length:1}})(H||(H={})),G.default=H},165:function(K,G,W){var Y,H;(H=typeof(Y=function(){var Q,z={};function _(R,E,F){var q=R.getClientRects();if(q.length===2){var N=R.getBoundingClientRect();return q[E][F]<N[F]}return!1}function M(R){if(!R)return R;if(screen.deviceXDPI===screen.logicalXDPI)return R;if("length"in R)return Array.prototype.map.call(R,M);var E=screen.deviceXDPI/screen.logicalXDPI;return{top:R.top/E,bottom:R.bottom/E,left:R.left/E,right:R.right/E,width:R.width/E,height:R.height/E}}function U(R,E){var F,q=0,N=1024;if(N>=E.length)return Array.prototype.push.apply(R,E);for(;q<E.length;)F=Array.prototype.push.apply(R,Array.prototype.slice.call(E,q,q+N)),q+=N;return F}return z.isBroken=function(){if(Q===void 0){var R=document.createElement("p"),E=document.createElement("span"),F=document.createTextNode("aa"),q=document.createTextNode("aa"),N=document.createElement("img");N.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var P=document.createRange();if(Q={},R.appendChild(F),R.appendChild(E),E.appendChild(N),E.appendChild(q),document.body.appendChild(R),P.setStart(F,1),P.setEnd(E,0),Q.getClientRects=Q.getBoundingClientRect=P.getClientRects().length>1,Q.getClientRects||(P.setEnd(q,1),Q.getClientRects=Q.getBoundingClientRect=P.getClientRects().length===2),!Q.getBoundingClientRect){P.setEnd(P.startContainer,P.startOffset);var O=P.getBoundingClientRect();Q.getBoundingClientRect=O.top===0&&O.left===0}if(document.body.removeChild(R),!Q.getBoundingClientRect){var D=document.createElement("p");D.style.width="0px",D.style.fontSize="20px",D.style.whiteSpace="normal",D.style.wordBreak="normal";var x=document.createTextNode("m mm");D.appendChild(x),document.body.appendChild(D),P.setStart(x,1),P.setEnd(x,2),_(P,1,"left")?Q.getBoundingClientRect=!0:(P.setStart(x,1),P.setEnd(x,3),_(P,0,"top")&&(Q.getBoundingClientRect=!0)),document.body.removeChild(D)}var k=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();Q.ieZoom=!!k&&k<=10}return Q},z.getClientRects=function(R){var E=this.isBroken();if(E.ieZoom)return M(R.getClientRects());if(!E.getClientRects)return R.getClientRects();var F=[],q=[],N=R.endContainer,P=R.endOffset,O=document.createRange();function D(x){for(var k=0;x=x.previousSibling;)k++;return k}for(;N!==R.commonAncestorContainer;)O.setStart(N,0),O.setEnd(N,P),U(q,O.getClientRects()),P=D(N),N=N.parentNode;return(O=R.cloneRange()).setEnd(N,P),U(F,O.getClientRects()),U(F,q),F},z.getBoundingClientRect=function(R){var E=this.getClientRects(R);if(E.length===0)return null;var F,q=R.getBoundingClientRect(),N=this.isBroken();if(N.ieZoom)return M(q);if(!N.getBoundingClientRect)return q;if(q.width===0&&q.height===0)return E[0];for(var P=0,O=E.length;P<O;P++){var D=E[P];F?(F.left=Math.min(F.left,D.left),F.top=Math.min(F.top,D.top),F.right=Math.max(F.right,D.right),F.bottom=Math.max(F.bottom,D.bottom)):F={left:D.left,top:D.top,right:D.right,bottom:D.bottom}}return F&&(F.width=F.right-F.left,F.height=F.bottom-F.top),F},z})=="function"?Y.call(G,W,G,K):Y)===void 0||(K.exports=H)},33:(K,G,W)=>{W.r(G),W.d(G,{default:()=>v});var Y=function(){if(typeof Map!="undefined")return Map;function h(T,j){var i=-1;return T.some(function(n,M0){return n[0]===j&&(i=M0,!0)}),i}return function(){function T(){this.__entries__=[]}return Object.defineProperty(T.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),T.prototype.get=function(j){var i=h(this.__entries__,j),n=this.__entries__[i];return n&&n[1]},T.prototype.set=function(j,i){var n=h(this.__entries__,j);~n?this.__entries__[n][1]=i:this.__entries__.push([j,i])},T.prototype.delete=function(j){var i=this.__entries__,n=h(i,j);~n&&i.splice(n,1)},T.prototype.has=function(j){return!!~h(this.__entries__,j)},T.prototype.clear=function(){this.__entries__.splice(0)},T.prototype.forEach=function(j,i){i===void 0&&(i=null);for(var n=0,M0=this.__entries__;n<M0.length;n++){var N0=M0[n];j.call(i,N0[1],N0[0])}},T}()}(),H=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Q=W.g!==void 0&&W.g.Math===Math?W.g:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")(),z=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Q):function(h){return setTimeout(function(){return h(Date.now())},16.666666666666668)},_=["top","right","bottom","left","width","height","size","weight"],M=typeof MutationObserver!="undefined",U=function(){function h(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(T,j){var i=!1,n=!1,M0=0;function N0(){i&&(i=!1,T()),n&&V0()}function C0(){z(N0)}function V0(){var a=Date.now();if(i){if(a-M0<2)return;n=!0}else i=!0,n=!1,setTimeout(C0,20);M0=a}return V0}(this.refresh.bind(this))}return h.prototype.addObserver=function(T){~this.observers_.indexOf(T)||this.observers_.push(T),this.connected_||this.connect_()},h.prototype.removeObserver=function(T){var j=this.observers_,i=j.indexOf(T);~i&&j.splice(i,1),!j.length&&this.connected_&&this.disconnect_()},h.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},h.prototype.updateObservers_=function(){var T=this.observers_.filter(function(j){return j.gatherActive(),j.hasActive()});return T.forEach(function(j){return j.broadcastActive()}),T.length>0},h.prototype.connect_=function(){H&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),M?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},h.prototype.disconnect_=function(){H&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},h.prototype.onTransitionEnd_=function(T){var j=T.propertyName,i=j===void 0?"":j;_.some(function(n){return!!~i.indexOf(n)})&&this.refresh()},h.getInstance=function(){return this.instance_||(this.instance_=new h),this.instance_},h.instance_=null,h}(),R=function(h,T){for(var j=0,i=Object.keys(T);j<i.length;j++){var n=i[j];Object.defineProperty(h,n,{value:T[n],enumerable:!1,writable:!1,configurable:!0})}return h},E=function(h){return h&&h.ownerDocument&&h.ownerDocument.defaultView||Q},F=D(0,0,0,0);function q(h){return parseFloat(h)||0}function N(h){for(var T=[],j=1;j<arguments.length;j++)T[j-1]=arguments[j];return T.reduce(function(i,n){return i+q(h["border-"+n+"-width"])},0)}var P=typeof SVGGraphicsElement!="undefined"?function(h){return h instanceof E(h).SVGGraphicsElement}:function(h){return h instanceof E(h).SVGElement&&typeof h.getBBox=="function"};function O(h){return H?P(h)?function(T){var j=T.getBBox();return D(0,0,j.width,j.height)}(h):function(T){var{clientWidth:j,clientHeight:i}=T;if(!j&&!i)return F;var n=E(T).getComputedStyle(T),M0=function(A){for(var B={},I=0,u=["top","right","bottom","left"];I<u.length;I++){var o=u[I],s=A["padding-"+o];B[o]=q(s)}return B}(n),N0=M0.left+M0.right,C0=M0.top+M0.bottom,V0=q(n.width),a=q(n.height);if(n.boxSizing==="border-box"&&(Math.round(V0+N0)!==j&&(V0-=N(n,"left","right")+N0),Math.round(a+C0)!==i&&(a-=N(n,"top","bottom")+C0)),!function(A){return A===E(A).document.documentElement}(T)){var g0=Math.round(V0+N0)-j,V=Math.round(a+C0)-i;Math.abs(g0)!==1&&(V0-=g0),Math.abs(V)!==1&&(a-=V)}return D(M0.left,M0.top,V0,a)}(h):F}function D(h,T,j,i){return{x:h,y:T,width:j,height:i}}var x=function(){function h(T){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=D(0,0,0,0),this.target=T}return h.prototype.isActive=function(){var T=O(this.target);return this.contentRect_=T,T.width!==this.broadcastWidth||T.height!==this.broadcastHeight},h.prototype.broadcastRect=function(){var T=this.contentRect_;return this.broadcastWidth=T.width,this.broadcastHeight=T.height,T},h}(),k=function(h,T){var j,i,n,M0,N0,C0,V0,a=(i=(j=T).x,n=j.y,M0=j.width,N0=j.height,C0=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,V0=Object.create(C0.prototype),R(V0,{x:i,y:n,width:M0,height:N0,top:n,right:i+M0,bottom:N0+n,left:i}),V0);R(this,{target:h,contentRect:a})},p=function(){function h(T,j,i){if(this.activeObservations_=[],this.observations_=new Y,typeof T!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=T,this.controller_=j,this.callbackCtx_=i}return h.prototype.observe=function(T){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element!="undefined"&&Element instanceof Object){if(!(T instanceof E(T).Element))throw new TypeError('parameter 1 is not of type "Element".');var j=this.observations_;j.has(T)||(j.set(T,new x(T)),this.controller_.addObserver(this),this.controller_.refresh())}},h.prototype.unobserve=function(T){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element!="undefined"&&Element instanceof Object){if(!(T instanceof E(T).Element))throw new TypeError('parameter 1 is not of type "Element".');var j=this.observations_;j.has(T)&&(j.delete(T),j.size||this.controller_.removeObserver(this))}},h.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},h.prototype.gatherActive=function(){var T=this;this.clearActive(),this.observations_.forEach(function(j){j.isActive()&&T.activeObservations_.push(j)})},h.prototype.broadcastActive=function(){if(this.hasActive()){var T=this.callbackCtx_,j=this.activeObservations_.map(function(i){return new k(i.target,i.broadcastRect())});this.callback_.call(T,j,T),this.clearActive()}},h.prototype.clearActive=function(){this.activeObservations_.splice(0)},h.prototype.hasActive=function(){return this.activeObservations_.length>0},h}(),e=typeof WeakMap!="undefined"?new WeakMap:new Y,Z0=function h(T){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var j=U.getInstance(),i=new p(T,j,this);e.set(this,i)};["observe","unobserve","disconnect"].forEach(function(h){Z0.prototype[h]=function(){var T;return(T=e.get(this))[h].apply(T,arguments)}});const v=Q.ResizeObserver!==void 0?Q.ResizeObserver:Z0},413:(K,G,W)=>{W.r(G),W.d(G,{default:()=>D});var Y=W(379),H=W.n(Y),Q=W(795),z=W.n(Q),_=W(569),M=W.n(_),U=W(565),R=W.n(U),E=W(216),F=W.n(E),q=W(589),N=W.n(q),P=W(582),O={};O.styleTagTransform=N(),O.setAttributes=R(),O.insert=M().bind(null,"head"),O.domAPI=z(),O.insertStyleElement=F(),H()(P.Z,O);const D=P.Z&&P.Z.locals?P.Z.locals:void 0},379:(K)=>{var G=[];function W(Q){for(var z=-1,_=0;_<G.length;_++)if(G[_].identifier===Q){z=_;break}return z}function Y(Q,z){for(var _={},M=[],U=0;U<Q.length;U++){var R=Q[U],E=z.base?R[0]+z.base:R[0],F=_[E]||0,q="".concat(E," ").concat(F);_[E]=F+1;var N=W(q),P={css:R[1],media:R[2],sourceMap:R[3],supports:R[4],layer:R[5]};if(N!==-1)G[N].references++,G[N].updater(P);else{var O=H(P,z);z.byIndex=U,G.splice(U,0,{identifier:q,updater:O,references:1})}M.push(q)}return M}function H(Q,z){var _=z.domAPI(z);return _.update(Q),function(M){if(M){if(M.css===Q.css&&M.media===Q.media&&M.sourceMap===Q.sourceMap&&M.supports===Q.supports&&M.layer===Q.layer)return;_.update(Q=M)}else _.remove()}}K.exports=function(Q,z){var _=Y(Q=Q||[],z=z||{});return function(M){M=M||[];for(var U=0;U<_.length;U++){var R=W(_[U]);G[R].references--}for(var E=Y(M,z),F=0;F<_.length;F++){var q=W(_[F]);G[q].references===0&&(G[q].updater(),G.splice(q,1))}_=E}}},569:(K)=>{var G={};K.exports=function(W,Y){var H=function(Q){if(G[Q]===void 0){var z=document.querySelector(Q);if(window.HTMLIFrameElement&&z instanceof window.HTMLIFrameElement)try{z=z.contentDocument.head}catch(_){z=null}G[Q]=z}return G[Q]}(W);if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");H.appendChild(Y)}},216:(K)=>{K.exports=function(G){var W=document.createElement("style");return G.setAttributes(W,G.attributes),G.insert(W,G.options),W}},565:(K,G,W)=>{K.exports=function(Y){var H=W.nc;H&&Y.setAttribute("nonce",H)}},795:(K)=>{K.exports=function(G){var W=G.insertStyleElement(G);return{update:function(Y){(function(H,Q,z){var _="";z.supports&&(_+="@supports (".concat(z.supports,") {")),z.media&&(_+="@media ".concat(z.media," {"));var M=z.layer!==void 0;M&&(_+="@layer".concat(z.layer.length>0?" ".concat(z.layer):""," {")),_+=z.css,M&&(_+="}"),z.media&&(_+="}"),z.supports&&(_+="}");var U=z.sourceMap;U&&typeof btoa!="undefined"&&(_+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(U))))," */")),Q.styleTagTransform(_,H,Q.options)})(W,G,Y)},remove:function(){(function(Y){if(Y.parentNode===null)return!1;Y.parentNode.removeChild(Y)})(W)}}}},589:(K)=>{K.exports=function(G,W){if(W.styleSheet)W.styleSheet.cssText=G;else{for(;W.firstChild;)W.removeChild(W.firstChild);W.appendChild(document.createTextNode(G))}}},607:function(K,G,W){var Y=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(G,"__esModule",{value:!0}),G.Cursor=G.default=void 0;var H=Y(W(678));G.default=H.default;var Q=Y(W(353));G.Cursor=Q.default,W(413)},353:(K,G,W)=>{Object.defineProperty(G,"__esModule",{value:!0});var Y=W(207),H=function(){function Q(z,_,M){this.id=z,this.name=_,this.color=M,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return Q.prototype.build=function(z){var _=document.createElement(Q.CONTAINER_ELEMENT_TAG);_.classList.add(Q.CURSOR_CLASS),_.id="ql-cursor-".concat(this.id),_.innerHTML=z.template;var M=_.getElementsByClassName(Q.SELECTION_CLASS)[0],U=_.getElementsByClassName(Q.CARET_CONTAINER_CLASS)[0],R=U.getElementsByClassName(Q.CARET_CLASS)[0],E=_.getElementsByClassName(Q.FLAG_CLASS)[0];return E.style.backgroundColor=this.color,R.style.backgroundColor=this.color,_.getElementsByClassName(Q.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(z.hideDelayMs,"ms"),this._hideSpeedMs=z.hideSpeedMs,this._positionFlag=z.positionFlag,E.style.transitionDelay=this._hideDelay,E.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=_,this._selectionEl=M,this._caretEl=U,this._flagEl=E,U.addEventListener("mouseover",this._setHoverState,{passive:!0}),this._el},Q.prototype.show=function(){this._el.classList.remove(Q.HIDDEN_CLASS)},Q.prototype.hide=function(){this._el.classList.add(Q.HIDDEN_CLASS)},Q.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},Q.prototype.toggleNearCursor=function(z,_){var M=this._getCoordinates(),U=M.left,R=M.right,E=M.top,F=M.bottom,q=z>=U&&z<=R&&_>=E&&_<=F;return this._caretEl.classList.toggle(Q.CONTAINER_HOVER_CLASS,q),q},Q.prototype.toggleFlag=function(z){var _=this;this._caretEl.classList.toggle(Q.CONTAINER_HOVER_CLASS,z)||(this._flagEl.classList.add(Q.NO_DELAY_CLASS),setTimeout(function(){return _._flagEl.classList.remove(Q.NO_DELAY_CLASS)},this._hideSpeedMs))},Q.prototype.updateCaret=function(z,_){this._caretEl.style.top="".concat(z.top,"px"),this._caretEl.style.left="".concat(z.left,"px"),this._caretEl.style.height="".concat(z.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,z,_):this._updateCaretFlag(z,_)},Q.prototype.updateSelection=function(z,_){var M=this;this._clearSelection(),z=z||[],z=Array.from(z),z=this._sanitize(z),(z=this._sortByDomPosition(z)).forEach(function(U){return M._addSelection(U,_)})},Q.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor,{passive:!0})},Q.prototype._toggleOpenedCursor=function(z){var _=this.toggleNearCursor(z.clientX,z.clientY);this._caretEl.classList.toggle(Q.CONTAINER_NO_POINTER_CLASS,_),_||document.removeEventListener("mousemove",this._toggleOpenedCursor)},Q.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},Q.prototype._updateCaretFlag=function(z,_){this._flagEl.style.width="";var M=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(Q.FLAG_FLIPPED_CLASS),z.left>_.width-M.width&&this._flagEl.classList.add(Q.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(z.left,"px"),this._flagEl.style.top="".concat(z.top,"px"),this._flagEl.style.width="".concat(Math.ceil(M.width),"px")},Q.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},Q.prototype._addSelection=function(z,_){var M=this._selectionBlock(z,_);this._selectionEl.appendChild(M)},Q.prototype._selectionBlock=function(z,_){var M=document.createElement(Q.SELECTION_ELEMENT_TAG);return M.classList.add(Q.SELECTION_BLOCK_CLASS),M.style.top="".concat(z.top-_.top,"px"),M.style.left="".concat(z.left-_.left,"px"),M.style.width="".concat(z.width,"px"),M.style.height="".concat(z.height,"px"),M.style.backgroundColor=Y(this.color).setAlpha(0.3).toString(),M},Q.prototype._sortByDomPosition=function(z){return z.sort(function(_,M){return _.top===M.top?_.left-M.left:_.top-M.top})},Q.prototype._sanitize=function(z){var _=this,M=new Set;return z.filter(function(U){if(!U.width||!U.height)return!1;var R=_._serialize(U);return!M.has(R)&&(M.add(R),!0)})},Q.prototype._serialize=function(z){return["top:".concat(z.top),"right:".concat(z.right),"bottom:".concat(z.bottom),"left:".concat(z.left)].join(";")},Q.CONTAINER_ELEMENT_TAG="SPAN",Q.SELECTION_ELEMENT_TAG="SPAN",Q.CURSOR_CLASS="ql-cursor",Q.SELECTION_CLASS="ql-cursor-selections",Q.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",Q.CARET_CLASS="ql-cursor-caret",Q.CARET_CONTAINER_CLASS="ql-cursor-caret-container",Q.CONTAINER_HOVER_CLASS="hover",Q.CONTAINER_NO_POINTER_CLASS="no-pointer",Q.FLAG_CLASS="ql-cursor-flag",Q.FLAG_FLIPPED_CLASS="flag-flipped",Q.NAME_CLASS="ql-cursor-name",Q.HIDDEN_CLASS="hidden",Q.NO_DELAY_CLASS="no-delay",Q}();G.default=H},678:function(K,G,W){var Y=this&&this.__createBinding||(Object.create?function(q,N,P,O){O===void 0&&(O=P);var D=Object.getOwnPropertyDescriptor(N,P);D&&!("get"in D?!N.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return N[P]}}),Object.defineProperty(q,O,D)}:function(q,N,P,O){O===void 0&&(O=P),q[O]=N[P]}),H=this&&this.__setModuleDefault||(Object.create?function(q,N){Object.defineProperty(q,"default",{enumerable:!0,value:N})}:function(q,N){q.default=N}),Q=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var N={};if(q!=null)for(var P in q)P!=="default"&&Object.prototype.hasOwnProperty.call(q,P)&&Y(N,q,P);return H(N,q),N},z=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(G,"__esModule",{value:!0});var _=z(W(353)),M=Q(W(165)),U=z(W(338)),R=z(W(33)),E=W(895),F=function(){function q(N,P){P===void 0&&(P={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=N,this.options=this._setDefaults(P),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return q.prototype.createCursor=function(N,P,O){var D=this._cursors[N];if(!D){D=new _.default(N,P,O),this._cursors[N]=D;var x=D.build(this.options);this._container.appendChild(x)}return D},q.prototype.moveCursor=function(N,P){var O=this._cursors[N];O&&(O.range=P,this._updateCursor(O))},q.prototype.removeCursor=function(N){var P=this._cursors[N];P&&(P.remove(),delete this._cursors[N])},q.prototype.update=function(){var N=this;this.cursors().forEach(function(P){return N._updateCursor(P)})},q.prototype.clearCursors=function(){var N=this;this.cursors().forEach(function(P){return N.removeCursor(P.id)})},q.prototype.toggleFlag=function(N,P){var O=this._cursors[N];O&&O.toggleFlag(P)},q.prototype.cursors=function(){var N=this;return Object.keys(this._cursors).map(function(P){return N._cursors[P]})},q.prototype._registerSelectionChangeListeners=function(){var N=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(P){N._currentSelection=P})},q.prototype._registerTextChangeListener=function(){var N=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(P){return N._handleTextChange(P)})},q.prototype._registerDomListeners=function(){var N=this,P=this.quill.container.getElementsByClassName("ql-editor")[0];P.addEventListener("scroll",function(){return N.update()},{passive:!0}),P.addEventListener("touchstart",this._handleCursorTouch,{passive:!0})},q.prototype._handleCursorTouch=function(N){var P=this;this.cursors().forEach(function(O){O.toggleNearCursor(N.pageX,N.pageY),setTimeout(function(){return O.toggleFlag(!1)},P.options.hideDelayMs)})},q.prototype._registerResizeObserver=function(){var N=this;if(!this._isObserving){var P=this.quill.container.getElementsByClassName("ql-editor")[0],O=new R.default(function(D){if(!D[0].target.isConnected)return O.disconnect(),void(N._isObserving=!1);N.update()});O.observe(P),this._isObserving=!0}},q.prototype._updateCursor=function(N){if(this._registerResizeObserver(),!N.range)return N.hide();var P=this._indexWithinQuillBounds(N.range.index),O=this._indexWithinQuillBounds(N.range.index+N.range.length),D=this.quill.getLeaf(P),x=this.quill.getLeaf(O);if(!this._leafIsValid(D)||!this._leafIsValid(x))return N.hide();N.show();var k=this._boundsContainer.getBoundingClientRect(),p=this.quill.getBounds(O);N.updateCaret(p,k);var e=this._lineRanges(N,D,x).reduce(function(Z0,v){return Z0.concat(Array.from(M.getClientRects(v)))},[]);N.updateSelection(e,k)},q.prototype._indexWithinQuillBounds=function(N){var P=this.quill.getLength(),O=P?P-1:0;return N=Math.max(N,0),Math.min(N,O)},q.prototype._leafIsValid=function(N){return N&&N[0]&&N[0].domNode&&N[1]>=0},q.prototype._handleTextChange=function(N){var P=this;window.setTimeout(function(){P.options.transformOnTextChange&&P._transformCursors(N),P.options.selectionChangeSource&&(P._emitSelection(),P.update())})},q.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},q.prototype._setDefaults=function(N){return(N=Object.assign({},N)).template||(N.template=q.DEFAULTS.template),N.containerClass||(N.containerClass=q.DEFAULTS.containerClass),N.selectionChangeSource!==null&&(N.selectionChangeSource||(N.selectionChangeSource=q.DEFAULTS.selectionChangeSource)),N.hideDelayMs=Number.isInteger(N.hideDelayMs)?N.hideDelayMs:q.DEFAULTS.hideDelayMs,N.hideSpeedMs=Number.isInteger(N.hideSpeedMs)?N.hideSpeedMs:q.DEFAULTS.hideSpeedMs,N.transformOnTextChange=!!N.transformOnTextChange,N},q.prototype._lineRanges=function(N,P,O){var D=this.quill.getLines(N.range);return D.reduce(function(x,k,p){if(!k.children){var e=document.createRange();return e.selectNode(k.domNode),x.concat(e)}var Z0=p===0?P:k.path(0).pop(),v=Z0[0],h=Z0[1],T=p===D.length-1?O:k.path(k.length()-1).pop(),j=T[0],i=T[1],n=document.createRange();return v.domNode.nodeType===Node.TEXT_NODE?n.setStart(v.domNode,h):n.setStartBefore(v.domNode),j.domNode.nodeType===Node.TEXT_NODE?n.setEnd(j.domNode,i):n.setEndAfter(j.domNode),x.concat(n)},[])},q.prototype._transformCursors=function(N){var P=this;N=new E(N),this.cursors().filter(function(O){return O.range}).forEach(function(O){O.range.index=N.transformPosition(O.range.index),P._updateCursor(O)})},q.DEFAULTS={template:U.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3000,hideSpeedMs:400},q}();G.default=F},338:function(K,G,W){var Y=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(G,"__esModule",{value:!0});var H=Y(W(353)),Q='\n  <span class="'.concat(H.default.SELECTION_CLASS,'"></span>\n  <span class="').concat(H.default.CARET_CONTAINER_CLASS,'">\n    <span class="').concat(H.default.CARET_CLASS,'"></span>\n  </span>\n  <div class="').concat(H.default.FLAG_CLASS,'">\n    <small class="').concat(H.default.NAME_CLASS,'"></small>\n  </div>\n');G.default=Q},207:function(K){K.exports=function(){const G=/^\s+/,W=/\s+$/;function Y(V,A){if(A=A||{},(V=V||"")instanceof Y)return V;if(!(this instanceof Y))return new Y(V,A);var B=function(I){var u={r:0,g:0,b:0},o=1,s=null,Q0=null,G0=null,z0=!1,e0=!1;return typeof I=="string"&&(I=function(J0){J0=J0.replace(G,"").replace(W,"").toLowerCase();var g,Y0=!1;if(p[J0])J0=p[J0],Y0=!0;else if(J0=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(g=a.rgb.exec(J0))?{r:g[1],g:g[2],b:g[3]}:(g=a.rgba.exec(J0))?{r:g[1],g:g[2],b:g[3],a:g[4]}:(g=a.hsl.exec(J0))?{h:g[1],s:g[2],l:g[3]}:(g=a.hsla.exec(J0))?{h:g[1],s:g[2],l:g[3],a:g[4]}:(g=a.hsv.exec(J0))?{h:g[1],s:g[2],v:g[3]}:(g=a.hsva.exec(J0))?{h:g[1],s:g[2],v:g[3],a:g[4]}:(g=a.hex8.exec(J0))?{r:T(g[1]),g:T(g[2]),b:T(g[3]),a:M0(g[4]),format:Y0?"name":"hex8"}:(g=a.hex6.exec(J0))?{r:T(g[1]),g:T(g[2]),b:T(g[3]),format:Y0?"name":"hex"}:(g=a.hex4.exec(J0))?{r:T(g[1]+""+g[1]),g:T(g[2]+""+g[2]),b:T(g[3]+""+g[3]),a:M0(g[4]+""+g[4]),format:Y0?"name":"hex8"}:!!(g=a.hex3.exec(J0))&&{r:T(g[1]+""+g[1]),g:T(g[2]+""+g[2]),b:T(g[3]+""+g[3]),format:Y0?"name":"hex"}}(I)),typeof I=="object"&&(g0(I.r)&&g0(I.g)&&g0(I.b)?(Q1=I.r,w1=I.g,z1=I.b,u={r:255*v(Q1,255),g:255*v(w1,255),b:255*v(z1,255)},z0=!0,e0=String(I.r).substr(-1)==="%"?"prgb":"rgb"):g0(I.h)&&g0(I.s)&&g0(I.v)?(s=i(I.s),Q0=i(I.v),u=function(J0,g,Y0){J0=6*v(J0,360),g=v(g,100),Y0=v(Y0,100);var x0=Math.floor(J0),B0=J0-x0,q0=Y0*(1-g),y0=Y0*(1-B0*g),E0=Y0*(1-(1-B0)*g),L0=x0%6;return{r:255*[Y0,y0,q0,q0,E0,Y0][L0],g:255*[E0,Y0,Y0,y0,q0,q0][L0],b:255*[q0,q0,E0,Y0,Y0,y0][L0]}}(I.h,s,Q0),z0=!0,e0="hsv"):g0(I.h)&&g0(I.s)&&g0(I.l)&&(s=i(I.s),G0=i(I.l),u=function(J0,g,Y0){var x0,B0,q0;function y0(w0,Z1,S0){return S0<0&&(S0+=1),S0>1&&(S0-=1),S0<0.16666666666666666?w0+6*(Z1-w0)*S0:S0<0.5?Z1:S0<0.6666666666666666?w0+(Z1-w0)*(0.6666666666666666-S0)*6:w0}if(J0=v(J0,360),g=v(g,100),Y0=v(Y0,100),g===0)x0=B0=q0=Y0;else{var E0=Y0<0.5?Y0*(1+g):Y0+g-Y0*g,L0=2*Y0-E0;x0=y0(L0,E0,J0+0.3333333333333333),B0=y0(L0,E0,J0),q0=y0(L0,E0,J0-0.3333333333333333)}return{r:255*x0,g:255*B0,b:255*q0}}(I.h,s,G0),z0=!0,e0="hsl"),I.hasOwnProperty("a")&&(o=I.a)),o=Z0(o),{ok:z0,format:I.format||e0,r:Math.min(255,Math.max(u.r,0)),g:Math.min(255,Math.max(u.g,0)),b:Math.min(255,Math.max(u.b,0)),a:o};var Q1,w1,z1}(V);this._originalInput=V,this._r=B.r,this._g=B.g,this._b=B.b,this._a=B.a,this._roundA=Math.round(100*this._a)/100,this._format=A.format||B.format,this._gradientType=A.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=B.ok}function H(V,A,B){V=v(V,255),A=v(A,255),B=v(B,255);var I,u,o=Math.max(V,A,B),s=Math.min(V,A,B),Q0=(o+s)/2;if(o==s)I=u=0;else{var G0=o-s;switch(u=Q0>0.5?G0/(2-o-s):G0/(o+s),o){case V:I=(A-B)/G0+(A<B?6:0);break;case A:I=(B-V)/G0+2;break;case B:I=(V-A)/G0+4}I/=6}return{h:I,s:u,l:Q0}}function Q(V,A,B){V=v(V,255),A=v(A,255),B=v(B,255);var I,u,o=Math.max(V,A,B),s=Math.min(V,A,B),Q0=o,G0=o-s;if(u=o===0?0:G0/o,o==s)I=0;else{switch(o){case V:I=(A-B)/G0+(A<B?6:0);break;case A:I=(B-V)/G0+2;break;case B:I=(V-A)/G0+4}I/=6}return{h:I,s:u,v:Q0}}function z(V,A,B,I){var u=[j(Math.round(V).toString(16)),j(Math.round(A).toString(16)),j(Math.round(B).toString(16))];return I&&u[0].charAt(0)==u[0].charAt(1)&&u[1].charAt(0)==u[1].charAt(1)&&u[2].charAt(0)==u[2].charAt(1)?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0):u.join("")}function _(V,A,B,I){return[j(n(I)),j(Math.round(V).toString(16)),j(Math.round(A).toString(16)),j(Math.round(B).toString(16))].join("")}function M(V,A){A=A===0?0:A||10;var B=Y(V).toHsl();return B.s-=A/100,B.s=h(B.s),Y(B)}function U(V,A){A=A===0?0:A||10;var B=Y(V).toHsl();return B.s+=A/100,B.s=h(B.s),Y(B)}function R(V){return Y(V).desaturate(100)}function E(V,A){A=A===0?0:A||10;var B=Y(V).toHsl();return B.l+=A/100,B.l=h(B.l),Y(B)}function F(V,A){A=A===0?0:A||10;var B=Y(V).toRgb();return B.r=Math.max(0,Math.min(255,B.r-Math.round(-A/100*255))),B.g=Math.max(0,Math.min(255,B.g-Math.round(-A/100*255))),B.b=Math.max(0,Math.min(255,B.b-Math.round(-A/100*255))),Y(B)}function q(V,A){A=A===0?0:A||10;var B=Y(V).toHsl();return B.l-=A/100,B.l=h(B.l),Y(B)}function N(V,A){var B=Y(V).toHsl(),I=(B.h+A)%360;return B.h=I<0?360+I:I,Y(B)}function P(V){var A=Y(V).toHsl();return A.h=(A.h+180)%360,Y(A)}function O(V,A){if(isNaN(A)||A<=0)throw new Error("Argument to polyad must be a positive number");for(var B=Y(V).toHsl(),I=[Y(V)],u=360/A,o=1;o<A;o++)I.push(Y({h:(B.h+o*u)%360,s:B.s,l:B.l}));return I}function D(V){var A=Y(V).toHsl(),B=A.h;return[Y(V),Y({h:(B+72)%360,s:A.s,l:A.l}),Y({h:(B+216)%360,s:A.s,l:A.l})]}function x(V,A,B){A=A||6,B=B||30;var I=Y(V).toHsl(),u=360/B,o=[Y(V)];for(I.h=(I.h-(u*A>>1)+720)%360;--A;)I.h=(I.h+u)%360,o.push(Y(I));return o}function k(V,A){A=A||6;for(var B=Y(V).toHsv(),I=B.h,u=B.s,o=B.v,s=[],Q0=1/A;A--;)s.push(Y({h:I,s:u,v:o})),o=(o+Q0)%1;return s}Y.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var V=this.toRgb();return(299*V.r+587*V.g+114*V.b)/1000},getLuminance:function(){var V,A,B,I=this.toRgb();return V=I.r/255,A=I.g/255,B=I.b/255,0.2126*(V<=0.03928?V/12.92:Math.pow((V+0.055)/1.055,2.4))+0.7152*(A<=0.03928?A/12.92:Math.pow((A+0.055)/1.055,2.4))+0.0722*(B<=0.03928?B/12.92:Math.pow((B+0.055)/1.055,2.4))},setAlpha:function(V){return this._a=Z0(V),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var V=Q(this._r,this._g,this._b);return{h:360*V.h,s:V.s,v:V.v,a:this._a}},toHsvString:function(){var V=Q(this._r,this._g,this._b),A=Math.round(360*V.h),B=Math.round(100*V.s),I=Math.round(100*V.v);return this._a==1?"hsv("+A+", "+B+"%, "+I+"%)":"hsva("+A+", "+B+"%, "+I+"%, "+this._roundA+")"},toHsl:function(){var V=H(this._r,this._g,this._b);return{h:360*V.h,s:V.s,l:V.l,a:this._a}},toHslString:function(){var V=H(this._r,this._g,this._b),A=Math.round(360*V.h),B=Math.round(100*V.s),I=Math.round(100*V.l);return this._a==1?"hsl("+A+", "+B+"%, "+I+"%)":"hsla("+A+", "+B+"%, "+I+"%, "+this._roundA+")"},toHex:function(V){return z(this._r,this._g,this._b,V)},toHexString:function(V){return"#"+this.toHex(V)},toHex8:function(V){return function(A,B,I,u,o){var s=[j(Math.round(A).toString(16)),j(Math.round(B).toString(16)),j(Math.round(I).toString(16)),j(n(u))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,V)},toHex8String:function(V){return"#"+this.toHex8(V)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*v(this._r,255))+"%",g:Math.round(100*v(this._g,255))+"%",b:Math.round(100*v(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*v(this._r,255))+"%, "+Math.round(100*v(this._g,255))+"%, "+Math.round(100*v(this._b,255))+"%)":"rgba("+Math.round(100*v(this._r,255))+"%, "+Math.round(100*v(this._g,255))+"%, "+Math.round(100*v(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(e[z(this._r,this._g,this._b,!0)]||!1)},toFilter:function(V){var A="#"+_(this._r,this._g,this._b,this._a),B=A,I=this._gradientType?"GradientType = 1, ":"";if(V){var u=Y(V);B="#"+_(u._r,u._g,u._b,u._a)}return"progid:DXImageTransform.Microsoft.gradient("+I+"startColorstr="+A+",endColorstr="+B+")"},toString:function(V){var A=!!V;V=V||this._format;var B=!1,I=this._a<1&&this._a>=0;return A||!I||V!=="hex"&&V!=="hex6"&&V!=="hex3"&&V!=="hex4"&&V!=="hex8"&&V!=="name"?(V==="rgb"&&(B=this.toRgbString()),V==="prgb"&&(B=this.toPercentageRgbString()),V!=="hex"&&V!=="hex6"||(B=this.toHexString()),V==="hex3"&&(B=this.toHexString(!0)),V==="hex4"&&(B=this.toHex8String(!0)),V==="hex8"&&(B=this.toHex8String()),V==="name"&&(B=this.toName()),V==="hsl"&&(B=this.toHslString()),V==="hsv"&&(B=this.toHsvString()),B||this.toHexString()):V==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return Y(this.toString())},_applyModification:function(V,A){var B=V.apply(null,[this].concat([].slice.call(A)));return this._r=B._r,this._g=B._g,this._b=B._b,this.setAlpha(B._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(F,arguments)},darken:function(){return this._applyModification(q,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(U,arguments)},greyscale:function(){return this._applyModification(R,arguments)},spin:function(){return this._applyModification(N,arguments)},_applyCombination:function(V,A){return V.apply(null,[this].concat([].slice.call(A)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(P,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(O,[3])},tetrad:function(){return this._applyCombination(O,[4])}},Y.fromRatio=function(V,A){if(typeof V=="object"){var B={};for(var I in V)V.hasOwnProperty(I)&&(B[I]=I==="a"?V[I]:i(V[I]));V=B}return Y(V,A)},Y.equals=function(V,A){return!(!V||!A)&&Y(V).toRgbString()==Y(A).toRgbString()},Y.random=function(){return Y.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Y.mix=function(V,A,B){B=B===0?0:B||50;var I=Y(V).toRgb(),u=Y(A).toRgb(),o=B/100;return Y({r:(u.r-I.r)*o+I.r,g:(u.g-I.g)*o+I.g,b:(u.b-I.b)*o+I.b,a:(u.a-I.a)*o+I.a})},Y.readability=function(V,A){var B=Y(V),I=Y(A);return(Math.max(B.getLuminance(),I.getLuminance())+0.05)/(Math.min(B.getLuminance(),I.getLuminance())+0.05)},Y.isReadable=function(V,A,B){var I,u,o,s,Q0,G0=Y.readability(V,A);switch(u=!1,(o=B,(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&s!=="AAA"&&(s="AA"),(Q0=(o.size||"small").toLowerCase())!=="small"&&Q0!=="large"&&(Q0="small"),I={level:s,size:Q0}).level+I.size){case"AAsmall":case"AAAlarge":u=G0>=4.5;break;case"AAlarge":u=G0>=3;break;case"AAAsmall":u=G0>=7}return u},Y.mostReadable=function(V,A,B){var I,u,o,s,Q0=null,G0=0;u=(B=B||{}).includeFallbackColors,o=B.level,s=B.size;for(var z0=0;z0<A.length;z0++)(I=Y.readability(V,A[z0]))>G0&&(G0=I,Q0=Y(A[z0]));return Y.isReadable(V,Q0,{level:o,size:s})||!u?Q0:(B.includeFallbackColors=!1,Y.mostReadable(V,["#fff","#000"],B))};var p=Y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},e=Y.hexNames=function(V){var A={};for(var B in V)V.hasOwnProperty(B)&&(A[V[B]]=B);return A}(p);function Z0(V){return V=parseFloat(V),(isNaN(V)||V<0||V>1)&&(V=1),V}function v(V,A){(function(I){return typeof I=="string"&&I.indexOf(".")!=-1&&parseFloat(I)===1})(V)&&(V="100%");var B=function(I){return typeof I=="string"&&I.indexOf("%")!=-1}(V);return V=Math.min(A,Math.max(0,parseFloat(V))),B&&(V=parseInt(V*A,10)/100),Math.abs(V-A)<0.000001?1:V%A/parseFloat(A)}function h(V){return Math.min(1,Math.max(0,V))}function T(V){return parseInt(V,16)}function j(V){return V.length==1?"0"+V:""+V}function i(V){return V<=1&&(V=100*V+"%"),V}function n(V){return Math.round(255*parseFloat(V)).toString(16)}function M0(V){return T(V)/255}var N0,C0,V0,a=(C0="[\\s|\\(]+("+(N0="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N0+")[,|\\s]+("+N0+")\\s*\\)?",V0="[\\s|\\(]+("+N0+")[,|\\s]+("+N0+")[,|\\s]+("+N0+")[,|\\s]+("+N0+")\\s*\\)?",{CSS_UNIT:new RegExp(N0),rgb:new RegExp("rgb"+C0),rgba:new RegExp("rgba"+V0),hsl:new RegExp("hsl"+C0),hsla:new RegExp("hsla"+V0),hsv:new RegExp("hsv"+C0),hsva:new RegExp("hsva"+V0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function g0(V){return!!a.CSS_UNIT.exec(V)}return Y}()}},$={};function J(K){var G=$[K];if(G!==void 0)return G.exports;var W=$[K]={id:K,loaded:!1,exports:{}};return Z[K].call(W.exports,W,W.exports,J),W.loaded=!0,W.exports}J.n=(K)=>{var G=K&&K.__esModule?()=>K.default:()=>K;return J.d(G,{a:G}),G},J.d=(K,G)=>{for(var W in G)J.o(G,W)&&!J.o(K,W)&&Object.defineProperty(K,W,{enumerable:!0,get:G[W]})},J.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(K){if(typeof window=="object")return window}}(),J.o=(K,G)=>Object.prototype.hasOwnProperty.call(K,G),J.r=(K)=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},J.nmd=(K)=>(K.paths=[],K.children||(K.children=[]),K),J.nc=void 0;var X=J(607);return X.default})())});var H7={};v4(H7,{typeMapGetSnapshot:()=>gM,typeMapGetAllSnapshot:()=>pG,typeListToArraySnapshot:()=>kM,tryGc:()=>VM,transact:()=>I0,snapshotContainsUpdate:()=>EM,snapshot:()=>FM,relativePositionToJSON:()=>GM,readUpdateV2:()=>t9,readUpdate:()=>ZM,parseUpdateMetaV2:()=>AG,parseUpdateMeta:()=>DM,obfuscateUpdateV2:()=>fM,obfuscateUpdate:()=>SM,mergeUpdatesV2:()=>Z7,mergeUpdates:()=>LG,mergeDeleteSets:()=>r6,logUpdateV2:()=>PG,logUpdate:()=>wM,logType:()=>KM,iterateDeletedStructs:()=>o6,isParentOf:()=>e4,isDeleted:()=>$8,getTypeChildren:()=>vM,getState:()=>m0,getItem:()=>n6,findRootTypeKey:()=>KJ,findIndexSS:()=>Z5,equalSnapshots:()=>_M,equalDeleteSets:()=>KG,encodeStateVectorFromUpdateV2:()=>wG,encodeStateVectorFromUpdate:()=>BM,encodeStateVector:()=>XJ,encodeStateAsUpdateV2:()=>WG,encodeStateAsUpdate:()=>ZJ,encodeSnapshotV2:()=>_G,encodeSnapshot:()=>MM,encodeRelativePosition:()=>HM,emptySnapshot:()=>UM,diffUpdateV2:()=>QJ,diffUpdate:()=>CM,decodeUpdateV2:()=>VG,decodeUpdate:()=>AM,decodeStateVector:()=>$J,decodeSnapshotV2:()=>MG,decodeSnapshot:()=>qM,decodeRelativePosition:()=>zM,createSnapshot:()=>WJ,createRelativePositionFromTypeIndex:()=>BZ,createRelativePositionFromJSON:()=>AZ,createID:()=>X0,createDocFromSnapshot:()=>NM,createDeleteSetFromStructStore:()=>o9,createDeleteSet:()=>LZ,createAbsolutePositionFromRelativePosition:()=>DZ,convertUpdateFormatV2ToV1:()=>IG,convertUpdateFormatV1ToV2:()=>TM,compareRelativePositions:()=>IZ,compareIDs:()=>s6,cleanupYTextFormatting:()=>lG,applyUpdateV2:()=>wZ,applyUpdate:()=>e9,YXmlEvent:()=>RJ,YTextEvent:()=>NJ,YMapEvent:()=>FJ,YEvent:()=>c8,YArrayEvent:()=>UJ,XmlText:()=>X7,XmlHook:()=>u8,XmlFragment:()=>P6,XmlElement:()=>V6,UpdateEncoderV2:()=>e1,UpdateEncoderV1:()=>o5,UpdateDecoderV2:()=>j1,UpdateDecoderV1:()=>l1,UndoManager:()=>OG,Transaction:()=>HJ,Text:()=>t6,Snapshot:()=>CZ,Skip:()=>R1,RelativePosition:()=>G7,PermanentUserData:()=>zG,Map:()=>O6,Item:()=>A0,ID:()=>E6,GC:()=>D1,Doc:()=>n5,ContentType:()=>J5,ContentString:()=>$5,ContentJSON:()=>d8,ContentFormat:()=>a0,ContentEmbed:()=>a5,ContentDoc:()=>X8,ContentDeleted:()=>e6,ContentBinary:()=>J8,ContentAny:()=>s5,Array:()=>l5,AbstractType:()=>W1,AbstractStruct:()=>Y7,AbstractConnector:()=>XG,AbsolutePosition:()=>GJ});var l0=()=>new Map,r7=(Z)=>{const $=l0();return Z.forEach((J,X)=>{$.set(X,J)}),$},M1=(Z,$,J)=>{let X=Z.get($);if(X===void 0)Z.set($,X=J());return X},sX=(Z,$)=>{const J=[];for(let[X,K]of Z)J.push($(K,X));return J},nX=(Z,$)=>{for(let[J,X]of Z)if($(X,J))return!0;return!1};var r1=()=>new Set;var t7=(Z)=>Z[Z.length-1];var oX=(Z,$)=>{for(let J=0;J<$.length;J++)Z.push($[J])},U5=Array.from;var rX=(Z,$)=>{for(let J=0;J<Z.length;J++)if($(Z[J],J,Z))return!0;return!1};var aX=(Z,$)=>{const J=new Array(Z);for(let X=0;X<Z;X++)J[X]=$(X,J);return J};var k4=Array.isArray;class y4{constructor(){this._observers=l0()}on(Z,$){return M1(this._observers,Z,r1).add($),$}once(Z,$){const J=(...X)=>{this.off(Z,J),$(...X)};this.on(Z,J)}off(Z,$){const J=this._observers.get(Z);if(J!==void 0){if(J.delete($),J.size===0)this._observers.delete(Z)}}emit(Z,$){return U5((this._observers.get(Z)||l0()).values()).forEach((J)=>J(...$))}destroy(){this._observers=l0()}}class b4{constructor(){this._observers=l0()}on(Z,$){M1(this._observers,Z,r1).add($)}once(Z,$){const J=(...X)=>{this.off(Z,J),$(...X)};this.on(Z,J)}off(Z,$){const J=this._observers.get(Z);if(J!==void 0){if(J.delete($),J.size===0)this._observers.delete(Z)}}emit(Z,$){return U5((this._observers.get(Z)||l0()).values()).forEach((J)=>J(...$))}destroy(){this._observers=l0()}}var T1=Math.floor;var D8=Math.abs;var I8=(Z,$)=>Z<$?Z:$,u5=(Z,$)=>Z>$?Z:$,gL=Number.isNaN,tX=Math.pow;var ZZ=(Z)=>Z!==0?Z<0:1/Z<0;var U9=1,F9=2,$Z=4,JZ=8;var S8=32,a1=64,N1=128;var g4=31,p4=63,d5=127;var eX=2147483647;var{MAX_SAFE_INTEGER:R9,MIN_SAFE_INTEGER:pL}=Number;var ZK=Number.isInteger||((Z)=>typeof Z==="number"&&isFinite(Z)&&T1(Z)===Z),mL=Number.isNaN,uL=Number.parseInt;var{fromCharCode:E9,fromCodePoint:dL}=String,cL=E9(65535),W2=(Z)=>Z.toLowerCase(),Y2=/^\s*/g,H2=(Z)=>Z.replace(Y2,""),Q2=/([A-Z])/g,O9=(Z,$)=>H2(Z.replace(Q2,(J)=>`${$}${W2(J)}`));var z2=(Z)=>{const $=unescape(encodeURIComponent(Z)),J=$.length,X=new Uint8Array(J);for(let K=0;K<J;K++)X[K]=$.codePointAt(K);return X},T8=typeof TextEncoder!=="undefined"?new TextEncoder:null,_2=(Z)=>T8.encode(Z),JK=T8?_2:z2;var f8=typeof TextDecoder==="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});if(f8&&f8.decode(new Uint8Array).length===1)f8=null;var XK=(Z,$)=>aX($,()=>Z).join("");class h8{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}var o0=()=>new h8;var XZ=(Z)=>{let $=Z.cpos;for(let J=0;J<Z.bufs.length;J++)$+=Z.bufs[J].length;return $};var D0=(Z)=>{const $=new Uint8Array(XZ(Z));let J=0;for(let X=0;X<Z.bufs.length;X++){const K=Z.bufs[X];$.set(K,J),J+=K.length}return $.set(new Uint8Array(Z.cbuf.buffer,0,Z.cpos),J),$},M2=(Z,$)=>{const J=Z.cbuf.length;if(J-Z.cpos<$)Z.bufs.push(new Uint8Array(Z.cbuf.buffer,0,Z.cpos)),Z.cbuf=new Uint8Array(u5(J,$)*2),Z.cpos=0},q1=(Z,$)=>{const J=Z.cbuf.length;if(Z.cpos===J)Z.bufs.push(Z.cbuf),Z.cbuf=new Uint8Array(J*2),Z.cpos=0;Z.cbuf[Z.cpos++]=$};var x8=q1;var l=(Z,$)=>{while($>d5)q1(Z,N1|d5&$),$=T1($/128);q1(Z,d5&$)},u4=(Z,$)=>{const J=ZZ($);if(J)$=-$;q1(Z,($>p4?N1:0)|(J?a1:0)|p4&$),$=T1($/64);while($>0)q1(Z,($>d5?N1:0)|d5&$),$=T1($/128)},P9=new Uint8Array(30000),q2=P9.length/3,U2=(Z,$)=>{if($.length<q2){const J=T8.encodeInto($,P9).written||0;l(Z,J);for(let X=0;X<J;X++)q1(Z,P9[X])}else b0(Z,JK($))},F2=(Z,$)=>{const J=unescape(encodeURIComponent($)),X=J.length;l(Z,X);for(let K=0;K<X;K++)q1(Z,J.codePointAt(K))},A5=T8&&T8.encodeInto?U2:F2;var YK=(Z,$)=>v8(Z,D0($)),v8=(Z,$)=>{const J=Z.cbuf.length,X=Z.cpos,K=I8(J-X,$.length),G=$.length-K;if(Z.cbuf.set($.subarray(0,K),X),Z.cpos+=K,G>0)Z.bufs.push(Z.cbuf),Z.cbuf=new Uint8Array(u5(J*2,G)),Z.cbuf.set($.subarray(K)),Z.cpos=G},b0=(Z,$)=>{l(Z,$.byteLength),v8(Z,$)},V9=(Z,$)=>{M2(Z,$);const J=new DataView(Z.cbuf.buffer,Z.cpos,$);return Z.cpos+=$,J},N2=(Z,$)=>V9(Z,4).setFloat32(0,$,!1),R2=(Z,$)=>V9(Z,8).setFloat64(0,$,!1),E2=(Z,$)=>V9(Z,8).setBigInt64(0,$,!1);var KK=new DataView(new ArrayBuffer(4)),O2=(Z)=>{return KK.setFloat32(0,Z),KK.getFloat32(0)===Z},j8=(Z,$)=>{switch(typeof $){case"string":q1(Z,119),A5(Z,$);break;case"number":if(ZK($)&&D8($)<=eX)q1(Z,125),u4(Z,$);else if(O2($))q1(Z,124),N2(Z,$);else q1(Z,123),R2(Z,$);break;case"bigint":q1(Z,122),E2(Z,$);break;case"object":if($===null)q1(Z,126);else if(k4($)){q1(Z,117),l(Z,$.length);for(let J=0;J<$.length;J++)j8(Z,$[J])}else if($ instanceof Uint8Array)q1(Z,116),b0(Z,$);else{q1(Z,118);const J=Object.keys($);l(Z,J.length);for(let X=0;X<J.length;X++){const K=J[X];A5(Z,K),j8(Z,$[K])}}break;case"boolean":q1(Z,$?120:121);break;default:q1(Z,127)}};class KZ extends h8{constructor(Z){super();this.w=Z,this.s=null,this.count=0}write(Z){if(this.s===Z)this.count++;else{if(this.count>0)l(this,this.count-1);this.count=1,this.w(this,Z),this.s=Z}}}var GK=(Z)=>{if(Z.count>0){if(u4(Z.encoder,Z.count===1?Z.s:-Z.s),Z.count>1)l(Z.encoder,Z.count-2)}};class k8{constructor(){this.encoder=new h8,this.s=0,this.count=0}write(Z){if(this.s===Z)this.count++;else GK(this),this.count=1,this.s=Z}toUint8Array(){return GK(this),D0(this.encoder)}}var WK=(Z)=>{if(Z.count>0){const $=Z.diff*2+(Z.count===1?0:1);if(u4(Z.encoder,$),Z.count>1)l(Z.encoder,Z.count-2)}};class d4{constructor(){this.encoder=new h8,this.s=0,this.count=0,this.diff=0}write(Z){if(this.diff===Z-this.s)this.s=Z,this.count++;else WK(this),this.count=1,this.diff=Z-this.s,this.s=Z}toUint8Array(){return WK(this),D0(this.encoder)}}class L9{constructor(){this.sarr=[],this.s="",this.lensE=new k8}write(Z){if(this.s+=Z,this.s.length>19)this.sarr.push(this.s),this.s="";this.lensE.write(Z.length)}toUint8Array(){const Z=new h8;return this.sarr.push(this.s),this.s="",A5(Z,this.sarr.join("")),v8(Z,this.lensE.toUint8Array()),D0(Z)}}var B5=(Z)=>new Error(Z),F5=()=>{throw B5("Method unimplemented")},A1=()=>{throw B5("Unexpected case")};var QK=B5("Unexpected end of array"),zK=B5("Integer out of Range");class c4{constructor(Z){this.arr=Z,this.pos=0}}var r0=(Z)=>new c4(Z),w9=(Z)=>Z.pos!==Z.arr.length;var P2=(Z,$)=>{const J=new Uint8Array(Z.arr.buffer,Z.pos+Z.arr.byteOffset,$);return Z.pos+=$,J},G1=(Z)=>P2(Z,t(Z));var l6=(Z)=>Z.arr[Z.pos++];var t=(Z)=>{let $=0,J=1;const X=Z.arr.length;while(Z.pos<X){const K=Z.arr[Z.pos++];if($=$+(K&d5)*J,J*=128,K<N1)return $;if($>R9)throw zK}throw QK},l4=(Z)=>{let $=Z.arr[Z.pos++],J=$&p4,X=64;const K=($&a1)>0?-1:1;if(($&N1)===0)return K*J;const G=Z.arr.length;while(Z.pos<G){if($=Z.arr[Z.pos++],J=J+($&d5)*X,X*=128,$<N1)return K*J;if(J>R9)throw zK}throw QK};var V2=(Z)=>{let $=t(Z);if($===0)return"";else{let J=String.fromCodePoint(l6(Z));if(--$<100)while($--)J+=String.fromCodePoint(l6(Z));else while($>0){const X=$<1e4?$:1e4,K=Z.arr.subarray(Z.pos,Z.pos+X);Z.pos+=X,J+=String.fromCodePoint.apply(null,K),$-=X}return decodeURIComponent(escape(J))}},L2=(Z)=>f8.decode(G1(Z)),t1=f8?L2:V2;var A9=(Z,$)=>{const J=new DataView(Z.arr.buffer,Z.arr.byteOffset+Z.pos,$);return Z.pos+=$,J},w2=(Z)=>A9(Z,4).getFloat32(0,!1),A2=(Z)=>A9(Z,8).getFloat64(0,!1),B2=(Z)=>A9(Z,8).getBigInt64(0,!1);var D2=[(Z)=>{return},(Z)=>null,l4,w2,A2,B2,(Z)=>!1,(Z)=>!0,t1,(Z)=>{const $=t(Z),J={};for(let X=0;X<$;X++){const K=t1(Z);J[K]=y8(Z)}return J},(Z)=>{const $=t(Z),J=[];for(let X=0;X<$;X++)J.push(y8(Z));return J},G1],y8=(Z)=>D2[127-l6(Z)](Z);class WZ extends c4{constructor(Z,$){super(Z);this.reader=$,this.s=null,this.count=0}read(){if(this.count===0)if(this.s=this.reader(this),w9(this))this.count=t(this)+1;else this.count=-1;return this.count--,this.s}}class b8 extends c4{constructor(Z){super(Z);this.s=0,this.count=0}read(){if(this.count===0){this.s=l4(this);const Z=ZZ(this.s);if(this.count=1,Z)this.s=-this.s,this.count=t(this)+2}return this.count--,this.s}}class i4 extends c4{constructor(Z){super(Z);this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const Z=l4(this),$=Z&1;if(this.diff=T1(Z/2),this.count=1,$)this.count=t(this)+2}return this.s+=this.diff,this.count--,this.s}}class B9{constructor(Z){this.decoder=new b8(Z),this.str=t1(this.decoder),this.spos=0}read(){const Z=this.spos+this.decoder.read(),$=this.str.slice(this.spos,Z);return this.spos=Z,$}}var sL=crypto.subtle,_K=crypto.getRandomValues.bind(crypto);var D9=()=>_K(new Uint32Array(1))[0];var I2=[1e7]+-1000+-4000+-8000+-100000000000,MK=()=>I2.replace(/[018]/g,(Z)=>(Z^D9()&15>>Z/4).toString(16));var c1=Date.now;var I9=(Z)=>new Promise(Z);var rL=Promise.all.bind(Promise);var C9=(Z)=>Z===void 0?null:Z;class qK{constructor(){this.map=new Map}setItem(Z,$){this.map.set(Z,$)}getItem(Z){return this.map.get(Z)}}var UK=new qK,S9=!0;try{if(typeof localStorage!=="undefined"&&localStorage)UK=localStorage,S9=!1}catch(Z){}var HZ=UK,FK=(Z)=>S9||addEventListener("storage",Z),NK=(Z)=>S9||removeEventListener("storage",Z);var{assign:OK,keys:PK}=Object,VK=(Z,$)=>{for(let J in Z)$(Z[J],J)},LK=(Z,$)=>{const J=[];for(let X in Z)J.push($(Z[X],X));return J},f9=(Z)=>PK(Z).length,EK=(Z)=>PK(Z).length;var wK=(Z)=>{for(let $ in Z)return!1;return!0},T2=(Z,$)=>{for(let J in Z)if(!$(Z[J],J))return!1;return!0},T9=(Z,$)=>Object.prototype.hasOwnProperty.call(Z,$),j9=(Z,$)=>Z===$||EK(Z)===EK($)&&T2(Z,(J,X)=>(J!==void 0||T9($,X))&&$[X]===J);var n4=(Z,$,J=0)=>{try{for(;J<Z.length;J++)Z[J](...$)}finally{if(J<Z.length)n4(Z,$,J+1)}};var x9=(Z)=>Z,j2=(Z,$)=>Z===$;var g8=(Z,$)=>{if(Z==null||$==null)return j2(Z,$);if(Z.constructor!==$.constructor)return!1;if(Z===$)return!0;switch(Z.constructor){case ArrayBuffer:Z=new Uint8Array(Z),$=new Uint8Array($);case Uint8Array:{if(Z.byteLength!==$.byteLength)return!1;for(let J=0;J<Z.length;J++)if(Z[J]!==$[J])return!1;break}case Set:{if(Z.size!==$.size)return!1;for(let J of Z)if(!$.has(J))return!1;break}case Map:{if(Z.size!==$.size)return!1;for(let J of Z.keys())if(!$.has(J)||!g8(Z.get(J),$.get(J)))return!1;break}case Object:if(f9(Z)!==f9($))return!1;for(let J in Z)if(!T9(Z,J)||!g8(Z[J],$[J]))return!1;break;case Array:if(Z.length!==$.length)return!1;for(let J=0;J<Z.length;J++)if(!g8(Z[J],$[J]))return!1;break;default:return!1}return!0},AK=(Z,$)=>$.includes(Z);var c5=typeof process!=="undefined"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process!=="undefined"?process:0)==="[object process]",QZ=typeof window!=="undefined"&&typeof document!=="undefined"&&!c5,aL=typeof navigator!=="undefined"?/Mac/.test(navigator.platform):!1,D5,h2=[],x2=()=>{if(D5===void 0)if(c5){D5=l0();const Z=process.argv;let $=null;for(let J=0;J<Z.length;J++){const X=Z[J];if(X[0]==="-"){if($!==null)D5.set($,"");$=X}else if($!==null)D5.set($,X),$=null;else h2.push(X)}if($!==null)D5.set($,"")}else if(typeof location==="object")D5=l0(),(location.search||"?").slice(1).split("&").forEach((Z)=>{if(Z.length!==0){const[$,J]=Z.split("=");D5.set(`--${O9($,"-")}`,J),D5.set(`-${O9($,"-")}`,J)}});else D5=l0();return D5},k9=(Z)=>x2().has(Z);var y9=(Z)=>c5?C9(process.env[Z.toUpperCase().replaceAll("-","_")]):C9(HZ.getItem(Z));var BK=(Z)=>k9("--"+Z)||y9(Z)!==null,tL=BK("production"),v2=c5&&AK(process.env.FORCE_COLOR,["true","1","2"]),DK=v2||!k9("--no-colors")&&!BK("no-color")&&(!c5||process.stdout.isTTY)&&(!c5||k9("--color")||y9("COLORTERM")!==null||(y9("TERM")||"").includes("color"));var IK=(Z)=>new Uint8Array(Z),k2=(Z,$,J)=>new Uint8Array(Z,$,J),CK=(Z)=>new Uint8Array(Z),y2=(Z)=>{let $="";for(let J=0;J<Z.byteLength;J++)$+=E9(Z[J]);return btoa($)},b2=(Z)=>Buffer.from(Z.buffer,Z.byteOffset,Z.byteLength).toString("base64"),g2=(Z)=>{const $=atob(Z),J=IK($.length);for(let X=0;X<$.length;X++)J[X]=$.charCodeAt(X);return J},p2=(Z)=>{const $=Buffer.from(Z,"base64");return k2($.buffer,$.byteOffset,$.byteLength)},SK=QZ?y2:b2,fK=QZ?g2:p2;var TK=(Z)=>{const $=IK(Z.byteLength);return $.set(Z),$};class hK{constructor(Z,$){this.left=Z,this.right=$}}var I5=(Z,$)=>new hK(Z,$);var i6=typeof document!=="undefined"?document:{};var eL=typeof DOMParser!=="undefined"?new DOMParser:null;var xK=(Z)=>sX(Z,($,J)=>`${J}:${$};`).join("");var{ELEMENT_NODE:Zw,TEXT_NODE:$w,CDATA_SECTION_NODE:Jw,COMMENT_NODE:Xw,DOCUMENT_NODE:Kw,DOCUMENT_TYPE_NODE:Gw,DOCUMENT_FRAGMENT_NODE:Ww}=i6;var C5=Symbol;var o4=C5(),r4=C5(),g9=C5(),p9=C5(),m9=C5(),a4=C5(),u9=C5(),p8=C5(),d9=C5(),vK=(Z)=>{if(Z.length===1&&Z[0]?.constructor===Function)Z=Z[0]();const $=[],J=[];let X=0;for(;X<Z.length;X++){const K=Z[X];if(K===void 0)break;else if(K.constructor===String||K.constructor===Number)$.push(K);else if(K.constructor===Object)break}if(X>0)J.push($.join(""));for(;X<Z.length;X++){const K=Z[X];if(!(K instanceof Symbol))J.push(K)}return J};var Yw=c1();var l2={[o4]:I5("font-weight","bold"),[r4]:I5("font-weight","normal"),[g9]:I5("color","blue"),[m9]:I5("color","green"),[p9]:I5("color","grey"),[a4]:I5("color","red"),[u9]:I5("color","purple"),[p8]:I5("color","orange"),[d9]:I5("color","black")},i2=(Z)=>{if(Z.length===1&&Z[0]?.constructor===Function)Z=Z[0]();const $=[],J=[],X=l0();let K=[],G=0;for(;G<Z.length;G++){const W=Z[G],Y=l2[W];if(Y!==void 0)X.set(Y.left,Y.right);else{if(W===void 0)break;if(W.constructor===String||W.constructor===Number){const H=xK(X);if(G>0||H.length>0)$.push("%c"+W),J.push(H);else $.push(W)}else break}}if(G>0)K=J,K.unshift($.join(""));for(;G<Z.length;G++){const W=Z[G];if(!(W instanceof Symbol))K.push(W)}return K},kK=DK?i2:vK,zZ=(...Z)=>{console.log(...kK(Z)),bK.forEach(($)=>$.print(Z))},yK=(...Z)=>{console.warn(...kK(Z)),Z.unshift(p8),bK.forEach(($)=>$.print(Z))};var bK=r1();var gK=(Z)=>({[Symbol.iterator](){return this},next:Z}),pK=(Z,$)=>gK(()=>{let J;do J=Z.next();while(!J.done&&!$(J.value));return J}),_Z=(Z,$)=>gK(()=>{const{done:J,value:X}=Z.next();return{done:J,value:J?void 0:$(X)}});function*LM(Z){const $=t(Z.restDecoder);for(let J=0;J<$;J++){const X=t(Z.restDecoder),K=Z.readClient();let G=t(Z.restDecoder);for(let W=0;W<X;W++){const Y=Z.readInfo();if(Y===10){const H=t(Z.restDecoder);yield new R1(X0(K,G),H),G+=H}else if((g4&Y)!==0){const H=(Y&(a1|N1))===0,Q=new A0(X0(K,G),null,(Y&N1)===N1?Z.readLeftID():null,null,(Y&a1)===a1?Z.readRightID():null,H?Z.readParentInfo()?Z.readString():Z.readLeftID():null,H&&(Y&S8)===S8?Z.readString():null,nG(Z,Y));yield Q,G+=Q.length}else{const H=Z.readLen();yield new D1(X0(K,G),H),G+=H}}}}class XG extends y4{constructor(Z,$){super();this.doc=Z,this.awareness=$}}class VZ{constructor(Z,$){this.clock=Z,this.len=$}}class Z8{constructor(){this.clients=new Map}}var o6=(Z,$,J)=>$.clients.forEach((X,K)=>{const G=Z.doc.store.clients.get(K);for(let W=0;W<X.length;W++){const Y=X[W];UG(Z,G,Y.clock,Y.len,J)}}),o2=(Z,$)=>{let J=0,X=Z.length-1;while(J<=X){const K=T1((J+X)/2),G=Z[K],W=G.clock;if(W<=$){if($<W+G.len)return K;J=K+1}else X=K-1}return null},$8=(Z,$)=>{const J=Z.clients.get($.client);return J!==void 0&&o2(J,$.clock)!==null},n9=(Z)=>{Z.clients.forEach(($)=>{$.sort((K,G)=>K.clock-G.clock);let J,X;for(J=1,X=1;J<$.length;J++){const K=$[X-1],G=$[J];if(K.clock+K.len>=G.clock)K.len=u5(K.len,G.clock+G.len-K.clock);else{if(X<J)$[X]=G;X++}}$.length=X})},r6=(Z)=>{const $=new Z8;for(let J=0;J<Z.length;J++)Z[J].clients.forEach((X,K)=>{if(!$.clients.has(K)){const G=X.slice();for(let W=J+1;W<Z.length;W++)oX(G,Z[W].clients.get(K)||[]);$.clients.set(K,G)}});return n9($),$},t4=(Z,$,J,X)=>{M1(Z.clients,$,()=>[]).push(new VZ(J,X))},LZ=()=>new Z8,o9=(Z)=>{const $=LZ();return Z.clients.forEach((J,X)=>{const K=[];for(let G=0;G<J.length;G++){const W=J[G];if(W.deleted){const Y=W.id.clock;let H=W.length;if(G+1<J.length)for(let Q=J[G+1];G+1<J.length&&Q.deleted;Q=J[++G+1])H+=Q.length;K.push(new VZ(Y,H))}}if(K.length>0)$.clients.set(X,K)}),$},S5=(Z,$)=>{l(Z.restEncoder,$.clients.size),U5($.clients.entries()).sort((J,X)=>X[0]-J[0]).forEach(([J,X])=>{Z.resetDsCurVal(),l(Z.restEncoder,J);const K=X.length;l(Z.restEncoder,K);for(let G=0;G<K;G++){const W=X[G];Z.writeDsClock(W.clock),Z.writeDsLen(W.len)}})},i5=(Z)=>{const $=new Z8,J=t(Z.restDecoder);for(let X=0;X<J;X++){Z.resetDsCurVal();const K=t(Z.restDecoder),G=t(Z.restDecoder);if(G>0){const W=M1($.clients,K,()=>[]);for(let Y=0;Y<G;Y++)W.push(new VZ(Z.readDsClock(),Z.readDsLen()))}}return $},mK=(Z,$,J)=>{const X=new Z8,K=t(Z.restDecoder);for(let G=0;G<K;G++){Z.resetDsCurVal();const W=t(Z.restDecoder),Y=t(Z.restDecoder),H=J.clients.get(W)||[],Q=m0(J,W);for(let z=0;z<Y;z++){const _=Z.readDsClock(),M=_+Z.readDsLen();if(_<Q){if(Q<M)t4(X,W,Q,M-Q);let U=Z5(H,_),R=H[U];if(!R.deleted&&R.id.clock<_)H.splice(U+1,0,PZ($,R,_-R.id.clock)),U++;while(U<H.length)if(R=H[U++],R.id.clock<M){if(!R.deleted){if(M<R.id.clock+R.length)H.splice(U,0,PZ($,R,M-R.id.clock));R.delete($)}}else break}else t4(X,W,_,M-_)}}if(X.clients.size>0){const G=new e1;return l(G.restEncoder,0),S5(G,X),G.toUint8Array()}return null},KG=(Z,$)=>{if(Z.clients.size!==$.clients.size)return!1;for(let[J,X]of Z.clients.entries()){const K=$.clients.get(J);if(K===void 0||X.length!==K.length)return!1;for(let G=0;G<X.length;G++){const W=X[G],Y=K[G];if(W.clock!==Y.clock||W.len!==Y.len)return!1}}return!0},GG=D9;class n5 extends y4{constructor({guid:Z=MK(),collectionid:$=null,gc:J=!0,gcFilter:X=()=>!0,meta:K=null,autoLoad:G=!1,shouldLoad:W=!0}={}){super();this.gc=J,this.gcFilter=X,this.clientID=GG(),this.guid=Z,this.collectionid=$,this.share=new Map,this.store=new YJ,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=W,this.autoLoad=G,this.meta=K,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=I9((H)=>{this.on("load",()=>{this.isLoaded=!0,H(this)})});const Y=()=>I9((H)=>{const Q=(z)=>{if(z===void 0||z===!0)this.off("sync",Q),H()};this.on("sync",Q)});this.on("sync",(H)=>{if(H===!1&&this.isSynced)this.whenSynced=Y();if(this.isSynced=H===void 0||H===!0,this.isSynced&&!this.isLoaded)this.emit("load",[this])}),this.whenSynced=Y()}load(){const Z=this._item;if(Z!==null&&!this.shouldLoad)I0(Z.parent.doc,($)=>{$.subdocsLoaded.add(this)},null,!0);this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(U5(this.subdocs).map((Z)=>Z.guid))}transact(Z,$=null){return I0(this,Z,$)}get(Z,$=W1){const J=M1(this.share,Z,()=>{const K=new $;return K._integrate(this,null),K}),X=J.constructor;if($!==W1&&X!==$)if(X===W1){const K=new $;K._map=J._map,J._map.forEach((G)=>{for(;G!==null;G=G.left)G.parent=K}),K._start=J._start;for(let G=K._start;G!==null;G=G.right)G.parent=K;return K._length=J._length,this.share.set(Z,K),K._integrate(this,null),K}else throw new Error(`Type with the name ${Z} has already been defined with a different constructor`);return J}getArray(Z=""){return this.get(Z,l5)}getText(Z=""){return this.get(Z,t6)}getMap(Z=""){return this.get(Z,O6)}getXmlElement(Z=""){return this.get(Z,V6)}getXmlFragment(Z=""){return this.get(Z,P6)}toJSON(){const Z={};return this.share.forEach(($,J)=>{Z[J]=$.toJSON()}),Z}destroy(){this.isDestroyed=!0,U5(this.subdocs).forEach(($)=>$.destroy());const Z=this._item;if(Z!==null){this._item=null;const $=Z.content;$.doc=new n5({guid:this.guid,...$.opts,shouldLoad:!1}),$.doc._item=Z,I0(Z.parent.doc,(J)=>{const X=$.doc;if(!Z.deleted)J.subdocsAdded.add(X);J.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class m8{constructor(Z){this.restDecoder=Z}resetDsCurVal(){}readDsClock(){return t(this.restDecoder)}readDsLen(){return t(this.restDecoder)}}class l1 extends m8{readLeftID(){return X0(t(this.restDecoder),t(this.restDecoder))}readRightID(){return X0(t(this.restDecoder),t(this.restDecoder))}readClient(){return t(this.restDecoder)}readInfo(){return l6(this.restDecoder)}readString(){return t1(this.restDecoder)}readParentInfo(){return t(this.restDecoder)===1}readTypeRef(){return t(this.restDecoder)}readLen(){return t(this.restDecoder)}readAny(){return y8(this.restDecoder)}readBuf(){return TK(G1(this.restDecoder))}readJSON(){return JSON.parse(t1(this.restDecoder))}readKey(){return t1(this.restDecoder)}}class r9{constructor(Z){this.dsCurrVal=0,this.restDecoder=Z}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=t(this.restDecoder),this.dsCurrVal}readDsLen(){const Z=t(this.restDecoder)+1;return this.dsCurrVal+=Z,Z}}class j1 extends r9{constructor(Z){super(Z);this.keys=[],t(Z),this.keyClockDecoder=new i4(G1(Z)),this.clientDecoder=new b8(G1(Z)),this.leftClockDecoder=new i4(G1(Z)),this.rightClockDecoder=new i4(G1(Z)),this.infoDecoder=new WZ(G1(Z),l6),this.stringDecoder=new B9(G1(Z)),this.parentInfoDecoder=new WZ(G1(Z),l6),this.typeRefDecoder=new b8(G1(Z)),this.lenDecoder=new b8(G1(Z))}readLeftID(){return new E6(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new E6(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return y8(this.restDecoder)}readBuf(){return G1(this.restDecoder)}readJSON(){return y8(this.restDecoder)}readKey(){const Z=this.keyClockDecoder.read();if(Z<this.keys.length)return this.keys[Z];else{const $=this.stringDecoder.read();return this.keys.push($),$}}}class a6{constructor(){this.restEncoder=o0()}toUint8Array(){return D0(this.restEncoder)}resetDsCurVal(){}writeDsClock(Z){l(this.restEncoder,Z)}writeDsLen(Z){l(this.restEncoder,Z)}}class o5 extends a6{writeLeftID(Z){l(this.restEncoder,Z.client),l(this.restEncoder,Z.clock)}writeRightID(Z){l(this.restEncoder,Z.client),l(this.restEncoder,Z.clock)}writeClient(Z){l(this.restEncoder,Z)}writeInfo(Z){x8(this.restEncoder,Z)}writeString(Z){A5(this.restEncoder,Z)}writeParentInfo(Z){l(this.restEncoder,Z?1:0)}writeTypeRef(Z){l(this.restEncoder,Z)}writeLen(Z){l(this.restEncoder,Z)}writeAny(Z){j8(this.restEncoder,Z)}writeBuf(Z){b0(this.restEncoder,Z)}writeJSON(Z){A5(this.restEncoder,JSON.stringify(Z))}writeKey(Z){A5(this.restEncoder,Z)}}class K7{constructor(){this.restEncoder=o0(),this.dsCurrVal=0}toUint8Array(){return D0(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(Z){const $=Z-this.dsCurrVal;this.dsCurrVal=Z,l(this.restEncoder,$)}writeDsLen(Z){if(Z===0)A1();l(this.restEncoder,Z-1),this.dsCurrVal+=Z}}class e1 extends K7{constructor(){super();this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new d4,this.clientEncoder=new k8,this.leftClockEncoder=new d4,this.rightClockEncoder=new d4,this.infoEncoder=new KZ(x8),this.stringEncoder=new L9,this.parentInfoEncoder=new KZ(x8),this.typeRefEncoder=new k8,this.lenEncoder=new k8}toUint8Array(){const Z=o0();return l(Z,0),b0(Z,this.keyClockEncoder.toUint8Array()),b0(Z,this.clientEncoder.toUint8Array()),b0(Z,this.leftClockEncoder.toUint8Array()),b0(Z,this.rightClockEncoder.toUint8Array()),b0(Z,D0(this.infoEncoder)),b0(Z,this.stringEncoder.toUint8Array()),b0(Z,D0(this.parentInfoEncoder)),b0(Z,this.typeRefEncoder.toUint8Array()),b0(Z,this.lenEncoder.toUint8Array()),v8(Z,D0(this.restEncoder)),D0(Z)}writeLeftID(Z){this.clientEncoder.write(Z.client),this.leftClockEncoder.write(Z.clock)}writeRightID(Z){this.clientEncoder.write(Z.client),this.rightClockEncoder.write(Z.clock)}writeClient(Z){this.clientEncoder.write(Z)}writeInfo(Z){this.infoEncoder.write(Z)}writeString(Z){this.stringEncoder.write(Z)}writeParentInfo(Z){this.parentInfoEncoder.write(Z?1:0)}writeTypeRef(Z){this.typeRefEncoder.write(Z)}writeLen(Z){this.lenEncoder.write(Z)}writeAny(Z){j8(this.restEncoder,Z)}writeBuf(Z){b0(this.restEncoder,Z)}writeJSON(Z){j8(this.restEncoder,Z)}writeKey(Z){const $=this.keyMap.get(Z);if($===void 0)this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(Z);else this.keyClockEncoder.write($)}}var r2=(Z,$,J,X)=>{X=u5(X,$[0].id.clock);const K=Z5($,X);l(Z.restEncoder,$.length-K),Z.writeClient(J),l(Z.restEncoder,X);const G=$[K];G.write(Z,X-G.id.clock);for(let W=K+1;W<$.length;W++)$[W].write(Z,0)},a9=(Z,$,J)=>{const X=new Map;J.forEach((K,G)=>{if(m0($,G)>K)X.set(G,K)}),W7($).forEach((K,G)=>{if(!J.has(G))X.set(G,0)}),l(Z.restEncoder,X.size),U5(X.entries()).sort((K,G)=>G[0]-K[0]).forEach(([K,G])=>{r2(Z,$.clients.get(K),K,G)})},a2=(Z,$)=>{const J=l0(),X=t(Z.restDecoder);for(let K=0;K<X;K++){const G=t(Z.restDecoder),W=new Array(G),Y=Z.readClient();let H=t(Z.restDecoder);J.set(Y,{i:0,refs:W});for(let Q=0;Q<G;Q++){const z=Z.readInfo();switch(g4&z){case 0:{const _=Z.readLen();W[Q]=new D1(X0(Y,H),_),H+=_;break}case 10:{const _=t(Z.restDecoder);W[Q]=new R1(X0(Y,H),_),H+=_;break}default:{const _=(z&(a1|N1))===0,M=new A0(X0(Y,H),null,(z&N1)===N1?Z.readLeftID():null,null,(z&a1)===a1?Z.readRightID():null,_?Z.readParentInfo()?$.get(Z.readString()):Z.readLeftID():null,_&&(z&S8)===S8?Z.readString():null,nG(Z,z));W[Q]=M,H+=M.length}}}}return J},t2=(Z,$,J)=>{const X=[];let K=U5(J.keys()).sort((U,R)=>U-R);if(K.length===0)return null;const G=()=>{if(K.length===0)return null;let U=J.get(K[K.length-1]);while(U.refs.length===U.i)if(K.pop(),K.length>0)U=J.get(K[K.length-1]);else return null;return U};let W=G();if(W===null)return null;const Y=new YJ,H=new Map,Q=(U,R)=>{const E=H.get(U);if(E==null||E>R)H.set(U,R)};let z=W.refs[W.i++];const _=new Map,M=()=>{for(let U of X){const R=U.id.client,E=J.get(R);if(E)E.i--,Y.clients.set(R,E.refs.slice(E.i)),J.delete(R),E.i=0,E.refs=[];else Y.clients.set(R,[U]);K=K.filter((F)=>F!==R)}X.length=0};while(!0){if(z.constructor!==R1){const R=M1(_,z.id.client,()=>m0($,z.id.client))-z.id.clock;if(R<0)X.push(z),Q(z.id.client,z.id.clock-1),M();else{const E=z.getMissing(Z,$);if(E!==null){X.push(z);const F=J.get(E)||{refs:[],i:0};if(F.refs.length===F.i)Q(E,m0($,E)),M();else{z=F.refs[F.i++];continue}}else if(R===0||R<z.length)z.integrate(Z,R),_.set(z.id.client,z.id.clock+z.length)}}if(X.length>0)z=X.pop();else if(W!==null&&W.i<W.refs.length)z=W.refs[W.i++];else if(W=G(),W===null)break;else z=W.refs[W.i++]}if(Y.clients.size>0){const U=new e1;return a9(U,Y,new Map),l(U.restEncoder,0),{missing:H,update:U.toUint8Array()}}return null},e2=(Z,$)=>a9(Z,$.doc.store,$.beforeState),t9=(Z,$,J,X=new j1(Z))=>I0($,(K)=>{K.local=!1;let G=!1;const W=K.doc,Y=W.store,H=a2(X,W),Q=t2(K,Y,H),z=Y.pendingStructs;if(z){for(let[M,U]of z.missing)if(U<m0(Y,M)){G=!0;break}if(Q){for(let[M,U]of Q.missing){const R=z.missing.get(M);if(R==null||R>U)z.missing.set(M,U)}z.update=Z7([z.update,Q.update])}}else Y.pendingStructs=Q;const _=mK(X,K,Y);if(Y.pendingDs){const M=new j1(r0(Y.pendingDs));t(M.restDecoder);const U=mK(M,K,Y);if(_&&U)Y.pendingDs=Z7([_,U]);else Y.pendingDs=_||U}else Y.pendingDs=_;if(G){const M=Y.pendingStructs.update;Y.pendingStructs=null,wZ(K.doc,M)}},J,!1),ZM=(Z,$,J)=>t9(Z,$,J,new l1(Z)),wZ=(Z,$,J,X=j1)=>{const K=r0($);t9(K,Z,J,new X(K))},e9=(Z,$,J)=>wZ(Z,$,J,l1),$M=(Z,$,J=new Map)=>{a9(Z,$.store,J),S5(Z,o9($.store))},WG=(Z,$=new Uint8Array([0]),J=new e1)=>{const X=$J($);$M(J,Z,X);const K=[J.toUint8Array()];if(Z.store.pendingDs)K.push(Z.store.pendingDs);if(Z.store.pendingStructs)K.push(QJ(Z.store.pendingStructs.update,$));if(K.length>1){if(J.constructor===o5)return LG(K.map((G,W)=>W===0?G:IG(G)));else if(J.constructor===e1)return Z7(K)}return K[0]},ZJ=(Z,$)=>WG(Z,$,new o5),YG=(Z)=>{const $=new Map,J=t(Z.restDecoder);for(let X=0;X<J;X++){const K=t(Z.restDecoder),G=t(Z.restDecoder);$.set(K,G)}return $},$J=(Z)=>YG(new m8(r0(Z))),JJ=(Z,$)=>{return l(Z.restEncoder,$.size),U5($.entries()).sort((J,X)=>X[0]-J[0]).forEach(([J,X])=>{l(Z.restEncoder,J),l(Z.restEncoder,X)}),Z},JM=(Z,$)=>JJ(Z,W7($.store)),XM=(Z,$=new K7)=>{if(Z instanceof Map)JJ($,Z);else JM($,Z);return $.toUint8Array()},XJ=(Z)=>XM(Z,new a6);class HG{constructor(){this.l=[]}}var uK=()=>new HG,dK=(Z,$)=>Z.l.push($),cK=(Z,$)=>{const J=Z.l,X=J.length;if(Z.l=J.filter((K)=>$!==K),X===Z.l.length)console.error("[yjs] Tried to remove event handler that doesn\'t exist.")},QG=(Z,$,J)=>n4(Z.l,[$,J]);class E6{constructor(Z,$){this.client=Z,this.clock=$}}var s6=(Z,$)=>Z===$||Z!==null&&$!==null&&Z.client===$.client&&Z.clock===$.clock,X0=(Z,$)=>new E6(Z,$),lK=(Z,$)=>{l(Z,$.client),l(Z,$.clock)},iK=(Z)=>X0(t(Z),t(Z)),KJ=(Z)=>{for(let[$,J]of Z.doc.share.entries())if(J===Z)return $;throw A1()},e4=(Z,$)=>{while($!==null){if($.parent===Z)return!0;$=$.parent._item}return!1},KM=(Z)=>{const $=[];let J=Z._start;while(J)$.push(J),J=J.right;console.log("Children: ",$),console.log("Children content: ",$.filter((X)=>!X.deleted).map((X)=>X.content))};class zG{constructor(Z,$=Z.getMap("users")){const J=new Map;this.yusers=$,this.doc=Z,this.clients=new Map,this.dss=J;const X=(K,G)=>{const W=K.get("ds"),Y=K.get("ids"),H=(Q)=>this.clients.set(Q,G);W.observe((Q)=>{Q.changes.added.forEach((z)=>{z.content.getContent().forEach((_)=>{if(_ instanceof Uint8Array)this.dss.set(G,r6([this.dss.get(G)||LZ(),i5(new m8(r0(_)))]))})})}),this.dss.set(G,r6(W.map((Q)=>i5(new m8(r0(Q)))))),Y.observe((Q)=>Q.changes.added.forEach((z)=>z.content.getContent().forEach(H))),Y.forEach(H)};$.observe((K)=>{K.keysChanged.forEach((G)=>X($.get(G),G))}),$.forEach(X)}setUserMapping(Z,$,J,{filter:X=()=>!0}={}){const K=this.yusers;let G=K.get(J);if(!G)G=new O6,G.set("ids",new l5),G.set("ds",new l5),K.set(J,G);G.get("ids").push([$]),K.observe((W)=>{setTimeout(()=>{const Y=K.get(J);if(Y!==G){G=Y,this.clients.forEach((z,_)=>{if(J===z)G.get("ids").push([_])});const H=new a6,Q=this.dss.get(J);if(Q)S5(H,Q),G.get("ds").push([H.toUint8Array()])}},0)}),Z.on("afterTransaction",(W)=>{setTimeout(()=>{const Y=G.get("ds"),H=W.deleteSet;if(W.local&&H.clients.size>0&&X(W,H)){const Q=new a6;S5(Q,H),Y.push([Q.toUint8Array()])}})})}getUserByClientId(Z){return this.clients.get(Z)||null}getUserByDeletedId(Z){for(let[$,J]of this.dss.entries())if($8(J,Z))return $;return null}}class G7{constructor(Z,$,J,X=0){this.type=Z,this.tname=$,this.item=J,this.assoc=X}}var GM=(Z)=>{const $={};if(Z.type)$.type=Z.type;if(Z.tname)$.tname=Z.tname;if(Z.item)$.item=Z.item;if(Z.assoc!=null)$.assoc=Z.assoc;return $},AZ=(Z)=>new G7(Z.type==null?null:X0(Z.type.client,Z.type.clock),Z.tname??null,Z.item==null?null:X0(Z.item.client,Z.item.clock),Z.assoc==null?0:Z.assoc);class GJ{constructor(Z,$,J=0){this.type=Z,this.index=$,this.assoc=J}}var WM=(Z,$,J=0)=>new GJ(Z,$,J),MZ=(Z,$,J)=>{let X=null,K=null;if(Z._item===null)K=KJ(Z);else X=X0(Z._item.id.client,Z._item.id.clock);return new G7(X,K,$,J)},BZ=(Z,$,J=0)=>{let X=Z._start;if(J<0){if($===0)return MZ(Z,null,J);$--}while(X!==null){if(!X.deleted&&X.countable){if(X.length>$)return MZ(Z,X0(X.id.client,X.id.clock+$),J);$-=X.length}if(X.right===null&&J<0)return MZ(Z,X.lastId,J);X=X.right}return MZ(Z,null,J)},YM=(Z,$)=>{const{type:J,tname:X,item:K,assoc:G}=$;if(K!==null)l(Z,0),lK(Z,K);else if(X!==null)x8(Z,1),A5(Z,X);else if(J!==null)x8(Z,2),lK(Z,J);else throw A1();return u4(Z,G),Z},HM=(Z)=>{const $=o0();return YM($,Z),D0($)},QM=(Z)=>{let $=null,J=null,X=null;switch(t(Z)){case 0:X=iK(Z);break;case 1:J=t1(Z);break;case 2:$=iK(Z)}const K=w9(Z)?l4(Z):0;return new G7($,J,X,K)},zM=(Z)=>QM(r0(Z)),DZ=(Z,$,J=!0)=>{const X=$.store,K=Z.item,G=Z.type,W=Z.tname,Y=Z.assoc;let H=null,Q=0;if(K!==null){if(m0(X,K.client)<=K.clock)return null;const z=J?s9(X,K):{item:n6(X,K),diff:0},_=z.item;if(!(_ instanceof A0))return null;if(H=_.parent,H._item===null||!H._item.deleted){Q=_.deleted||!_.countable?0:z.diff+(Y>=0?0:1);let M=_.left;while(M!==null){if(!M.deleted&&M.countable)Q+=M.length;M=M.left}}}else{if(W!==null)H=$.get(W);else if(G!==null){if(m0(X,G.client)<=G.clock)return null;const{item:z}=J?s9(X,G):{item:n6(X,G)};if(z instanceof A0&&z.content instanceof J5)H=z.content.type;else return null}else throw A1();if(Y>=0)Q=H._length;else Q=0}return WM(H,Q,Z.assoc)},IZ=(Z,$)=>Z===$||Z!==null&&$!==null&&Z.tname===$.tname&&s6(Z.item,$.item)&&s6(Z.type,$.type)&&Z.assoc===$.assoc;class CZ{constructor(Z,$){this.ds=Z,this.sv=$}}var _M=(Z,$)=>{const J=Z.ds.clients,X=$.ds.clients,K=Z.sv,G=$.sv;if(K.size!==G.size||J.size!==X.size)return!1;for(let[W,Y]of K.entries())if(G.get(W)!==Y)return!1;for(let[W,Y]of J.entries()){const H=X.get(W)||[];if(Y.length!==H.length)return!1;for(let Q=0;Q<Y.length;Q++){const z=Y[Q],_=H[Q];if(z.clock!==_.clock||z.len!==_.len)return!1}}return!0},_G=(Z,$=new K7)=>{return S5($,Z.ds),JJ($,Z.sv),$.toUint8Array()},MM=(Z)=>_G(Z,new a6),MG=(Z,$=new r9(r0(Z)))=>{return new CZ(i5($),YG($))},qM=(Z)=>MG(Z,new m8(r0(Z))),WJ=(Z,$)=>new CZ(Z,$),UM=WJ(LZ(),new Map),FM=(Z)=>WJ(o9(Z.store),W7(Z.store)),F6=(Z,$)=>$===void 0?!Z.deleted:$.sv.has(Z.id.client)&&($.sv.get(Z.id.client)||0)>Z.id.clock&&!$8($.ds,Z.id),l9=(Z,$)=>{const J=M1(Z.meta,l9,r1),X=Z.doc.store;if(!J.has($))$.sv.forEach((K,G)=>{if(K<m0(X,G))B1(Z,X0(G,K))}),o6(Z,$.ds,(K)=>{}),J.add($)},NM=(Z,$,J=new n5)=>{if(Z.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");const{sv:X,ds:K}=$,G=new e1;return Z.transact((W)=>{let Y=0;X.forEach((H)=>{if(H>0)Y++}),l(G.restEncoder,Y);for(let[H,Q]of X){if(Q===0)continue;if(Q<m0(Z.store,H))B1(W,X0(H,Q));const z=Z.store.clients.get(H)||[],_=Z5(z,Q-1);l(G.restEncoder,_+1),G.writeClient(H),l(G.restEncoder,0);for(let M=0;M<=_;M++)z[M].write(G,0)}S5(G,K)}),wZ(J,G.toUint8Array(),"snapshot"),J},RM=(Z,$,J=j1)=>{const X=new J(r0($)),K=new r5(X,!1);for(let W=K.curr;W!==null;W=K.next())if((Z.sv.get(W.id.client)||0)<W.id.clock+W.length)return!1;const G=r6([Z.ds,i5(X)]);return KG(Z.ds,G)},EM=(Z,$)=>RM(Z,$,l1);class YJ{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}var W7=(Z)=>{const $=new Map;return Z.clients.forEach((J,X)=>{const K=J[J.length-1];$.set(X,K.id.clock+K.length)}),$},m0=(Z,$)=>{const J=Z.clients.get($);if(J===void 0)return 0;const X=J[J.length-1];return X.id.clock+X.length},qG=(Z,$)=>{let J=Z.clients.get($.id.client);if(J===void 0)J=[],Z.clients.set($.id.client,J);else{const X=J[J.length-1];if(X.id.clock+X.length!==$.id.clock)throw A1()}J.push($)},Z5=(Z,$)=>{let J=0,X=Z.length-1,K=Z[X],G=K.id.clock;if(G===$)return X;let W=T1($/(G+K.length-1)*X);while(J<=X){if(K=Z[W],G=K.id.clock,G<=$){if($<G+K.length)return W;J=W+1}else X=W-1;W=T1((J+X)/2)}throw A1()},OM=(Z,$)=>{const J=Z.clients.get($.client);return J[Z5(J,$.clock)]},n6=OM,i9=(Z,$,J)=>{const X=Z5($,J),K=$[X];if(K.id.clock<J&&K instanceof A0)return $.splice(X+1,0,PZ(Z,K,J-K.id.clock)),X+1;return X},B1=(Z,$)=>{const J=Z.doc.store.clients.get($.client);return J[i9(Z,J,$.clock)]},sK=(Z,$,J)=>{const X=$.clients.get(J.client),K=Z5(X,J.clock),G=X[K];if(J.clock!==G.id.clock+G.length-1&&G.constructor!==D1)X.splice(K+1,0,PZ(Z,G,J.clock-G.id.clock+1));return G},PM=(Z,$,J)=>{const X=Z.clients.get($.id.client);X[Z5(X,$.id.clock)]=J},UG=(Z,$,J,X,K)=>{if(X===0)return;const G=J+X;let W=i9(Z,$,J),Y;do{if(Y=$[W++],G<Y.id.clock+Y.length)i9(Z,$,G);K(Y)}while(W<$.length&&$[W].id.clock<G)};class HJ{constructor(Z,$,J){this.doc=Z,this.deleteSet=new Z8,this.beforeState=W7(Z.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=$,this.meta=new Map,this.local=J,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}var nK=(Z,$)=>{if($.deleteSet.clients.size===0&&!nX($.afterState,(J,X)=>$.beforeState.get(X)!==J))return!1;return n9($.deleteSet),e2(Z,$),S5(Z,$.deleteSet),!0},oK=(Z,$,J)=>{const X=$._item;if(X===null||X.id.clock<(Z.beforeState.get(X.id.client)||0)&&!X.deleted)M1(Z.changed,$,r1).add(J)},FZ=(Z,$)=>{let J=Z[$],X=Z[$-1],K=$;for(;K>0;J=X,X=Z[--K-1]){if(X.deleted===J.deleted&&X.constructor===J.constructor){if(X.mergeWith(J)){if(J instanceof A0&&J.parentSub!==null&&J.parent._map.get(J.parentSub)===J)J.parent._map.set(J.parentSub,X);continue}}break}const G=$-K;if(G)Z.splice($+1-G,G);return G},FG=(Z,$,J)=>{for(let[X,K]of Z.clients.entries()){const G=$.clients.get(X);for(let W=K.length-1;W>=0;W--){const Y=K[W],H=Y.clock+Y.len;for(let Q=Z5(G,Y.clock),z=G[Q];Q<G.length&&z.id.clock<H;z=G[++Q]){const _=G[Q];if(Y.clock+Y.len<=_.id.clock)break;if(_ instanceof A0&&_.deleted&&!_.keep&&J(_))_.gc($,!1)}}}},NG=(Z,$)=>{Z.clients.forEach((J,X)=>{const K=$.clients.get(X);for(let G=J.length-1;G>=0;G--){const W=J[G],Y=I8(K.length-1,1+Z5(K,W.clock+W.len-1));for(let H=Y,Q=K[H];H>0&&Q.id.clock>=W.clock;Q=K[H])H-=1+FZ(K,H)}})},VM=(Z,$,J)=>{FG(Z,$,J),NG(Z,$)},RG=(Z,$)=>{if($<Z.length){const J=Z[$],X=J.doc,K=X.store,G=J.deleteSet,W=J._mergeStructs;try{n9(G),J.afterState=W7(J.doc.store),X.emit("beforeObserverCalls",[J,X]);const Y=[];if(J.changed.forEach((H,Q)=>Y.push(()=>{if(Q._item===null||!Q._item.deleted)Q._callObserver(J,H)})),Y.push(()=>{J.changedParentTypes.forEach((H,Q)=>{if(Q._dEH.l.length>0&&(Q._item===null||!Q._item.deleted))H=H.filter((z)=>z.target._item===null||!z.target._item.deleted),H.forEach((z)=>{z.currentTarget=Q,z._path=null}),H.sort((z,_)=>z.path.length-_.path.length),QG(Q._dEH,H,J)})}),Y.push(()=>X.emit("afterTransaction",[J,X])),n4(Y,[]),J._needFormattingCleanup)dM(J)}finally{if(X.gc)FG(G,K,X.gcFilter);NG(G,K),J.afterState.forEach((z,_)=>{const M=J.beforeState.get(_)||0;if(M!==z){const U=K.clients.get(_),R=u5(Z5(U,M),1);for(let E=U.length-1;E>=R;)E-=1+FZ(U,E)}});for(let z=W.length-1;z>=0;z--){const{client:_,clock:M}=W[z].id,U=K.clients.get(_),R=Z5(U,M);if(R+1<U.length){if(FZ(U,R+1)>1)continue}if(R>0)FZ(U,R)}if(!J.local&&J.afterState.get(X.clientID)!==J.beforeState.get(X.clientID))zZ(p8,o4,"[yjs] ",r4,a4,"Changed the client-id because another client seems to be using it."),X.clientID=GG();if(X.emit("afterTransactionCleanup",[J,X]),X._observers.has("update")){const z=new o5;if(nK(z,J))X.emit("update",[z.toUint8Array(),J.origin,X,J])}if(X._observers.has("updateV2")){const z=new e1;if(nK(z,J))X.emit("updateV2",[z.toUint8Array(),J.origin,X,J])}const{subdocsAdded:Y,subdocsLoaded:H,subdocsRemoved:Q}=J;if(Y.size>0||Q.size>0||H.size>0)Y.forEach((z)=>{if(z.clientID=X.clientID,z.collectionid==null)z.collectionid=X.collectionid;X.subdocs.add(z)}),Q.forEach((z)=>X.subdocs.delete(z)),X.emit("subdocs",[{loaded:H,added:Y,removed:Q},X,J]),Q.forEach((z)=>z.destroy());if(Z.length<=$+1)X._transactionCleanups=[],X.emit("afterAllTransactions",[X,Z]);else RG(Z,$+1)}}},I0=(Z,$,J=null,X=!0)=>{const K=Z._transactionCleanups;let G=!1,W=null;if(Z._transaction===null){if(G=!0,Z._transaction=new HJ(Z,J,X),K.push(Z._transaction),K.length===1)Z.emit("beforeAllTransactions",[Z]);Z.emit("beforeTransaction",[Z._transaction,Z])}try{W=$(Z._transaction)}finally{if(G){const Y=Z._transaction===K[0];if(Z._transaction=null,Y)RG(K,0)}}return W};class EG{constructor(Z,$){this.insertions=$,this.deletions=Z,this.meta=new Map}}var rK=(Z,$,J)=>{o6(Z,J.deletions,(X)=>{if(X instanceof A0&&$.scope.some((K)=>e4(K,X)))EJ(X,!1)})},aK=(Z,$,J)=>{let X=null;const{doc:K,scope:G}=Z;I0(K,(Y)=>{while($.length>0&&Z.currStackItem===null){const H=K.store,Q=$.pop(),z=new Set,_=[];let M=!1;o6(Y,Q.insertions,(U)=>{if(U instanceof A0){if(U.redone!==null){let{item:R,diff:E}=s9(H,U.id);if(E>0)R=B1(Y,X0(R.id.client,R.id.clock+E));U=R}if(!U.deleted&&G.some((R)=>e4(R,U)))_.push(U)}}),o6(Y,Q.deletions,(U)=>{if(U instanceof A0&&G.some((R)=>e4(R,U))&&!$8(Q.insertions,U.id))z.add(U)}),z.forEach((U)=>{M=sG(Y,U,z,Q.insertions,Z.ignoreRemoteMapChanges,Z)!==null||M});for(let U=_.length-1;U>=0;U--){const R=_[U];if(Z.deleteFilter(R))R.delete(Y),M=!0}Z.currStackItem=M?Q:null}Y.changed.forEach((H,Q)=>{if(H.has(null)&&Q._searchMarker)Q._searchMarker.length=0}),X=Y},Z);const W=Z.currStackItem;if(W!=null){const Y=X.changedParentTypes;Z.emit("stack-item-popped",[{stackItem:W,type:J,changedParentTypes:Y,origin:Z},Z]),Z.currStackItem=null}return W};class OG extends y4{constructor(Z,{captureTimeout:$=500,captureTransaction:J=(Y)=>!0,deleteFilter:X=()=>!0,trackedOrigins:K=new Set([null]),ignoreRemoteMapChanges:G=!1,doc:W=k4(Z)?Z[0].doc:Z.doc}={}){super();this.scope=[],this.doc=W,this.addToScope(Z),this.deleteFilter=X,K.add(this),this.trackedOrigins=K,this.captureTransaction=J,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=G,this.captureTimeout=$,this.afterTransactionHandler=(Y)=>{if(!this.captureTransaction(Y)||!this.scope.some((E)=>Y.changedParentTypes.has(E))||!this.trackedOrigins.has(Y.origin)&&(!Y.origin||!this.trackedOrigins.has(Y.origin.constructor)))return;const H=this.undoing,Q=this.redoing,z=H?this.redoStack:this.undoStack;if(H)this.stopCapturing();else if(!Q)this.clear(!1,!0);const _=new Z8;Y.afterState.forEach((E,F)=>{const q=Y.beforeState.get(F)||0,N=E-q;if(N>0)t4(_,F,q,N)});const M=c1();let U=!1;if(this.lastChange>0&&M-this.lastChange<this.captureTimeout&&z.length>0&&!H&&!Q){const E=z[z.length-1];E.deletions=r6([E.deletions,Y.deleteSet]),E.insertions=r6([E.insertions,_])}else z.push(new EG(Y.deleteSet,_)),U=!0;if(!H&&!Q)this.lastChange=M;o6(Y,Y.deleteSet,(E)=>{if(E instanceof A0&&this.scope.some((F)=>e4(F,E)))EJ(E,!0)});const R=[{stackItem:z[z.length-1],origin:Y.origin,type:H?"redo":"undo",changedParentTypes:Y.changedParentTypes},this];if(U)this.emit("stack-item-added",R);else this.emit("stack-item-updated",R)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(Z){Z=k4(Z)?Z:[Z],Z.forEach(($)=>{if(this.scope.every((J)=>J!==$)){if($.doc!==this.doc)yK("[yjs#509] Not same Y.Doc");this.scope.push($)}})}addTrackedOrigin(Z){this.trackedOrigins.add(Z)}removeTrackedOrigin(Z){this.trackedOrigins.delete(Z)}clear(Z=!0,$=!0){if(Z&&this.canUndo()||$&&this.canRedo())this.doc.transact((J)=>{if(Z)this.undoStack.forEach((X)=>rK(J,this,X)),this.undoStack=[];if($)this.redoStack.forEach((X)=>rK(J,this,X)),this.redoStack=[];this.emit("stack-cleared",[{undoStackCleared:Z,redoStackCleared:$}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let Z;try{Z=aK(this,this.undoStack,"undo")}finally{this.undoing=!1}return Z}redo(){this.redoing=!0;let Z;try{Z=aK(this,this.redoStack,"redo")}finally{this.redoing=!1}return Z}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class r5{constructor(Z,$){this.gen=LM(Z),this.curr=null,this.done=!1,this.filterSkips=$,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===R1);return this.curr}}var wM=(Z)=>PG(Z,l1),PG=(Z,$=j1)=>{const J=[],X=new $(r0(Z)),K=new r5(X,!1);for(let W=K.curr;W!==null;W=K.next())J.push(W);zZ("Structs: ",J);const G=i5(X);zZ("DeleteSet: ",G)},AM=(Z)=>VG(Z,l1),VG=(Z,$=j1)=>{const J=[],X=new $(r0(Z)),K=new r5(X,!1);for(let G=K.curr;G!==null;G=K.next())J.push(G);return{structs:J,ds:i5(X)}};class SZ{constructor(Z){this.currClient=0,this.startClock=0,this.written=0,this.encoder=Z,this.clientStructs=[]}}var LG=(Z)=>Z7(Z,l1,o5),wG=(Z,$=K7,J=j1)=>{const X=new $,K=new r5(new J(r0(Z)),!1);let G=K.curr;if(G!==null){let W=0,Y=G.id.client,H=G.id.clock!==0,Q=H?0:G.id.clock+G.length;for(;G!==null;G=K.next()){if(Y!==G.id.client){if(Q!==0)W++,l(X.restEncoder,Y),l(X.restEncoder,Q);Y=G.id.client,Q=0,H=G.id.clock!==0}if(G.constructor===R1)H=!0;if(!H)Q=G.id.clock+G.length}if(Q!==0)W++,l(X.restEncoder,Y),l(X.restEncoder,Q);const z=o0();return l(z,W),YK(z,X.restEncoder),X.restEncoder=z,X.toUint8Array()}else return l(X.restEncoder,0),X.toUint8Array()},BM=(Z)=>wG(Z,a6,l1),AG=(Z,$=j1)=>{const J=new Map,X=new Map,K=new r5(new $(r0(Z)),!1);let G=K.curr;if(G!==null){let W=G.id.client,Y=G.id.clock;J.set(W,Y);for(;G!==null;G=K.next()){if(W!==G.id.client)X.set(W,Y),J.set(G.id.client,G.id.clock),W=G.id.client;Y=G.id.clock+G.length}X.set(W,Y)}return{from:J,to:X}},DM=(Z)=>AG(Z,l1),IM=(Z,$)=>{if(Z.constructor===D1){const{client:J,clock:X}=Z.id;return new D1(X0(J,X+$),Z.length-$)}else if(Z.constructor===R1){const{client:J,clock:X}=Z.id;return new R1(X0(J,X+$),Z.length-$)}else{const J=Z,{client:X,clock:K}=J.id;return new A0(X0(X,K+$),null,X0(X,K+$-1),null,J.rightOrigin,J.parent,J.parentSub,J.content.splice($))}},Z7=(Z,$=j1,J=e1)=>{if(Z.length===1)return Z[0];const X=Z.map((z)=>new $(r0(z)));let K=X.map((z)=>new r5(z,!0)),G=null;const W=new J,Y=new SZ(W);while(!0){if(K=K.filter((M)=>M.curr!==null),K.sort((M,U)=>{if(M.curr.id.client===U.curr.id.client){const R=M.curr.id.clock-U.curr.id.clock;if(R===0)return M.curr.constructor===U.curr.constructor?0:M.curr.constructor===R1?1:-1;else return R}else return U.curr.id.client-M.curr.id.client}),K.length===0)break;const z=K[0],_=z.curr.id.client;if(G!==null){let M=z.curr,U=!1;while(M!==null&&M.id.clock+M.length<=G.struct.id.clock+G.struct.length&&M.id.client>=G.struct.id.client)M=z.next(),U=!0;if(M===null||M.id.client!==_||U&&M.id.clock>G.struct.id.clock+G.struct.length)continue;if(_!==G.struct.id.client)N6(Y,G.struct,G.offset),G={struct:M,offset:0},z.next();else if(G.struct.id.clock+G.struct.length<M.id.clock)if(G.struct.constructor===R1)G.struct.length=M.id.clock+M.length-G.struct.id.clock;else{N6(Y,G.struct,G.offset);const R=M.id.clock-G.struct.id.clock-G.struct.length;G={struct:new R1(X0(_,G.struct.id.clock+G.struct.length),R),offset:0}}else{const R=G.struct.id.clock+G.struct.length-M.id.clock;if(R>0)if(G.struct.constructor===R1)G.struct.length-=R;else M=IM(M,R);if(!G.struct.mergeWith(M))N6(Y,G.struct,G.offset),G={struct:M,offset:0},z.next()}}else G={struct:z.curr,offset:0},z.next();for(let M=z.curr;M!==null&&M.id.client===_&&M.id.clock===G.struct.id.clock+G.struct.length&&M.constructor!==R1;M=z.next())N6(Y,G.struct,G.offset),G={struct:M,offset:0}}if(G!==null)N6(Y,G.struct,G.offset),G=null;zJ(Y);const H=X.map((z)=>i5(z)),Q=r6(H);return S5(W,Q),W.toUint8Array()},QJ=(Z,$,J=j1,X=e1)=>{const K=$J($),G=new X,W=new SZ(G),Y=new J(r0(Z)),H=new r5(Y,!1);while(H.curr){const z=H.curr,_=z.id.client,M=K.get(_)||0;if(H.curr.constructor===R1){H.next();continue}if(z.id.clock+z.length>M){N6(W,z,u5(M-z.id.clock,0)),H.next();while(H.curr&&H.curr.id.client===_)N6(W,H.curr,0),H.next()}else while(H.curr&&H.curr.id.client===_&&H.curr.id.clock+H.curr.length<=M)H.next()}zJ(W);const Q=i5(Y);return S5(G,Q),G.toUint8Array()},CM=(Z,$)=>QJ(Z,$,l1,o5),BG=(Z)=>{if(Z.written>0)Z.clientStructs.push({written:Z.written,restEncoder:D0(Z.encoder.restEncoder)}),Z.encoder.restEncoder=o0(),Z.written=0},N6=(Z,$,J)=>{if(Z.written>0&&Z.currClient!==$.id.client)BG(Z);if(Z.written===0)Z.currClient=$.id.client,Z.encoder.writeClient($.id.client),l(Z.encoder.restEncoder,$.id.clock+J);$.write(Z.encoder,J),Z.written++},zJ=(Z)=>{BG(Z);const $=Z.encoder.restEncoder;l($,Z.clientStructs.length);for(let J=0;J<Z.clientStructs.length;J++){const X=Z.clientStructs[J];l($,X.written),v8($,X.restEncoder)}},fZ=(Z,$,J,X)=>{const K=new J(r0(Z)),G=new r5(K,!1),W=new X,Y=new SZ(W);for(let Q=G.curr;Q!==null;Q=G.next())N6(Y,$(Q),0);zJ(Y);const H=i5(K);return S5(W,H),W.toUint8Array()},DG=({formatting:Z=!0,subdocs:$=!0,yxml:J=!0}={})=>{let X=0;const K=l0(),G=l0(),W=l0(),Y=l0();return Y.set(null,null),(H)=>{switch(H.constructor){case D1:case R1:return H;case A0:{const Q=H,z=Q.content;switch(z.constructor){case e6:break;case J5:{if(J){const _=z.type;if(_ instanceof V6)_.nodeName=M1(G,_.nodeName,()=>"node-"+X);if(_ instanceof u8)_.hookName=M1(G,_.hookName,()=>"hook-"+X)}break}case s5:{const _=z;_.arr=_.arr.map(()=>X);break}case J8:{const _=z;_.content=new Uint8Array([X]);break}case X8:{const _=z;if($)_.opts={},_.doc.guid=X+"";break}case a5:{const _=z;_.embed={};break}case a0:{const _=z;if(Z)_.key=M1(W,_.key,()=>X+""),_.value=M1(Y,_.value,()=>({i:X}));break}case d8:{const _=z;_.arr=_.arr.map(()=>X);break}case $5:{const _=z;_.str=XK(X%10+"",_.str.length);break}default:A1()}if(Q.parentSub)Q.parentSub=M1(K,Q.parentSub,()=>X+"");return X++,H}default:A1()}}},SM=(Z,$)=>fZ(Z,DG($),l1,o5),fM=(Z,$)=>fZ(Z,DG($),j1,e1),TM=(Z)=>fZ(Z,x9,l1,e1),IG=(Z)=>fZ(Z,x9,j1,o5),tK="You must not compute changes after the event-handler fired.";class c8{constructor(Z,$){this.target=Z,this.currentTarget=Z,this.transaction=$,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=jM(this.currentTarget,this.target))}deletes(Z){return $8(this.transaction.deleteSet,Z.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw B5(tK);const Z=new Map,$=this.target;this.transaction.changed.get($).forEach((X)=>{if(X!==null){const K=$._map.get(X);let G,W;if(this.adds(K)){let Y=K.left;while(Y!==null&&this.adds(Y))Y=Y.left;if(this.deletes(K))if(Y!==null&&this.deletes(Y))G="delete",W=t7(Y.content.getContent());else return;else if(Y!==null&&this.deletes(Y))G="update",W=t7(Y.content.getContent());else G="add",W=void 0}else if(this.deletes(K))G="delete",W=t7(K.content.getContent());else return;Z.set(X,{action:G,oldValue:W})}}),this._keys=Z}return this._keys}get delta(){return this.changes.delta}adds(Z){return Z.id.clock>=(this.transaction.beforeState.get(Z.id.client)||0)}get changes(){let Z=this._changes;if(Z===null){if(this.transaction.doc._transactionCleanups.length===0)throw B5(tK);const $=this.target,J=r1(),X=r1(),K=[];if(Z={added:J,deleted:X,delta:K,keys:this.keys},this.transaction.changed.get($).has(null)){let W=null;const Y=()=>{if(W)K.push(W)};for(let H=$._start;H!==null;H=H.right)if(H.deleted){if(this.deletes(H)&&!this.adds(H)){if(W===null||W.delete===void 0)Y(),W={delete:0};W.delete+=H.length,X.add(H)}}else if(this.adds(H)){if(W===null||W.insert===void 0)Y(),W={insert:[]};W.insert=W.insert.concat(H.content.getContent()),J.add(H)}else{if(W===null||W.retain===void 0)Y(),W={retain:0};W.retain+=H.length}if(W!==null&&W.retain===void 0)Y()}this._changes=Z}return Z}}var jM=(Z,$)=>{const J=[];while($._item!==null&&$!==Z){if($._item.parentSub!==null)J.unshift($._item.parentSub);else{let X=0,K=$._item.parent._start;while(K!==$._item&&K!==null){if(!K.deleted&&K.countable)X+=K.length;K=K.right}J.unshift(X)}$=$._item.parent}return J},CG=80,_J=0;class SG{constructor(Z,$){Z.marker=!0,this.p=Z,this.index=$,this.timestamp=_J++}}var hM=(Z)=>{Z.timestamp=_J++},fG=(Z,$,J)=>{Z.p.marker=!1,Z.p=$,$.marker=!0,Z.index=J,Z.timestamp=_J++},xM=(Z,$,J)=>{if(Z.length>=CG){const X=Z.reduce((K,G)=>K.timestamp<G.timestamp?K:G);return fG(X,$,J),X}else{const X=new SG($,J);return Z.push(X),X}},TZ=(Z,$)=>{if(Z._start===null||$===0||Z._searchMarker===null)return null;const J=Z._searchMarker.length===0?null:Z._searchMarker.reduce((G,W)=>D8($-G.index)<D8($-W.index)?G:W);let X=Z._start,K=0;if(J!==null)X=J.p,K=J.index,hM(J);while(X.right!==null&&K<$){if(!X.deleted&&X.countable){if($<K+X.length)break;K+=X.length}X=X.right}while(X.left!==null&&K>$)if(X=X.left,!X.deleted&&X.countable)K-=X.length;while(X.left!==null&&X.left.id.client===X.id.client&&X.left.id.clock+X.left.length===X.id.clock)if(X=X.left,!X.deleted&&X.countable)K-=X.length;if(J!==null&&D8(J.index-K)<X.parent.length/CG)return fG(J,X,K),J;else return xM(Z._searchMarker,X,K)},$7=(Z,$,J)=>{for(let X=Z.length-1;X>=0;X--){const K=Z[X];if(J>0){let G=K.p;G.marker=!1;while(G&&(G.deleted||!G.countable))if(G=G.left,G&&!G.deleted&&G.countable)K.index-=G.length;if(G===null||G.marker===!0){Z.splice(X,1);continue}K.p=G,G.marker=!0}if($<K.index||J>0&&$===K.index)K.index=u5($,K.index+J)}},vM=(Z)=>{let $=Z._start;const J=[];while($)J.push($),$=$.right;return J},jZ=(Z,$,J)=>{const X=Z,K=$.changedParentTypes;while(!0){if(M1(K,Z,()=>[]).push(J),Z._item===null)break;Z=Z._item.parent}QG(X._eH,J,$)};class W1{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=uK(),this._dEH=uK(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(Z,$){this.doc=Z,this._item=$}_copy(){throw F5()}clone(){throw F5()}_write(Z){}get _first(){let Z=this._start;while(Z!==null&&Z.deleted)Z=Z.right;return Z}_callObserver(Z,$){if(!Z.local&&this._searchMarker)this._searchMarker.length=0}observe(Z){dK(this._eH,Z)}observeDeep(Z){dK(this._dEH,Z)}unobserve(Z){cK(this._eH,Z)}unobserveDeep(Z){cK(this._dEH,Z)}toJSON(){}}var TG=(Z,$,J)=>{if($<0)$=Z._length+$;if(J<0)J=Z._length+J;let X=J-$;const K=[];let G=Z._start;while(G!==null&&X>0){if(G.countable&&!G.deleted){const W=G.content.getContent();if(W.length<=$)$-=W.length;else{for(let Y=$;Y<W.length&&X>0;Y++)K.push(W[Y]),X--;$=0}}G=G.right}return K},jG=(Z)=>{const $=[];let J=Z._start;while(J!==null){if(J.countable&&!J.deleted){const X=J.content.getContent();for(let K=0;K<X.length;K++)$.push(X[K])}J=J.right}return $},kM=(Z,$)=>{const J=[];let X=Z._start;while(X!==null){if(X.countable&&F6(X,$)){const K=X.content.getContent();for(let G=0;G<K.length;G++)J.push(K[G])}X=X.right}return J},J7=(Z,$)=>{let J=0,X=Z._start;while(X!==null){if(X.countable&&!X.deleted){const K=X.content.getContent();for(let G=0;G<K.length;G++)$(K[G],J++,Z)}X=X.right}},hG=(Z,$)=>{const J=[];return J7(Z,(X,K)=>{J.push($(X,K,Z))}),J},yM=(Z)=>{let $=Z._start,J=null,X=0;return{[Symbol.iterator](){return this},next:()=>{if(J===null){while($!==null&&$.deleted)$=$.right;if($===null)return{done:!0,value:void 0};J=$.content.getContent(),X=0,$=$.right}const K=J[X++];if(J.length<=X)J=null;return{done:!1,value:K}}}},xG=(Z,$)=>{const J=TZ(Z,$);let X=Z._start;if(J!==null)X=J.p,$-=J.index;for(;X!==null;X=X.right)if(!X.deleted&&X.countable){if($<X.length)return X.content.getContent()[$];$-=X.length}},RZ=(Z,$,J,X)=>{let K=J;const G=Z.doc,W=G.clientID,Y=G.store,H=J===null?$._start:J.right;let Q=[];const z=()=>{if(Q.length>0)K=new A0(X0(W,m0(Y,W)),K,K&&K.lastId,H,H&&H.id,$,null,new s5(Q)),K.integrate(Z,0),Q=[]};X.forEach((_)=>{if(_===null)Q.push(_);else switch(_.constructor){case Number:case Object:case Boolean:case Array:case String:Q.push(_);break;default:switch(z(),_.constructor){case Uint8Array:case ArrayBuffer:K=new A0(X0(W,m0(Y,W)),K,K&&K.lastId,H,H&&H.id,$,null,new J8(new Uint8Array(_))),K.integrate(Z,0);break;case n5:K=new A0(X0(W,m0(Y,W)),K,K&&K.lastId,H,H&&H.id,$,null,new X8(_)),K.integrate(Z,0);break;default:if(_ instanceof W1)K=new A0(X0(W,m0(Y,W)),K,K&&K.lastId,H,H&&H.id,$,null,new J5(_)),K.integrate(Z,0);else throw new Error("Unexpected content type in insert operation")}}}),z()},vG=()=>B5("Length exceeded!"),kG=(Z,$,J,X)=>{if(J>$._length)throw vG();if(J===0){if($._searchMarker)$7($._searchMarker,J,X.length);return RZ(Z,$,null,X)}const K=J,G=TZ($,J);let W=$._start;if(G!==null){if(W=G.p,J-=G.index,J===0)W=W.prev,J+=W&&W.countable&&!W.deleted?W.length:0}for(;W!==null;W=W.right)if(!W.deleted&&W.countable){if(J<=W.length){if(J<W.length)B1(Z,X0(W.id.client,W.id.clock+J));break}J-=W.length}if($._searchMarker)$7($._searchMarker,K,X.length);return RZ(Z,$,W,X)},bM=(Z,$,J)=>{let K=($._searchMarker||[]).reduce((G,W)=>W.index>G.index?W:G,{index:0,p:$._start}).p;if(K)while(K.right)K=K.right;return RZ(Z,$,K,J)},yG=(Z,$,J,X)=>{if(X===0)return;const K=J,G=X,W=TZ($,J);let Y=$._start;if(W!==null)Y=W.p,J-=W.index;for(;Y!==null&&J>0;Y=Y.right)if(!Y.deleted&&Y.countable){if(J<Y.length)B1(Z,X0(Y.id.client,Y.id.clock+J));J-=Y.length}while(X>0&&Y!==null){if(!Y.deleted){if(X<Y.length)B1(Z,X0(Y.id.client,Y.id.clock+X));Y.delete(Z),X-=Y.length}Y=Y.right}if(X>0)throw vG();if($._searchMarker)$7($._searchMarker,K,-G+X)},EZ=(Z,$,J)=>{const X=$._map.get(J);if(X!==void 0)X.delete(Z)},MJ=(Z,$,J,X)=>{const K=$._map.get(J)||null,G=Z.doc,W=G.clientID;let Y;if(X==null)Y=new s5([X]);else switch(X.constructor){case Number:case Object:case Boolean:case Array:case String:Y=new s5([X]);break;case Uint8Array:Y=new J8(X);break;case n5:Y=new X8(X);break;default:if(X instanceof W1)Y=new J5(X);else throw new Error("Unexpected content type")}new A0(X0(W,m0(G.store,W)),K,K&&K.lastId,null,null,$,J,Y).integrate(Z,0)},qJ=(Z,$)=>{const J=Z._map.get($);return J!==void 0&&!J.deleted?J.content.getContent()[J.length-1]:void 0},bG=(Z)=>{const $={};return Z._map.forEach((J,X)=>{if(!J.deleted)$[X]=J.content.getContent()[J.length-1]}),$},gG=(Z,$)=>{const J=Z._map.get($);return J!==void 0&&!J.deleted},gM=(Z,$,J)=>{let X=Z._map.get($)||null;while(X!==null&&(!J.sv.has(X.id.client)||X.id.clock>=(J.sv.get(X.id.client)||0)))X=X.left;return X!==null&&F6(X,J)?X.content.getContent()[X.length-1]:void 0},pG=(Z,$)=>{const J={};return Z._map.forEach((X,K)=>{let G=X;while(G!==null&&(!$.sv.has(G.id.client)||G.id.clock>=($.sv.get(G.id.client)||0)))G=G.left;if(G!==null&&F6(G,$))J[K]=G.content.getContent()[G.length-1]}),J},qZ=(Z)=>pK(Z.entries(),($)=>!$[1].deleted);class UJ extends c8{}class l5 extends W1{constructor(){super();this._prelimContent=[],this._searchMarker=[]}static from(Z){const $=new l5;return $.push(Z),$}_integrate(Z,$){super._integrate(Z,$),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new l5}clone(){const Z=new l5;return Z.insert(0,this.toArray().map(($)=>$ instanceof W1?$.clone():$)),Z}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(Z,$){super._callObserver(Z,$),jZ(this,Z,new UJ(this,Z))}insert(Z,$){if(this.doc!==null)I0(this.doc,(J)=>{kG(J,this,Z,$)});else this._prelimContent.splice(Z,0,...$)}push(Z){if(this.doc!==null)I0(this.doc,($)=>{bM($,this,Z)});else this._prelimContent.push(...Z)}unshift(Z){this.insert(0,Z)}delete(Z,$=1){if(this.doc!==null)I0(this.doc,(J)=>{yG(J,this,Z,$)});else this._prelimContent.splice(Z,$)}get(Z){return xG(this,Z)}toArray(){return jG(this)}slice(Z=0,$=this.length){return TG(this,Z,$)}toJSON(){return this.map((Z)=>Z instanceof W1?Z.toJSON():Z)}map(Z){return hG(this,Z)}forEach(Z){J7(this,Z)}[Symbol.iterator](){return yM(this)}_write(Z){Z.writeTypeRef(Gq)}}var pM=(Z)=>new l5;class FJ extends c8{constructor(Z,$,J){super(Z,$);this.keysChanged=J}}class O6 extends W1{constructor(Z){super();if(this._prelimContent=null,Z===void 0)this._prelimContent=new Map;else this._prelimContent=new Map(Z)}_integrate(Z,$){super._integrate(Z,$),this._prelimContent.forEach((J,X)=>{this.set(X,J)}),this._prelimContent=null}_copy(){return new O6}clone(){const Z=new O6;return this.forEach(($,J)=>{Z.set(J,$ instanceof W1?$.clone():$)}),Z}_callObserver(Z,$){jZ(this,Z,new FJ(this,Z,$))}toJSON(){const Z={};return this._map.forEach(($,J)=>{if(!$.deleted){const X=$.content.getContent()[$.length-1];Z[J]=X instanceof W1?X.toJSON():X}}),Z}get size(){return[...qZ(this._map)].length}keys(){return _Z(qZ(this._map),(Z)=>Z[0])}values(){return _Z(qZ(this._map),(Z)=>Z[1].content.getContent()[Z[1].length-1])}entries(){return _Z(qZ(this._map),(Z)=>[Z[0],Z[1].content.getContent()[Z[1].length-1]])}forEach(Z){this._map.forEach(($,J)=>{if(!$.deleted)Z($.content.getContent()[$.length-1],J,this)})}[Symbol.iterator](){return this.entries()}delete(Z){if(this.doc!==null)I0(this.doc,($)=>{EZ($,this,Z)});else this._prelimContent.delete(Z)}set(Z,$){if(this.doc!==null)I0(this.doc,(J)=>{MJ(J,this,Z,$)});else this._prelimContent.set(Z,$);return $}get(Z){return qJ(this,Z)}has(Z){return gG(this,Z)}clear(){if(this.doc!==null)I0(this.doc,(Z)=>{this.forEach(function($,J,X){EZ(Z,X,J)})});else this._prelimContent.clear()}_write(Z){Z.writeTypeRef(Wq)}}var mM=(Z)=>new O6,R6=(Z,$)=>Z===$||typeof Z==="object"&&typeof $==="object"&&Z&&$&&j9(Z,$);class OZ{constructor(Z,$,J,X){this.left=Z,this.right=$,this.index=J,this.currentAttributes=X}forward(){if(this.right===null)A1();switch(this.right.content.constructor){case a0:if(!this.right.deleted)l8(this.currentAttributes,this.right.content);break;default:if(!this.right.deleted)this.index+=this.right.length;break}this.left=this.right,this.right=this.right.right}}var eK=(Z,$,J)=>{while($.right!==null&&J>0){switch($.right.content.constructor){case a0:if(!$.right.deleted)l8($.currentAttributes,$.right.content);break;default:if(!$.right.deleted){if(J<$.right.length)B1(Z,X0($.right.id.client,$.right.id.clock+J));$.index+=$.right.length,J-=$.right.length}break}$.left=$.right,$.right=$.right.right}return $},UZ=(Z,$,J,X)=>{const K=new Map,G=X?TZ($,J):null;if(G){const W=new OZ(G.p.left,G.p,G.index,K);return eK(Z,W,J-G.index)}else{const W=new OZ(null,$._start,0,K);return eK(Z,W,J)}},mG=(Z,$,J,X)=>{while(J.right!==null&&(J.right.deleted===!0||J.right.content.constructor===a0&&R6(X.get(J.right.content.key),J.right.content.value))){if(!J.right.deleted)X.delete(J.right.content.key);J.forward()}const K=Z.doc,G=K.clientID;X.forEach((W,Y)=>{const{left:H,right:Q}=J,z=new A0(X0(G,m0(K.store,G)),H,H&&H.lastId,Q,Q&&Q.id,$,null,new a0(Y,W));z.integrate(Z,0),J.right=z,J.forward()})},l8=(Z,$)=>{const{key:J,value:X}=$;if(X===null)Z.delete(J);else Z.set(J,X)},uG=(Z,$)=>{while(!0){if(Z.right===null)break;else if(Z.right.deleted||Z.right.content.constructor===a0&&R6($[Z.right.content.key]??null,Z.right.content.value));else break;Z.forward()}},dG=(Z,$,J,X)=>{const K=Z.doc,G=K.clientID,W=new Map;for(let Y in X){const H=X[Y],Q=J.currentAttributes.get(Y)??null;if(!R6(Q,H)){W.set(Y,Q);const{left:z,right:_}=J;J.right=new A0(X0(G,m0(K.store,G)),z,z&&z.lastId,_,_&&_.id,$,null,new a0(Y,H)),J.right.integrate(Z,0),J.forward()}}return W},c9=(Z,$,J,X,K)=>{J.currentAttributes.forEach((M,U)=>{if(K[U]===void 0)K[U]=null});const G=Z.doc,W=G.clientID;uG(J,K);const Y=dG(Z,$,J,K),H=X.constructor===String?new $5(X):X instanceof W1?new J5(X):new a5(X);let{left:Q,right:z,index:_}=J;if($._searchMarker)$7($._searchMarker,J.index,H.getLength());z=new A0(X0(W,m0(G.store,W)),Q,Q&&Q.lastId,z,z&&z.id,$,null,H),z.integrate(Z,0),J.right=z,J.index=_,J.forward(),mG(Z,$,J,Y)},ZG=(Z,$,J,X,K)=>{const G=Z.doc,W=G.clientID;uG(J,K);const Y=dG(Z,$,J,K);Z:while(J.right!==null&&(X>0||Y.size>0&&(J.right.deleted||J.right.content.constructor===a0))){if(!J.right.deleted)switch(J.right.content.constructor){case a0:{const{key:H,value:Q}=J.right.content,z=K[H];if(z!==void 0){if(R6(z,Q))Y.delete(H);else{if(X===0)break Z;Y.set(H,Q)}J.right.delete(Z)}else J.currentAttributes.set(H,Q);break}default:if(X<J.right.length)B1(Z,X0(J.right.id.client,J.right.id.clock+X));X-=J.right.length;break}J.forward()}if(X>0){let H="";for(;X>0;X--)H+="\n";J.right=new A0(X0(W,m0(G.store,W)),J.left,J.left&&J.left.lastId,J.right,J.right&&J.right.id,$,null,new $5(H)),J.right.integrate(Z,0),J.forward()}mG(Z,$,J,Y)},cG=(Z,$,J,X,K)=>{let G=$;const W=l0();while(G&&(!G.countable||G.deleted)){if(!G.deleted&&G.content.constructor===a0){const Q=G.content;W.set(Q.key,Q)}G=G.right}let Y=0,H=!1;while($!==G){if(J===$)H=!0;if(!$.deleted){const Q=$.content;switch(Q.constructor){case a0:{const{key:z,value:_}=Q,M=X.get(z)??null;if(W.get(z)!==Q||M===_){if($.delete(Z),Y++,!H&&(K.get(z)??null)===_&&M!==_)if(M===null)K.delete(z);else K.set(z,M)}if(!H&&!$.deleted)l8(K,Q);break}}}$=$.right}return Y},uM=(Z,$)=>{while($&&$.right&&($.right.deleted||!$.right.countable))$=$.right;const J=new Set;while($&&($.deleted||!$.countable)){if(!$.deleted&&$.content.constructor===a0){const X=$.content.key;if(J.has(X))$.delete(Z);else J.add(X)}$=$.left}},lG=(Z)=>{let $=0;return I0(Z.doc,(J)=>{let{_start:X,_start:K}=Z,G=l0();const W=r7(G);while(K){if(K.deleted===!1)switch(K.content.constructor){case a0:l8(W,K.content);break;default:$+=cG(J,X,K,G,W),G=r7(W),X=K;break}K=K.right}}),$},dM=(Z)=>{const $=new Set,J=Z.doc;for(let[X,K]of Z.afterState.entries()){const G=Z.beforeState.get(X)||0;if(K===G)continue;UG(Z,J.store.clients.get(X),G,K,(W)=>{if(!W.deleted&&W.content.constructor===a0&&W.constructor!==D1)$.add(W.parent)})}I0(J,(X)=>{o6(Z,Z.deleteSet,(K)=>{if(K instanceof D1||!K.parent._hasFormatting||$.has(K.parent))return;const G=K.parent;if(K.content.constructor===a0)$.add(G);else uM(X,K)});for(let K of $)lG(K)})},$G=(Z,$,J)=>{const X=J,K=r7($.currentAttributes),G=$.right;while(J>0&&$.right!==null){if($.right.deleted===!1)switch($.right.content.constructor){case J5:case a5:case $5:if(J<$.right.length)B1(Z,X0($.right.id.client,$.right.id.clock+J));J-=$.right.length,$.right.delete(Z);break}$.forward()}if(G)cG(Z,G,$.right,K,$.currentAttributes);const W=($.left||$.right).parent;if(W._searchMarker)$7(W._searchMarker,$.index,-X+J);return $};class NJ extends c8{constructor(Z,$,J){super(Z,$);this.childListChanged=!1,this.keysChanged=new Set,J.forEach((X)=>{if(X===null)this.childListChanged=!0;else this.keysChanged.add(X)})}get changes(){if(this._changes===null){const Z={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=Z}return this._changes}get delta(){if(this._delta===null){const Z=this.target.doc,$=[];I0(Z,(J)=>{const X=new Map,K=new Map;let G=this.target._start,W=null;const Y={};let H="",Q=0,z=0;const _=()=>{if(W!==null){let M=null;switch(W){case"delete":if(z>0)M={delete:z};z=0;break;case"insert":if(typeof H==="object"||H.length>0){if(M={insert:H},X.size>0)M.attributes={},X.forEach((U,R)=>{if(U!==null)M.attributes[R]=U})}H="";break;case"retain":if(Q>0){if(M={retain:Q},!wK(Y))M.attributes=OK({},Y)}Q=0;break}if(M)$.push(M);W=null}};while(G!==null){switch(G.content.constructor){case J5:case a5:if(this.adds(G)){if(!this.deletes(G))_(),W="insert",H=G.content.getContent()[0],_()}else if(this.deletes(G)){if(W!=="delete")_(),W="delete";z+=1}else if(!G.deleted){if(W!=="retain")_(),W="retain";Q+=1}break;case $5:if(this.adds(G)){if(!this.deletes(G)){if(W!=="insert")_(),W="insert";H+=G.content.str}}else if(this.deletes(G)){if(W!=="delete")_(),W="delete";z+=G.length}else if(!G.deleted){if(W!=="retain")_(),W="retain";Q+=G.length}break;case a0:{const{key:M,value:U}=G.content;if(this.adds(G)){if(!this.deletes(G)){const R=X.get(M)??null;if(!R6(R,U)){if(W==="retain")_();if(R6(U,K.get(M)??null))delete Y[M];else Y[M]=U}else if(U!==null)G.delete(J)}}else if(this.deletes(G)){K.set(M,U);const R=X.get(M)??null;if(!R6(R,U)){if(W==="retain")_();Y[M]=R}}else if(!G.deleted){K.set(M,U);const R=Y[M];if(R!==void 0){if(!R6(R,U)){if(W==="retain")_();if(U===null)delete Y[M];else Y[M]=U}else if(R!==null)G.delete(J)}}if(!G.deleted){if(W==="insert")_();l8(X,G.content)}break}}G=G.right}_();while($.length>0){const M=$[$.length-1];if(M.retain!==void 0&&M.attributes===void 0)$.pop();else break}}),this._delta=$}return this._delta}}class t6 extends W1{constructor(Z){super();this._pending=Z!==void 0?[()=>this.insert(0,Z)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(Z,$){super._integrate(Z,$);try{this._pending.forEach((J)=>J())}catch(J){console.error(J)}this._pending=null}_copy(){return new t6}clone(){const Z=new t6;return Z.applyDelta(this.toDelta()),Z}_callObserver(Z,$){super._callObserver(Z,$);const J=new NJ(this,Z,$);if(jZ(this,Z,J),!Z.local&&this._hasFormatting)Z._needFormattingCleanup=!0}toString(){let Z="",$=this._start;while($!==null){if(!$.deleted&&$.countable&&$.content.constructor===$5)Z+=$.content.str;$=$.right}return Z}toJSON(){return this.toString()}applyDelta(Z,{sanitize:$=!0}={}){if(this.doc!==null)I0(this.doc,(J)=>{const X=new OZ(null,this._start,0,new Map);for(let K=0;K<Z.length;K++){const G=Z[K];if(G.insert!==void 0){const W=!$&&typeof G.insert==="string"&&K===Z.length-1&&X.right===null&&G.insert.slice(-1)==="\n"?G.insert.slice(0,-1):G.insert;if(typeof W!=="string"||W.length>0)c9(J,this,X,W,G.attributes||{})}else if(G.retain!==void 0)ZG(J,this,X,G.retain,G.attributes||{});else if(G.delete!==void 0)$G(J,X,G.delete)}});else this._pending.push(()=>this.applyDelta(Z))}toDelta(Z,$,J){const X=[],K=new Map,G=this.doc;let W="",Y=this._start;function H(){if(W.length>0){const z={};let _=!1;K.forEach((U,R)=>{_=!0,z[R]=U});const M={insert:W};if(_)M.attributes=z;X.push(M),W=""}}const Q=()=>{while(Y!==null){if(F6(Y,Z)||$!==void 0&&F6(Y,$))switch(Y.content.constructor){case $5:{const z=K.get("ychange");if(Z!==void 0&&!F6(Y,Z)){if(z===void 0||z.user!==Y.id.client||z.type!=="removed")H(),K.set("ychange",J?J("removed",Y.id):{type:"removed"})}else if($!==void 0&&!F6(Y,$)){if(z===void 0||z.user!==Y.id.client||z.type!=="added")H(),K.set("ychange",J?J("added",Y.id):{type:"added"})}else if(z!==void 0)H(),K.delete("ychange");W+=Y.content.str;break}case J5:case a5:{H();const z={insert:Y.content.getContent()[0]};if(K.size>0){const _={};z.attributes=_,K.forEach((M,U)=>{_[U]=M})}X.push(z);break}case a0:if(F6(Y,Z))H(),l8(K,Y.content);break}Y=Y.right}H()};if(Z||$)I0(G,(z)=>{if(Z)l9(z,Z);if($)l9(z,$);Q()},"cleanup");else Q();return X}insert(Z,$,J){if($.length<=0)return;const X=this.doc;if(X!==null)I0(X,(K)=>{const G=UZ(K,this,Z,!J);if(!J)J={},G.currentAttributes.forEach((W,Y)=>{J[Y]=W});c9(K,this,G,$,J)});else this._pending.push(()=>this.insert(Z,$,J))}insertEmbed(Z,$,J){const X=this.doc;if(X!==null)I0(X,(K)=>{const G=UZ(K,this,Z,!J);c9(K,this,G,$,J||{})});else this._pending.push(()=>this.insertEmbed(Z,$,J||{}))}delete(Z,$){if($===0)return;const J=this.doc;if(J!==null)I0(J,(X)=>{$G(X,UZ(X,this,Z,!0),$)});else this._pending.push(()=>this.delete(Z,$))}format(Z,$,J){if($===0)return;const X=this.doc;if(X!==null)I0(X,(K)=>{const G=UZ(K,this,Z,!1);if(G.right===null)return;ZG(K,this,G,$,J)});else this._pending.push(()=>this.format(Z,$,J))}removeAttribute(Z){if(this.doc!==null)I0(this.doc,($)=>{EZ($,this,Z)});else this._pending.push(()=>this.removeAttribute(Z))}setAttribute(Z,$){if(this.doc!==null)I0(this.doc,(J)=>{MJ(J,this,Z,$)});else this._pending.push(()=>this.setAttribute(Z,$))}getAttribute(Z){return qJ(this,Z)}getAttributes(){return bG(this)}_write(Z){Z.writeTypeRef(Yq)}}var cM=(Z)=>new t6;class NZ{constructor(Z,$=()=>!0){this._filter=$,this._root=Z,this._currentNode=Z._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let Z=this._currentNode,$=Z&&Z.content&&Z.content.type;if(Z!==null&&(!this._firstCall||Z.deleted||!this._filter($)))do if($=Z.content.type,!Z.deleted&&($.constructor===V6||$.constructor===P6)&&$._start!==null)Z=$._start;else while(Z!==null)if(Z.right!==null){Z=Z.right;break}else if(Z.parent===this._root)Z=null;else Z=Z.parent._item;while(Z!==null&&(Z.deleted||!this._filter(Z.content.type)));if(this._firstCall=!1,Z===null)return{value:void 0,done:!0};return this._currentNode=Z,{value:Z.content.type,done:!1}}}class P6 extends W1{constructor(){super();this._prelimContent=[]}get firstChild(){const Z=this._first;return Z?Z.content.getContent()[0]:null}_integrate(Z,$){super._integrate(Z,$),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new P6}clone(){const Z=new P6;return Z.insert(0,this.toArray().map(($)=>$ instanceof W1?$.clone():$)),Z}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(Z){return new NZ(this,Z)}querySelector(Z){Z=Z.toUpperCase();const J=new NZ(this,(X)=>X.nodeName&&X.nodeName.toUpperCase()===Z).next();if(J.done)return null;else return J.value}querySelectorAll(Z){return Z=Z.toUpperCase(),U5(new NZ(this,($)=>$.nodeName&&$.nodeName.toUpperCase()===Z))}_callObserver(Z,$){jZ(this,Z,new RJ(this,$,Z))}toString(){return hG(this,(Z)=>Z.toString()).join("")}toJSON(){return this.toString()}toDOM(Z=document,$={},J){const X=Z.createDocumentFragment();if(J!==void 0)J._createAssociation(X,this);return J7(this,(K)=>{X.insertBefore(K.toDOM(Z,$,J),null)}),X}insert(Z,$){if(this.doc!==null)I0(this.doc,(J)=>{kG(J,this,Z,$)});else this._prelimContent.splice(Z,0,...$)}insertAfter(Z,$){if(this.doc!==null)I0(this.doc,(J)=>{const X=Z&&Z instanceof W1?Z._item:Z;RZ(J,this,X,$)});else{const J=this._prelimContent,X=Z===null?0:J.findIndex((K)=>K===Z)+1;if(X===0&&Z!==null)throw B5("Reference item not found");J.splice(X,0,...$)}}delete(Z,$=1){if(this.doc!==null)I0(this.doc,(J)=>{yG(J,this,Z,$)});else this._prelimContent.splice(Z,$)}toArray(){return jG(this)}push(Z){this.insert(this.length,Z)}unshift(Z){this.insert(0,Z)}get(Z){return xG(this,Z)}slice(Z=0,$=this.length){return TG(this,Z,$)}forEach(Z){J7(this,Z)}_write(Z){Z.writeTypeRef(Qq)}}var lM=(Z)=>new P6;class V6 extends P6{constructor(Z="UNDEFINED"){super();this.nodeName=Z,this._prelimAttrs=new Map}get nextSibling(){const Z=this._item?this._item.next:null;return Z?Z.content.type:null}get prevSibling(){const Z=this._item?this._item.prev:null;return Z?Z.content.type:null}_integrate(Z,$){super._integrate(Z,$),this._prelimAttrs.forEach((J,X)=>{this.setAttribute(X,J)}),this._prelimAttrs=null}_copy(){return new V6(this.nodeName)}clone(){const Z=new V6(this.nodeName),$=this.getAttributes();return VK($,(J,X)=>{if(typeof J==="string")Z.setAttribute(X,J)}),Z.insert(0,this.toArray().map((J)=>J instanceof W1?J.clone():J)),Z}toString(){const Z=this.getAttributes(),$=[],J=[];for(let W in Z)J.push(W);J.sort();const X=J.length;for(let W=0;W<X;W++){const Y=J[W];$.push(Y+'="'+Z[Y]+'"')}const K=this.nodeName.toLocaleLowerCase(),G=$.length>0?" "+$.join(" "):"";return`<${K}${G}>${super.toString()}</${K}>`}removeAttribute(Z){if(this.doc!==null)I0(this.doc,($)=>{EZ($,this,Z)});else this._prelimAttrs.delete(Z)}setAttribute(Z,$){if(this.doc!==null)I0(this.doc,(J)=>{MJ(J,this,Z,$)});else this._prelimAttrs.set(Z,$)}getAttribute(Z){return qJ(this,Z)}hasAttribute(Z){return gG(this,Z)}getAttributes(Z){return Z?pG(this,Z):bG(this)}toDOM(Z=document,$={},J){const X=Z.createElement(this.nodeName),K=this.getAttributes();for(let G in K){const W=K[G];if(typeof W==="string")X.setAttribute(G,W)}if(J7(this,(G)=>{X.appendChild(G.toDOM(Z,$,J))}),J!==void 0)J._createAssociation(X,this);return X}_write(Z){Z.writeTypeRef(Hq),Z.writeKey(this.nodeName)}}var iM=(Z)=>new V6(Z.readKey());class RJ extends c8{constructor(Z,$,J){super(Z,J);this.childListChanged=!1,this.attributesChanged=new Set,$.forEach((X)=>{if(X===null)this.childListChanged=!0;else this.attributesChanged.add(X)})}}class u8 extends O6{constructor(Z){super();this.hookName=Z}_copy(){return new u8(this.hookName)}clone(){const Z=new u8(this.hookName);return this.forEach(($,J)=>{Z.set(J,$)}),Z}toDOM(Z=document,$={},J){const X=$[this.hookName];let K;if(X!==void 0)K=X.createDom(this);else K=document.createElement(this.hookName);if(K.setAttribute("data-yjs-hook",this.hookName),J!==void 0)J._createAssociation(K,this);return K}_write(Z){Z.writeTypeRef(zq),Z.writeKey(this.hookName)}}var sM=(Z)=>new u8(Z.readKey());class X7 extends t6{get nextSibling(){const Z=this._item?this._item.next:null;return Z?Z.content.type:null}get prevSibling(){const Z=this._item?this._item.prev:null;return Z?Z.content.type:null}_copy(){return new X7}clone(){const Z=new X7;return Z.applyDelta(this.toDelta()),Z}toDOM(Z=document,$,J){const X=Z.createTextNode(this.toString());if(J!==void 0)J._createAssociation(X,this);return X}toString(){return this.toDelta().map((Z)=>{const $=[];for(let X in Z.attributes){const K=[];for(let G in Z.attributes[X])K.push({key:G,value:Z.attributes[X][G]});K.sort((G,W)=>G.key<W.key?-1:1),$.push({nodeName:X,attrs:K})}$.sort((X,K)=>X.nodeName<K.nodeName?-1:1);let J="";for(let X=0;X<$.length;X++){const K=$[X];J+=`<${K.nodeName}`;for(let G=0;G<K.attrs.length;G++){const W=K.attrs[G];J+=` ${W.key}="${W.value}"`}J+=">"}J+=Z.insert;for(let X=$.length-1;X>=0;X--)J+=`</${$[X].nodeName}>`;return J}).join("")}toJSON(){return this.toString()}_write(Z){Z.writeTypeRef(_q)}}var nM=(Z)=>new X7;class Y7{constructor(Z,$){this.id=Z,this.length=$}get deleted(){throw F5()}mergeWith(Z){return!1}write(Z,$,J){throw F5()}integrate(Z,$){throw F5()}}var oM=0;class D1 extends Y7{get deleted(){return!0}delete(){}mergeWith(Z){if(this.constructor!==Z.constructor)return!1;return this.length+=Z.length,!0}integrate(Z,$){if($>0)this.id.clock+=$,this.length-=$;qG(Z.doc.store,this)}write(Z,$){Z.writeInfo(oM),Z.writeLen(this.length-$)}getMissing(Z,$){return null}}class J8{constructor(Z){this.content=Z}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new J8(this.content)}splice(Z){throw F5()}mergeWith(Z){return!1}integrate(Z,$){}delete(Z){}gc(Z){}write(Z,$){Z.writeBuf(this.content)}getRef(){return 3}}var rM=(Z)=>new J8(Z.readBuf());class e6{constructor(Z){this.len=Z}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new e6(this.len)}splice(Z){const $=new e6(this.len-Z);return this.len=Z,$}mergeWith(Z){return this.len+=Z.len,!0}integrate(Z,$){t4(Z.deleteSet,$.id.client,$.id.clock,this.len),$.markDeleted()}delete(Z){}gc(Z){}write(Z,$){Z.writeLen(this.len-$)}getRef(){return 1}}var aM=(Z)=>new e6(Z.readLen()),iG=(Z,$)=>new n5({guid:Z,...$,shouldLoad:$.shouldLoad||$.autoLoad||!1});class X8{constructor(Z){if(Z._item)console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid.");this.doc=Z;const $={};if(this.opts=$,!Z.gc)$.gc=!1;if(Z.autoLoad)$.autoLoad=!0;if(Z.meta!==null)$.meta=Z.meta}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new X8(iG(this.doc.guid,this.opts))}splice(Z){throw F5()}mergeWith(Z){return!1}integrate(Z,$){if(this.doc._item=$,Z.subdocsAdded.add(this.doc),this.doc.shouldLoad)Z.subdocsLoaded.add(this.doc)}delete(Z){if(Z.subdocsAdded.has(this.doc))Z.subdocsAdded.delete(this.doc);else Z.subdocsRemoved.add(this.doc)}gc(Z){}write(Z,$){Z.writeString(this.doc.guid),Z.writeAny(this.opts)}getRef(){return 9}}var tM=(Z)=>new X8(iG(Z.readString(),Z.readAny()));class a5{constructor(Z){this.embed=Z}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new a5(this.embed)}splice(Z){throw F5()}mergeWith(Z){return!1}integrate(Z,$){}delete(Z){}gc(Z){}write(Z,$){Z.writeJSON(this.embed)}getRef(){return 5}}var eM=(Z)=>new a5(Z.readJSON());class a0{constructor(Z,$){this.key=Z,this.value=$}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new a0(this.key,this.value)}splice(Z){throw F5()}mergeWith(Z){return!1}integrate(Z,$){const J=$.parent;J._searchMarker=null,J._hasFormatting=!0}delete(Z){}gc(Z){}write(Z,$){Z.writeKey(this.key),Z.writeJSON(this.value)}getRef(){return 6}}var Zq=(Z)=>new a0(Z.readKey(),Z.readJSON());class d8{constructor(Z){this.arr=Z}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new d8(this.arr)}splice(Z){const $=new d8(this.arr.slice(Z));return this.arr=this.arr.slice(0,Z),$}mergeWith(Z){return this.arr=this.arr.concat(Z.arr),!0}integrate(Z,$){}delete(Z){}gc(Z){}write(Z,$){const J=this.arr.length;Z.writeLen(J-$);for(let X=$;X<J;X++){const K=this.arr[X];Z.writeString(K===void 0?"undefined":JSON.stringify(K))}}getRef(){return 2}}var $q=(Z)=>{const $=Z.readLen(),J=[];for(let X=0;X<$;X++){const K=Z.readString();if(K==="undefined")J.push(void 0);else J.push(JSON.parse(K))}return new d8(J)};class s5{constructor(Z){this.arr=Z}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new s5(this.arr)}splice(Z){const $=new s5(this.arr.slice(Z));return this.arr=this.arr.slice(0,Z),$}mergeWith(Z){return this.arr=this.arr.concat(Z.arr),!0}integrate(Z,$){}delete(Z){}gc(Z){}write(Z,$){const J=this.arr.length;Z.writeLen(J-$);for(let X=$;X<J;X++){const K=this.arr[X];Z.writeAny(K)}}getRef(){return 8}}var Jq=(Z)=>{const $=Z.readLen(),J=[];for(let X=0;X<$;X++)J.push(Z.readAny());return new s5(J)};class $5{constructor(Z){this.str=Z}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new $5(this.str)}splice(Z){const $=new $5(this.str.slice(Z));this.str=this.str.slice(0,Z);const J=this.str.charCodeAt(Z-1);if(J>=55296&&J<=56319)this.str=this.str.slice(0,Z-1)+"\uFFFD",$.str="\uFFFD"+$.str.slice(1);return $}mergeWith(Z){return this.str+=Z.str,!0}integrate(Z,$){}delete(Z){}gc(Z){}write(Z,$){Z.writeString($===0?this.str:this.str.slice($))}getRef(){return 4}}var Xq=(Z)=>new $5(Z.readString()),Kq=[pM,mM,cM,iM,lM,sM,nM],Gq=0,Wq=1,Yq=2,Hq=3,Qq=4,zq=5,_q=6;class J5{constructor(Z){this.type=Z}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new J5(this.type._copy())}splice(Z){throw F5()}mergeWith(Z){return!1}integrate(Z,$){this.type._integrate(Z.doc,$)}delete(Z){let $=this.type._start;while($!==null){if(!$.deleted)$.delete(Z);else if($.id.clock<(Z.beforeState.get($.id.client)||0))Z._mergeStructs.push($);$=$.right}this.type._map.forEach((J)=>{if(!J.deleted)J.delete(Z);else if(J.id.clock<(Z.beforeState.get(J.id.client)||0))Z._mergeStructs.push(J)}),Z.changed.delete(this.type)}gc(Z){let $=this.type._start;while($!==null)$.gc(Z,!0),$=$.right;this.type._start=null,this.type._map.forEach((J)=>{while(J!==null)J.gc(Z,!0),J=J.left}),this.type._map=new Map}write(Z,$){this.type._write(Z)}getRef(){return 7}}var Mq=(Z)=>new J5(Kq[Z.readTypeRef()](Z)),s9=(Z,$)=>{let J=$,X=0,K;do{if(X>0)J=X0(J.client,J.clock+X);K=n6(Z,J),X=J.clock-K.id.clock,J=K.redone}while(J!==null&&K instanceof A0);return{item:K,diff:X}},EJ=(Z,$)=>{while(Z!==null&&Z.keep!==$)Z.keep=$,Z=Z.parent._item},PZ=(Z,$,J)=>{const{client:X,clock:K}=$.id,G=new A0(X0(X,K+J),$,X0(X,K+J-1),$.right,$.rightOrigin,$.parent,$.parentSub,$.content.splice(J));if($.deleted)G.markDeleted();if($.keep)G.keep=!0;if($.redone!==null)G.redone=X0($.redone.client,$.redone.clock+J);if($.right=G,G.right!==null)G.right.left=G;if(Z._mergeStructs.push(G),G.parentSub!==null&&G.right===null)G.parent._map.set(G.parentSub,G);return $.length=J,G},JG=(Z,$)=>rX(Z,(J)=>$8(J.deletions,$)),sG=(Z,$,J,X,K,G)=>{const W=Z.doc,Y=W.store,H=W.clientID,Q=$.redone;if(Q!==null)return B1(Z,Q);let z=$.parent._item,_=null,M;if(z!==null&&z.deleted===!0){if(z.redone===null&&(!J.has(z)||sG(Z,z,J,X,K,G)===null))return null;while(z.redone!==null)z=B1(Z,z.redone)}const U=z===null?$.parent:z.content.type;if($.parentSub===null){_=$.left,M=$;while(_!==null){let q=_;while(q!==null&&q.parent._item!==z)q=q.redone===null?null:B1(Z,q.redone);if(q!==null&&q.parent._item===z){_=q;break}_=_.left}while(M!==null){let q=M;while(q!==null&&q.parent._item!==z)q=q.redone===null?null:B1(Z,q.redone);if(q!==null&&q.parent._item===z){M=q;break}M=M.right}}else if(M=null,$.right&&!K){_=$;while(_!==null&&_.right!==null&&(_.right.redone||$8(X,_.right.id)||JG(G.undoStack,_.right.id)||JG(G.redoStack,_.right.id))){_=_.right;while(_.redone)_=B1(Z,_.redone)}if(_&&_.right!==null)return null}else _=U._map.get($.parentSub)||null;const R=m0(Y,H),E=X0(H,R),F=new A0(E,_,_&&_.lastId,M,M&&M.id,U,$.parentSub,$.content.copy());return $.redone=E,EJ(F,!0),F.integrate(Z,0),F};class A0 extends Y7{constructor(Z,$,J,X,K,G,W,Y){super(Z,Y.getLength());this.origin=J,this.left=$,this.right=X,this.rightOrigin=K,this.parent=G,this.parentSub=W,this.redone=null,this.content=Y,this.info=this.content.isCountable()?F9:0}set marker(Z){if((this.info&JZ)>0!==Z)this.info^=JZ}get marker(){return(this.info&JZ)>0}get keep(){return(this.info&U9)>0}set keep(Z){if(this.keep!==Z)this.info^=U9}get countable(){return(this.info&F9)>0}get deleted(){return(this.info&$Z)>0}set deleted(Z){if(this.deleted!==Z)this.info^=$Z}markDeleted(){this.info|=$Z}getMissing(Z,$){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=m0($,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=m0($,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===E6&&this.id.client!==this.parent.client&&this.parent.clock>=m0($,this.parent.client))return this.parent.client;if(this.origin)this.left=sK(Z,$,this.origin),this.origin=this.left.lastId;if(this.rightOrigin)this.right=B1(Z,this.rightOrigin),this.rightOrigin=this.right.id;if(this.left&&this.left.constructor===D1||this.right&&this.right.constructor===D1)this.parent=null;else if(!this.parent){if(this.left&&this.left.constructor===A0)this.parent=this.left.parent,this.parentSub=this.left.parentSub;if(this.right&&this.right.constructor===A0)this.parent=this.right.parent,this.parentSub=this.right.parentSub}else if(this.parent.constructor===E6){const J=n6($,this.parent);if(J.constructor===D1)this.parent=null;else this.parent=J.content.type}return null}integrate(Z,$){if($>0)this.id.clock+=$,this.left=sK(Z,Z.doc.store,X0(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice($),this.length-=$;if(this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let J=this.left,X;if(J!==null)X=J.right;else if(this.parentSub!==null){X=this.parent._map.get(this.parentSub)||null;while(X!==null&&X.left!==null)X=X.left}else X=this.parent._start;const K=new Set,G=new Set;while(X!==null&&X!==this.right){if(G.add(X),K.add(X),s6(this.origin,X.origin)){if(X.id.client<this.id.client)J=X,K.clear();else if(s6(this.rightOrigin,X.rightOrigin))break}else if(X.origin!==null&&G.has(n6(Z.doc.store,X.origin))){if(!K.has(n6(Z.doc.store,X.origin)))J=X,K.clear()}else break;X=X.right}this.left=J}if(this.left!==null){const J=this.left.right;this.right=J,this.left.right=this}else{let J;if(this.parentSub!==null){J=this.parent._map.get(this.parentSub)||null;while(J!==null&&J.left!==null)J=J.left}else J=this.parent._start,this.parent._start=this;this.right=J}if(this.right!==null)this.right.left=this;else if(this.parentSub!==null){if(this.parent._map.set(this.parentSub,this),this.left!==null)this.left.delete(Z)}if(this.parentSub===null&&this.countable&&!this.deleted)this.parent._length+=this.length;if(qG(Z.doc.store,this),this.content.integrate(Z,this),oK(Z,this.parent,this.parentSub),this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)this.delete(Z)}else new D1(this.id,this.length).integrate(Z,0)}get next(){let Z=this.right;while(Z!==null&&Z.deleted)Z=Z.right;return Z}get prev(){let Z=this.left;while(Z!==null&&Z.deleted)Z=Z.left;return Z}get lastId(){return this.length===1?this.id:X0(this.id.client,this.id.clock+this.length-1)}mergeWith(Z){if(this.constructor===Z.constructor&&s6(Z.origin,this.lastId)&&this.right===Z&&s6(this.rightOrigin,Z.rightOrigin)&&this.id.client===Z.id.client&&this.id.clock+this.length===Z.id.clock&&this.deleted===Z.deleted&&this.redone===null&&Z.redone===null&&this.content.constructor===Z.content.constructor&&this.content.mergeWith(Z.content)){const $=this.parent._searchMarker;if($)$.forEach((J)=>{if(J.p===Z){if(J.p=this,!this.deleted&&this.countable)J.index-=this.length}});if(Z.keep)this.keep=!0;if(this.right=Z.right,this.right!==null)this.right.left=this;return this.length+=Z.length,!0}return!1}delete(Z){if(!this.deleted){const $=this.parent;if(this.countable&&this.parentSub===null)$._length-=this.length;this.markDeleted(),t4(Z.deleteSet,this.id.client,this.id.clock,this.length),oK(Z,$,this.parentSub),this.content.delete(Z)}}gc(Z,$){if(!this.deleted)throw A1();if(this.content.gc(Z),$)PM(Z,this,new D1(this.id,this.length));else this.content=new e6(this.length)}write(Z,$){const J=$>0?X0(this.id.client,this.id.clock+$-1):this.origin,X=this.rightOrigin,K=this.parentSub,G=this.content.getRef()&g4|(J===null?0:N1)|(X===null?0:a1)|(K===null?0:S8);if(Z.writeInfo(G),J!==null)Z.writeLeftID(J);if(X!==null)Z.writeRightID(X);if(J===null&&X===null){const W=this.parent;if(W._item!==void 0){const Y=W._item;if(Y===null){const H=KJ(W);Z.writeParentInfo(!0),Z.writeString(H)}else Z.writeParentInfo(!1),Z.writeLeftID(Y.id)}else if(W.constructor===String)Z.writeParentInfo(!0),Z.writeString(W);else if(W.constructor===E6)Z.writeParentInfo(!1),Z.writeLeftID(W);else A1();if(K!==null)Z.writeString(K)}this.content.write(Z,$)}}var nG=(Z,$)=>qq[$&g4](Z),qq=[()=>{A1()},aM,$q,rM,Xq,eM,Zq,Mq,Jq,tM,()=>{A1()}],Uq=10;class R1 extends Y7{get deleted(){return!0}delete(){}mergeWith(Z){if(this.constructor!==Z.constructor)return!1;return this.length+=Z.length,!0}integrate(Z,$){A1()}write(Z,$){Z.writeInfo(Uq),l(Z.restEncoder,this.length-$)}getMissing(Z,$){return null}}var oG=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:{},rG="__ $YJS$ __";if(oG[rG]===!0)console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");oG[rG]=!0;var aG=new Map;class tG{constructor(Z){this.room=Z,this.onmessage=null,this._onChange=($)=>$.key===Z&&this.onmessage!==null&&this.onmessage({data:fK($.newValue||"")}),FK(this._onChange)}postMessage(Z){HZ.setItem(this.room,SK(CK(Z)))}close(){NK(this._onChange)}}var Fq=typeof BroadcastChannel==="undefined"?tG:BroadcastChannel,OJ=(Z)=>M1(aG,Z,()=>{const $=r1(),J=new Fq(Z);return J.onmessage=(X)=>$.forEach((K)=>K(X.data,"broadcastchannel")),{bc:J,subs:$}}),eG=(Z,$)=>{return OJ(Z).subs.add($),$},ZW=(Z,$)=>{const J=OJ(Z),X=J.subs.delete($);if(X&&J.subs.size===0)J.bc.close(),aG.delete(Z);return X},K8=(Z,$,J=null)=>{const X=OJ(Z);X.bc.postMessage($),X.subs.forEach((K)=>K($,J))};var $W=0,hZ=1,JW=2,xZ=(Z,$)=>{l(Z,$W);const J=XJ($);b0(Z,J)},PJ=(Z,$,J)=>{l(Z,hZ),b0(Z,ZJ($,J))},Rq=(Z,$,J)=>PJ($,J,G1(Z)),XW=(Z,$,J)=>{try{e9($,G1(Z),J)}catch(X){console.error("Caught error while handling a Yjs update",X)}},KW=(Z,$)=>{l(Z,JW),b0(Z,$)},Eq=XW,GW=(Z,$,J,X)=>{const K=t(Z);switch(K){case $W:Rq(Z,$,J);break;case hZ:XW(Z,J,X);break;case JW:Eq(Z,J,X);break;default:throw new Error("Unknown message type")}return K};var Pq=0;var WW=(Z,$,J)=>{switch(t(Z)){case Pq:J($,t1(Z))}};var VJ=30000;class LJ extends b4{constructor(Z){super();this.doc=Z,this.clientID=Z.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const $=c1();if(this.getLocalState()!==null&&VJ/2<=$-this.meta.get(this.clientID).lastUpdated)this.setLocalState(this.getLocalState());const J=[];if(this.meta.forEach((X,K)=>{if(K!==this.clientID&&VJ<=$-X.lastUpdated&&this.states.has(K))J.push(K)}),J.length>0)vZ(this,J,"timeout")},T1(VJ/10)),Z.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(Z){const $=this.clientID,J=this.meta.get($),X=J===void 0?0:J.clock+1,K=this.states.get($);if(Z===null)this.states.delete($);else this.states.set($,Z);this.meta.set($,{clock:X,lastUpdated:c1()});const G=[],W=[],Y=[],H=[];if(Z===null)H.push($);else if(K==null){if(Z!=null)G.push($)}else if(W.push($),!g8(K,Z))Y.push($);if(G.length>0||Y.length>0||H.length>0)this.emit("change",[{added:G,updated:Y,removed:H},"local"]);this.emit("update",[{added:G,updated:W,removed:H},"local"])}setLocalStateField(Z,$){const J=this.getLocalState();if(J!==null)this.setLocalState({...J,[Z]:$})}getStates(){return this.states}}var vZ=(Z,$,J)=>{const X=[];for(let K=0;K<$.length;K++){const G=$[K];if(Z.states.has(G)){if(Z.states.delete(G),G===Z.clientID){const W=Z.meta.get(G);Z.meta.set(G,{clock:W.clock+1,lastUpdated:c1()})}X.push(G)}}if(X.length>0)Z.emit("change",[{added:[],updated:[],removed:X},J]),Z.emit("update",[{added:[],updated:[],removed:X},J])},i8=(Z,$,J=Z.states)=>{const X=$.length,K=o0();l(K,X);for(let G=0;G<X;G++){const W=$[G],Y=J.get(W)||null,H=Z.meta.get(W).clock;l(K,W),l(K,H),A5(K,JSON.stringify(Y))}return D0(K)};var YW=(Z,$,J)=>{const X=r0($),K=c1(),G=[],W=[],Y=[],H=[],Q=t(X);for(let z=0;z<Q;z++){const _=t(X);let M=t(X);const U=JSON.parse(t1(X)),R=Z.meta.get(_),E=Z.states.get(_),F=R===void 0?0:R.clock;if(F<M||F===M&&U===null&&Z.states.has(_)){if(U===null)if(_===Z.clientID&&Z.getLocalState()!=null)M++;else Z.states.delete(_);else Z.states.set(_,U);if(Z.meta.set(_,{clock:M,lastUpdated:K}),R===void 0&&U!==null)G.push(_);else if(R!==void 0&&U===null)H.push(_);else if(U!==null){if(!g8(U,E))Y.push(_);W.push(_)}}}if(G.length>0||Y.length>0||H.length>0)Z.emit("change",[{added:G,updated:Y,removed:H},J]);if(G.length>0||W.length>0||H.length>0)Z.emit("update",[{added:G,updated:W,removed:H},J])};var HW=(Z)=>LK(Z,($,J)=>`${encodeURIComponent(J)}=${encodeURIComponent($)}`).join("&");var G8=0,zW=3,s8=1,Aq=2,Q7=[];Q7[G8]=(Z,$,J,X,K)=>{l(Z,G8);const G=GW($,Z,J.doc,J);if(X&&G===hZ&&!J.synced)J.synced=!0};Q7[zW]=(Z,$,J,X,K)=>{l(Z,s8),b0(Z,i8(J.awareness,Array.from(J.awareness.getStates().keys())))};Q7[s8]=(Z,$,J,X,K)=>{YW(J.awareness,G1($),J)};Q7[Aq]=(Z,$,J,X,K)=>{WW($,J.doc,(G,W)=>Bq(J,W))};var QW=30000,Bq=(Z,$)=>console.warn(`Permission denied to access ${Z.url}.\n${$}`),_W=(Z,$,J)=>{const X=r0($),K=o0(),G=t(X),W=Z.messageHandlers[G];if(W)W(K,X,Z,J,G);else console.error("Unable to compute message");return K},MW=(Z)=>{if(Z.shouldConnect&&Z.ws===null){const $=new Z._WS(Z.url,Z.protocols);$.binaryType="arraybuffer",Z.ws=$,Z.wsconnecting=!0,Z.wsconnected=!1,Z.synced=!1,$.onmessage=(J)=>{Z.wsLastMessageReceived=c1();const X=_W(Z,new Uint8Array(J.data),!0);if(XZ(X)>1)$.send(D0(X))},$.onerror=(J)=>{Z.emit("connection-error",[J,Z])},$.onclose=(J)=>{if(Z.emit("connection-close",[J,Z]),Z.ws=null,Z.wsconnecting=!1,Z.wsconnected)Z.wsconnected=!1,Z.synced=!1,vZ(Z.awareness,Array.from(Z.awareness.getStates().keys()).filter((X)=>X!==Z.doc.clientID),Z),Z.emit("status",[{status:"disconnected"}]);else Z.wsUnsuccessfulReconnects++;setTimeout(MW,I8(tX(2,Z.wsUnsuccessfulReconnects)*100,Z.maxBackoffTime),Z)},$.onopen=()=>{Z.wsLastMessageReceived=c1(),Z.wsconnecting=!1,Z.wsconnected=!0,Z.wsUnsuccessfulReconnects=0,Z.emit("status",[{status:"connected"}]);const J=o0();if(l(J,G8),xZ(J,Z.doc),$.send(D0(J)),Z.awareness.getLocalState()!==null){const X=o0();l(X,s8),b0(X,i8(Z.awareness,[Z.doc.clientID])),$.send(D0(X))}},Z.emit("status",[{status:"connecting"}])}},wJ=(Z,$)=>{const J=Z.ws;if(Z.wsconnected&&J&&J.readyState===J.OPEN)J.send($);if(Z.bcconnected)K8(Z.bcChannel,$,Z)};class AJ extends b4{constructor(Z,$,J,{connect:X=!0,awareness:K=new LJ(J),params:G={},protocols:W=[],WebSocketPolyfill:Y=WebSocket,resyncInterval:H=-1,maxBackoffTime:Q=2500,disableBc:z=!1}={}){super();while(Z[Z.length-1]==="/")Z=Z.slice(0,Z.length-1);if(this.serverUrl=Z,this.bcChannel=Z+"/"+$,this.maxBackoffTime=Q,this.params=G,this.protocols=W,this.roomname=$,this.doc=J,this._WS=Y,this.awareness=K,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=z,this.wsUnsuccessfulReconnects=0,this.messageHandlers=Q7.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=X,this._resyncInterval=0,H>0)this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const _=o0();l(_,G8),xZ(_,J),this.ws.send(D0(_))}},H);if(this._bcSubscriber=(_,M)=>{if(M!==this){const U=_W(this,new Uint8Array(_),!1);if(XZ(U)>1)K8(this.bcChannel,D0(U),this)}},this._updateHandler=(_,M)=>{if(M!==this){const U=o0();l(U,G8),KW(U,_),wJ(this,D0(U))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:_,updated:M,removed:U},R)=>{const E=_.concat(M).concat(U),F=o0();l(F,s8),b0(F,i8(K,E)),wJ(this,D0(F))},this._exitHandler=()=>{vZ(this.awareness,[J.clientID],"app closed")},c5&&typeof process!=="undefined")process.on("exit",this._exitHandler);if(K.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{if(this.wsconnected&&QW<c1()-this.wsLastMessageReceived)this.ws.close()},QW/10),X)this.connect()}get url(){const Z=HW(this.params);return this.serverUrl+"/"+this.roomname+(Z.length===0?"":"?"+Z)}get synced(){return this._synced}set synced(Z){if(this._synced!==Z)this._synced=Z,this.emit("synced",[Z]),this.emit("sync",[Z])}destroy(){if(this._resyncInterval!==0)clearInterval(this._resyncInterval);if(clearInterval(this._checkInterval),this.disconnect(),c5&&typeof process!=="undefined")process.off("exit",this._exitHandler);this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;if(!this.bcconnected)eG(this.bcChannel,this._bcSubscriber),this.bcconnected=!0;const Z=o0();l(Z,G8),xZ(Z,this.doc),K8(this.bcChannel,D0(Z),this);const $=o0();l($,G8),PJ($,this.doc),K8(this.bcChannel,D0($),this);const J=o0();l(J,zW),K8(this.bcChannel,D0(J),this);const X=o0();l(X,s8),b0(X,i8(this.awareness,[this.doc.clientID])),K8(this.bcChannel,D0(X),this)}disconnectBc(){const Z=o0();if(l(Z,s8),b0(Z,i8(this.awareness,[this.doc.clientID],new Map)),wJ(this,D0(Z)),this.bcconnected)ZW(this.bcChannel,this._bcSubscriber),this.bcconnected=!1}disconnect(){if(this.shouldConnect=!1,this.disconnectBc(),this.ws!==null)this.ws.close()}connect(){if(this.shouldConnect=!0,!this.wsconnected&&this.ws===null)MW(this),this.connectBc()}}var kZ=(Z,$,J,X,K)=>{try{if($&&$.cursor&&J!==X.clientID){const G=$.user||{},W=G.color||"#ffa500",Y=G.name||`User: ${J}`;Z.createCursor(J.toString(),Y,W);const H=DZ(AZ($.cursor.anchor),X),Q=DZ(AZ($.cursor.head),X);if(H&&Q&&H.type===K)Z.moveCursor(J.toString(),{index:H.index,length:Q.index-H.index})}else Z.removeCursor(J.toString())}catch(G){console.error(G)}};class BJ{constructor(Z,$,J){const X=Z.doc;this.type=Z,this.doc=X,this.quill=$;const K=$.getModule("cursors")||null;if(this.quillCursors=K,this._negatedUsedFormats={},this.awareness=J,this._awarenessChange=({added:G,removed:W,updated:Y})=>{const H=J.getStates();G.forEach((Q)=>{kZ(K,H.get(Q),Q,X,Z)}),Y.forEach((Q)=>{kZ(K,H.get(Q),Q,X,Z)}),W.forEach((Q)=>{K.removeCursor(Q.toString())})},this._typeObserver=(G)=>{if(G.transaction.origin!==this){const W=G.delta,Y=[];for(let H=0;H<W.length;H++){const Q=W[H];if(Q.insert!==void 0)Y.push(Object.assign({},Q,{attributes:Object.assign({},this._negatedUsedFormats,Q.attributes||{})}));else Y.push(Q)}$.updateContents(Y,this)}},Z.observe(this._typeObserver),this._quillObserver=(G,W,Y,H)=>{if(W&&W.ops){const Q=W.ops;if(Q.forEach((z)=>{if(z.attributes!==void 0){for(let _ in z.attributes)if(this._negatedUsedFormats[_]===void 0)this._negatedUsedFormats[_]=!1}}),H!==this)X.transact(()=>{Z.applyDelta(Q)},this)}if(J&&K){const Q=$.getSelection(),z=J.getLocalState();if(Q===null){if(J.getLocalState()!==null)J.setLocalStateField("cursor",null)}else{const _=BZ(Z,Q.index),M=BZ(Z,Q.index+Q.length);if(!z||!z.cursor||!IZ(_,z.cursor.anchor)||!IZ(M,z.cursor.head))J.setLocalStateField("cursor",{anchor:_,head:M})}J.getStates().forEach((_,M)=>{kZ(K,_,M,X,Z)})}},$.on("editor-change",this._quillObserver),$.setContents(Z.toDelta(),this),K!==null&&J)J.getStates().forEach((G,W)=>{kZ(K,G,W,X,Z)}),J.on("change",this._awarenessChange)}destroy(){if(this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness)this.awareness.off("change",this._awarenessChange)}}var Dq=typeof global=="object"&&global&&global.Object===Object&&global,yZ=Dq;var Iq=typeof self=="object"&&self&&self.Object===Object&&self,Cq=yZ||Iq||Function("return this")(),$1=Cq;var Sq=$1.Symbol,X5=Sq;function jq(Z){var $=fq.call(Z,z7),J=Z[z7];try{Z[z7]=void 0;var X=!0}catch(G){}var K=Tq.call(Z);if(X)if($)Z[z7]=J;else delete Z[z7];return K}var qW=Object.prototype,fq=qW.hasOwnProperty,Tq=qW.toString,z7=X5?X5.toStringTag:void 0,UW=jq;function vq(Z){return xq.call(Z)}var hq=Object.prototype,xq=hq.toString,FW=vq;function bq(Z){if(Z==null)return Z===void 0?yq:kq;return NW&&NW in Object(Z)?UW(Z):FW(Z)}var kq="[object Null]",yq="[object Undefined]",NW=X5?X5.toStringTag:void 0,N5=bq;function gq(Z){return Z!=null&&typeof Z=="object"}var F1=gq;var pq=Array.isArray,K5=pq;function mq(Z){var $=typeof Z;return Z!=null&&($=="object"||$=="function")}var E1=mq;function uq(Z){return Z}var bZ=uq;function sq(Z){if(!E1(Z))return!1;var $=N5(Z);return $==cq||$==lq||$==dq||$==iq}var dq="[object AsyncFunction]",cq="[object Function]",lq="[object GeneratorFunction]",iq="[object Proxy]",n8=sq;var nq=$1["__core-js_shared__"],gZ=nq;function oq(Z){return!!RW&&RW in Z}var RW=function(){var Z=/[^.]+$/.exec(gZ&&gZ.keys&&gZ.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),EW=oq;function tq(Z){if(Z!=null){try{return aq.call(Z)}catch($){}try{return Z+""}catch($){}}return""}var rq=Function.prototype,aq=rq.toString,t5=tq;function WU(Z){if(!E1(Z)||EW(Z))return!1;var $=n8(Z)?GU:ZU;return $.test(t5(Z))}var eq=/[\\^$.*+?()[\]{}|]/g,ZU=/^\[object .+?Constructor\]$/,$U=Function.prototype,JU=Object.prototype,XU=$U.toString,KU=JU.hasOwnProperty,GU=RegExp("^"+XU.call(KU).replace(eq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),OW=WU;function YU(Z,$){return Z==null?void 0:Z[$]}var PW=YU;function HU(Z,$){var J=PW(Z,$);return OW(J)?J:void 0}var h1=HU;var QU=h1($1,"WeakMap"),pZ=QU;var VW=Object.create,zU=function(){function Z(){}return function($){if(!E1($))return{};if(VW)return VW($);Z.prototype=$;var J=new Z;return Z.prototype=void 0,J}}(),LW=zU;function _U(Z,$,J){switch(J.length){case 0:return Z.call($);case 1:return Z.call($,J[0]);case 2:return Z.call($,J[0],J[1]);case 3:return Z.call($,J[0],J[1],J[2])}return Z.apply($,J)}var wW=_U;function MU(Z,$){var J=-1,X=Z.length;$||($=Array(X));while(++J<X)$[J]=Z[J];return $}var mZ=MU;function NU(Z){var $=0,J=0;return function(){var X=FU(),K=UU-(X-J);if(J=X,K>0){if(++$>=qU)return arguments[0]}else $=0;return Z.apply(void 0,arguments)}}var qU=800,UU=16,FU=Date.now,AW=NU;function RU(Z){return function(){return Z}}var BW=RU;var EU=function(){try{var Z=h1(Object,"defineProperty");return Z({},"",{}),Z}catch($){}}(),o8=EU;var OU=!o8?bZ:function(Z,$){return o8(Z,"toString",{configurable:!0,enumerable:!1,value:BW($),writable:!0})},DW=OU;var PU=AW(DW),IW=PU;function VU(Z,$){var J=-1,X=Z==null?0:Z.length;while(++J<X)if($(Z[J],J,Z)===!1)break;return Z}var CW=VU;function AU(Z,$){var J=typeof Z;return $=$==null?LU:$,!!$&&(J=="number"||J!="symbol"&&wU.test(Z))&&(Z>-1&&Z%1==0&&Z<$)}var LU=9007199254740991,wU=/^(?:0|[1-9]\d*)$/,uZ=AU;function BU(Z,$,J){if($=="__proto__"&&o8)o8(Z,$,{configurable:!0,enumerable:!0,value:J,writable:!0});else Z[$]=J}var r8=BU;function DU(Z,$){return Z===$||Z!==Z&&$!==$}var f5=DU;function SU(Z,$,J){var X=Z[$];if(!(CU.call(Z,$)&&f5(X,J))||J===void 0&&!($ in Z))r8(Z,$,J)}var IU=Object.prototype,CU=IU.hasOwnProperty,dZ=SU;function fU(Z,$,J,X){var K=!J;J||(J={});var G=-1,W=$.length;while(++G<W){var Y=$[G],H=X?X(J[Y],Z[Y],Y,J,Z):void 0;if(H===void 0)H=Z[Y];if(K)r8(J,Y,H);else dZ(J,Y,H)}return J}var T5=fU;function TU(Z,$,J){return $=SW($===void 0?Z.length-1:$,0),function(){var X=arguments,K=-1,G=SW(X.length-$,0),W=Array(G);while(++K<G)W[K]=X[$+K];K=-1;var Y=Array($+1);while(++K<$)Y[K]=X[K];return Y[$]=J(W),wW(Z,this,Y)}}var SW=Math.max,fW=TU;function jU(Z,$){return IW(fW(Z,$,bZ),Z+"")}var TW=jU;function xU(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=hU}var hU=9007199254740991,cZ=xU;function vU(Z){return Z!=null&&cZ(Z.length)&&!n8(Z)}var L6=vU;function kU(Z,$,J){if(!E1(J))return!1;var X=typeof $;if(X=="number"?L6(J)&&uZ($,J.length):X=="string"&&($ in J))return f5(J[$],Z);return!1}var jW=kU;function yU(Z){return TW(function($,J){var X=-1,K=J.length,G=K>1?J[K-1]:void 0,W=K>2?J[2]:void 0;if(G=Z.length>3&&typeof G=="function"?(K--,G):void 0,W&&jW(J[0],J[1],W))G=K<3?void 0:G,K=1;$=Object($);while(++X<K){var Y=J[X];if(Y)Z($,Y,X,G)}return $})}var hW=yU;function gU(Z){var $=Z&&Z.constructor,J=typeof $=="function"&&$.prototype||bU;return Z===J}var bU=Object.prototype,a8=gU;function pU(Z,$){var J=-1,X=Array(Z);while(++J<Z)X[J]=$(J);return X}var xW=pU;function uU(Z){return F1(Z)&&N5(Z)==mU}var mU="[object Arguments]",DJ=uU;var vW=Object.prototype,dU=vW.hasOwnProperty,cU=vW.propertyIsEnumerable,lU=DJ(function(){return arguments}())?DJ:function(Z){return F1(Z)&&dU.call(Z,"callee")&&!cU.call(Z,"callee")},_7=lU;var iZ={};v4(iZ,{default:()=>j5});function iU(){return!1}var kW=iU;var gW=typeof iZ=="object"&&iZ&&!iZ.nodeType&&iZ,yW=gW&&typeof lZ=="object"&&lZ&&!lZ.nodeType&&lZ,sU=yW&&yW.exports===gW,bW=sU?$1.Buffer:void 0,nU=bW?bW.isBuffer:void 0,oU=nU||kW,j5=oU;function PF(Z){return F1(Z)&&cZ(Z.length)&&!!v0[N5(Z)]}var rU="[object Arguments]",aU="[object Array]",tU="[object Boolean]",eU="[object Date]",ZF="[object Error]",$F="[object Function]",JF="[object Map]",XF="[object Number]",KF="[object Object]",GF="[object RegExp]",WF="[object Set]",YF="[object String]",HF="[object WeakMap]",QF="[object ArrayBuffer]",zF="[object DataView]",_F="[object Float32Array]",MF="[object Float64Array]",qF="[object Int8Array]",UF="[object Int16Array]",FF="[object Int32Array]",NF="[object Uint8Array]",RF="[object Uint8ClampedArray]",EF="[object Uint16Array]",OF="[object Uint32Array]",v0={};v0[_F]=v0[MF]=v0[qF]=v0[UF]=v0[FF]=v0[NF]=v0[RF]=v0[EF]=v0[OF]=!0;v0[rU]=v0[aU]=v0[QF]=v0[tU]=v0[zF]=v0[eU]=v0[ZF]=v0[$F]=v0[JF]=v0[XF]=v0[KF]=v0[GF]=v0[WF]=v0[YF]=v0[HF]=!1;var pW=PF;function VF(Z){return function($){return Z($)}}var t8=VF;var nZ={};v4(nZ,{default:()=>h5});var mW=typeof nZ=="object"&&nZ&&!nZ.nodeType&&nZ,M7=mW&&typeof sZ=="object"&&sZ&&!sZ.nodeType&&sZ,LF=M7&&M7.exports===mW,IJ=LF&&yZ.process,wF=function(){try{var Z=M7&&M7.require&&M7.require("util").types;if(Z)return Z;return IJ&&IJ.binding&&IJ.binding("util")}catch($){}}(),h5=wF;var uW=h5&&h5.isTypedArray,AF=uW?t8(uW):pW,e8=AF;function IF(Z,$){var J=K5(Z),X=!J&&_7(Z),K=!J&&!X&&j5(Z),G=!J&&!X&&!K&&e8(Z),W=J||X||K||G,Y=W?xW(Z.length,String):[],H=Y.length;for(var Q in Z)if(($||DF.call(Z,Q))&&!(W&&(Q=="length"||K&&(Q=="offset"||Q=="parent")||G&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||uZ(Q,H))))Y.push(Q);return Y}var BF=Object.prototype,DF=BF.hasOwnProperty,oZ=IF;function CF(Z,$){return function(J){return Z($(J))}}var rZ=CF;var SF=rZ(Object.keys,Object),dW=SF;function jF(Z){if(!a8(Z))return dW(Z);var $=[];for(var J in Object(Z))if(TF.call(Z,J)&&J!="constructor")$.push(J);return $}var fF=Object.prototype,TF=fF.hasOwnProperty,cW=jF;function hF(Z){return L6(Z)?oZ(Z):cW(Z)}var Z4=hF;function xF(Z){var $=[];if(Z!=null)for(var J in Object(Z))$.push(J);return $}var lW=xF;function yF(Z){if(!E1(Z))return lW(Z);var $=a8(Z),J=[];for(var X in Z)if(!(X=="constructor"&&($||!kF.call(Z,X))))J.push(X);return J}var vF=Object.prototype,kF=vF.hasOwnProperty,iW=yF;function bF(Z){return L6(Z)?oZ(Z,!0):iW(Z)}var x5=bF;var gF=h1(Object,"create"),e5=gF;function pF(){this.__data__=e5?e5(null):{},this.size=0}var sW=pF;function mF(Z){var $=this.has(Z)&&delete this.__data__[Z];return this.size-=$?1:0,$}var nW=mF;function lF(Z){var $=this.__data__;if(e5){var J=$[Z];return J===uF?void 0:J}return cF.call($,Z)?$[Z]:void 0}var uF="__lodash_hash_undefined__",dF=Object.prototype,cF=dF.hasOwnProperty,oW=lF;function nF(Z){var $=this.__data__;return e5?$[Z]!==void 0:sF.call($,Z)}var iF=Object.prototype,sF=iF.hasOwnProperty,rW=nF;function rF(Z,$){var J=this.__data__;return this.size+=this.has(Z)?0:1,J[Z]=e5&&$===void 0?oF:$,this}var oF="__lodash_hash_undefined__",aW=rF;function $4(Z){var $=-1,J=Z==null?0:Z.length;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}$4.prototype.clear=sW;$4.prototype.delete=nW;$4.prototype.get=oW;$4.prototype.has=rW;$4.prototype.set=aW;var CJ=$4;function aF(){this.__data__=[],this.size=0}var tW=aF;function tF(Z,$){var J=Z.length;while(J--)if(f5(Z[J][0],$))return J;return-1}var w6=tF;function $N(Z){var $=this.__data__,J=w6($,Z);if(J<0)return!1;var X=$.length-1;if(J==X)$.pop();else ZN.call($,J,1);return--this.size,!0}var eF=Array.prototype,ZN=eF.splice,eW=$N;function JN(Z){var $=this.__data__,J=w6($,Z);return J<0?void 0:$[J][1]}var ZY=JN;function XN(Z){return w6(this.__data__,Z)>-1}var $Y=XN;function KN(Z,$){var J=this.__data__,X=w6(J,Z);if(X<0)++this.size,J.push([Z,$]);else J[X][1]=$;return this}var JY=KN;function J4(Z){var $=-1,J=Z==null?0:Z.length;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}J4.prototype.clear=tW;J4.prototype.delete=eW;J4.prototype.get=ZY;J4.prototype.has=$Y;J4.prototype.set=JY;var A6=J4;var GN=h1($1,"Map"),B6=GN;function WN(){this.size=0,this.__data__={hash:new CJ,map:new(B6||A6),string:new CJ}}var XY=WN;function YN(Z){var $=typeof Z;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?Z!=="__proto__":Z===null}var KY=YN;function HN(Z,$){var J=Z.__data__;return KY($)?J[typeof $=="string"?"string":"hash"]:J.map}var D6=HN;function QN(Z){var $=D6(this,Z).delete(Z);return this.size-=$?1:0,$}var GY=QN;function zN(Z){return D6(this,Z).get(Z)}var WY=zN;function _N(Z){return D6(this,Z).has(Z)}var YY=_N;function MN(Z,$){var J=D6(this,Z),X=J.size;return J.set(Z,$),this.size+=J.size==X?0:1,this}var HY=MN;function X4(Z){var $=-1,J=Z==null?0:Z.length;this.clear();while(++$<J){var X=Z[$];this.set(X[0],X[1])}}X4.prototype.clear=XY;X4.prototype.delete=GY;X4.prototype.get=WY;X4.prototype.has=YY;X4.prototype.set=HY;var aZ=X4;function qN(Z,$){var J=-1,X=$.length,K=Z.length;while(++J<X)Z[K+J]=$[J];return Z}var tZ=qN;var UN=rZ(Object.getPrototypeOf,Object),K4=UN;function PN(Z){if(!F1(Z)||N5(Z)!=FN)return!1;var $=K4(Z);if($===null)return!0;var J=EN.call($,"constructor")&&$.constructor;return typeof J=="function"&&J instanceof J&&QY.call(J)==ON}var FN="[object Object]",NN=Function.prototype,RN=Object.prototype,QY=NN.toString,EN=RN.hasOwnProperty,ON=QY.call(Object),zY=PN;function VN(){this.__data__=new A6,this.size=0}var _Y=VN;function LN(Z){var $=this.__data__,J=$.delete(Z);return this.size=$.size,J}var MY=LN;function wN(Z){return this.__data__.get(Z)}var qY=wN;function AN(Z){return this.__data__.has(Z)}var UY=AN;function DN(Z,$){var J=this.__data__;if(J instanceof A6){var X=J.__data__;if(!B6||X.length<BN-1)return X.push([Z,$]),this.size=++J.size,this;J=this.__data__=new aZ(X)}return J.set(Z,$),this.size=J.size,this}var BN=200,FY=DN;function G4(Z){var $=this.__data__=new A6(Z);this.size=$.size}G4.prototype.clear=_Y;G4.prototype.delete=MY;G4.prototype.get=qY;G4.prototype.has=UY;G4.prototype.set=FY;var I6=G4;function IN(Z,$){return Z&&T5($,Z4($),Z)}var NY=IN;function CN(Z,$){return Z&&T5($,x5($),Z)}var RY=CN;var Z$={};v4(Z$,{default:()=>q7});function fN(Z,$){if($)return Z.slice();var J=Z.length,X=PY?PY(J):new Z.constructor(J);return Z.copy(X),X}var VY=typeof Z$=="object"&&Z$&&!Z$.nodeType&&Z$,EY=VY&&typeof eZ=="object"&&eZ&&!eZ.nodeType&&eZ,SN=EY&&EY.exports===VY,OY=SN?$1.Buffer:void 0,PY=OY?OY.allocUnsafe:void 0,q7=fN;function TN(Z,$){var J=-1,X=Z==null?0:Z.length,K=0,G=[];while(++J<X){var W=Z[J];if($(W,J,Z))G[K++]=W}return G}var LY=TN;function jN(){return[]}var $$=jN;var hN=Object.prototype,xN=hN.propertyIsEnumerable,wY=Object.getOwnPropertySymbols,vN=!wY?$$:function(Z){if(Z==null)return[];return Z=Object(Z),LY(wY(Z),function($){return xN.call(Z,$)})},W4=vN;function kN(Z,$){return T5(Z,W4(Z),$)}var AY=kN;var yN=Object.getOwnPropertySymbols,bN=!yN?$$:function(Z){var $=[];while(Z)tZ($,W4(Z)),Z=K4(Z);return $},J$=bN;function gN(Z,$){return T5(Z,J$(Z),$)}var BY=gN;function pN(Z,$,J){var X=$(Z);return K5(Z)?X:tZ(X,J(Z))}var X$=pN;function mN(Z){return X$(Z,Z4,W4)}var U7=mN;function uN(Z){return X$(Z,x5,J$)}var DY=uN;var dN=h1($1,"DataView"),K$=dN;var cN=h1($1,"Promise"),G$=cN;var lN=h1($1,"Set"),W$=lN;var IY="[object Map]",iN="[object Object]",CY="[object Promise]",SY="[object Set]",fY="[object WeakMap]",TY="[object DataView]",sN=t5(K$),nN=t5(B6),oN=t5(G$),rN=t5(W$),aN=t5(pZ),W8=N5;if(K$&&W8(new K$(new ArrayBuffer(1)))!=TY||B6&&W8(new B6)!=IY||G$&&W8(G$.resolve())!=CY||W$&&W8(new W$)!=SY||pZ&&W8(new pZ)!=fY)W8=function(Z){var $=N5(Z),J=$==iN?Z.constructor:void 0,X=J?t5(J):"";if(X)switch(X){case sN:return TY;case nN:return IY;case oN:return CY;case rN:return SY;case aN:return fY}return $};var Z6=W8;function Z3(Z){var $=Z.length,J=new Z.constructor($);if($&&typeof Z[0]=="string"&&eN.call(Z,"index"))J.index=Z.index,J.input=Z.input;return J}var tN=Object.prototype,eN=tN.hasOwnProperty,jY=Z3;var $3=$1.Uint8Array,Y4=$3;function J3(Z){var $=new Z.constructor(Z.byteLength);return new Y4($).set(new Y4(Z)),$}var H4=J3;function X3(Z,$){var J=$?H4(Z.buffer):Z.buffer;return new Z.constructor(J,Z.byteOffset,Z.byteLength)}var hY=X3;function G3(Z){var $=new Z.constructor(Z.source,K3.exec(Z));return $.lastIndex=Z.lastIndex,$}var K3=/\w*$/,xY=G3;function W3(Z){return kY?Object(kY.call(Z)):{}}var vY=X5?X5.prototype:void 0,kY=vY?vY.valueOf:void 0,yY=W3;function Y3(Z,$){var J=$?H4(Z.buffer):Z.buffer;return new Z.constructor(J,Z.byteOffset,Z.length)}var Y$=Y3;function I3(Z,$,J){var X=Z.constructor;switch($){case N3:return H4(Z);case H3:case Q3:return new X(+Z);case R3:return hY(Z,J);case E3:case O3:case P3:case V3:case L3:case w3:case A3:case B3:case D3:return Y$(Z,J);case z3:return new X;case _3:case U3:return new X(Z);case M3:return xY(Z);case q3:return new X;case F3:return yY(Z)}}var H3="[object Boolean]",Q3="[object Date]",z3="[object Map]",_3="[object Number]",M3="[object RegExp]",q3="[object Set]",U3="[object String]",F3="[object Symbol]",N3="[object ArrayBuffer]",R3="[object DataView]",E3="[object Float32Array]",O3="[object Float64Array]",P3="[object Int8Array]",V3="[object Int16Array]",L3="[object Int32Array]",w3="[object Uint8Array]",A3="[object Uint8ClampedArray]",B3="[object Uint16Array]",D3="[object Uint32Array]",bY=I3;function C3(Z){return typeof Z.constructor=="function"&&!a8(Z)?LW(K4(Z)):{}}var H$=C3;function f3(Z){return F1(Z)&&Z6(Z)==S3}var S3="[object Map]",gY=f3;var pY=h5&&h5.isMap,T3=pY?t8(pY):gY,mY=T3;function h3(Z){return F1(Z)&&Z6(Z)==j3}var j3="[object Set]",uY=h3;var dY=h5&&h5.isSet,x3=dY?t8(dY):uY,cY=x3;function Q$(Z,$,J,X,K,G){var W,Y=$&v3,H=$&k3,Q=$&y3;if(J)W=K?J(Z,X,K,G):J(Z);if(W!==void 0)return W;if(!E1(Z))return Z;var z=K5(Z);if(z){if(W=jY(Z),!Y)return mZ(Z,W)}else{var _=Z6(Z),M=_==iY||_==u3;if(j5(Z))return q7(Z,Y);if(_==sY||_==lY||M&&!K){if(W=H||M?{}:H$(Z),!Y)return H?BY(Z,RY(W,Z)):AY(Z,NY(W,Z))}else{if(!T0[_])return K?Z:{};W=bY(Z,_,Y)}}G||(G=new I6);var U=G.get(Z);if(U)return U;if(G.set(Z,W),cY(Z))Z.forEach(function(F){W.add(Q$(F,$,J,F,Z,G))});else if(mY(Z))Z.forEach(function(F,q){W.set(q,Q$(F,$,J,q,Z,G))});var R=Q?H?DY:U7:H?x5:Z4,E=z?void 0:R(Z);return CW(E||Z,function(F,q){if(E)q=F,F=Z[q];dZ(W,q,Q$(F,$,J,q,Z,G))}),W}var v3=1,k3=2,y3=4,lY="[object Arguments]",b3="[object Array]",g3="[object Boolean]",p3="[object Date]",m3="[object Error]",iY="[object Function]",u3="[object GeneratorFunction]",d3="[object Map]",c3="[object Number]",sY="[object Object]",l3="[object RegExp]",i3="[object Set]",s3="[object String]",n3="[object Symbol]",o3="[object WeakMap]",r3="[object ArrayBuffer]",a3="[object DataView]",t3="[object Float32Array]",e3="[object Float64Array]",ZR="[object Int8Array]",$R="[object Int16Array]",JR="[object Int32Array]",XR="[object Uint8Array]",KR="[object Uint8ClampedArray]",GR="[object Uint16Array]",WR="[object Uint32Array]",T0={};T0[lY]=T0[b3]=T0[r3]=T0[a3]=T0[g3]=T0[p3]=T0[t3]=T0[e3]=T0[ZR]=T0[$R]=T0[JR]=T0[d3]=T0[c3]=T0[sY]=T0[l3]=T0[i3]=T0[s3]=T0[n3]=T0[XR]=T0[KR]=T0[GR]=T0[WR]=!0;T0[m3]=T0[iY]=T0[o3]=!1;var nY=Q$;function QR(Z){return nY(Z,YR|HR)}var YR=1,HR=4,v5=QR;function _R(Z){return this.__data__.set(Z,zR),this}var zR="__lodash_hash_undefined__",oY=_R;function MR(Z){return this.__data__.has(Z)}var rY=MR;function z$(Z){var $=-1,J=Z==null?0:Z.length;this.__data__=new aZ;while(++$<J)this.add(Z[$])}z$.prototype.add=z$.prototype.push=oY;z$.prototype.has=rY;var aY=z$;function qR(Z,$){var J=-1,X=Z==null?0:Z.length;while(++J<X)if($(Z[J],J,Z))return!0;return!1}var tY=qR;function UR(Z,$){return Z.has($)}var eY=UR;function RR(Z,$,J,X,K,G){var W=J&FR,Y=Z.length,H=$.length;if(Y!=H&&!(W&&H>Y))return!1;var Q=G.get(Z),z=G.get($);if(Q&&z)return Q==$&&z==Z;var _=-1,M=!0,U=J&NR?new aY:void 0;G.set(Z,$),G.set($,Z);while(++_<Y){var R=Z[_],E=$[_];if(X)var F=W?X(E,R,_,$,Z,G):X(R,E,_,Z,$,G);if(F!==void 0){if(F)continue;M=!1;break}if(U){if(!tY($,function(q,N){if(!eY(U,N)&&(R===q||K(R,q,J,X,G)))return U.push(N)})){M=!1;break}}else if(!(R===E||K(R,E,J,X,G))){M=!1;break}}return G.delete(Z),G.delete($),M}var FR=1,NR=2,_$=RR;function ER(Z){var $=-1,J=Array(Z.size);return Z.forEach(function(X,K){J[++$]=[K,X]}),J}var ZH=ER;function OR(Z){var $=-1,J=Array(Z.size);return Z.forEach(function(X){J[++$]=X}),J}var $H=OR;function hR(Z,$,J,X,K,G,W){switch(J){case jR:if(Z.byteLength!=$.byteLength||Z.byteOffset!=$.byteOffset)return!1;Z=Z.buffer,$=$.buffer;case TR:if(Z.byteLength!=$.byteLength||!G(new Y4(Z),new Y4($)))return!1;return!0;case LR:case wR:case DR:return f5(+Z,+$);case AR:return Z.name==$.name&&Z.message==$.message;case IR:case SR:return Z==$+"";case BR:var Y=ZH;case CR:var H=X&PR;if(Y||(Y=$H),Z.size!=$.size&&!H)return!1;var Q=W.get(Z);if(Q)return Q==$;X|=VR,W.set(Z,$);var z=_$(Y(Z),Y($),X,K,G,W);return W.delete(Z),z;case fR:if(SJ)return SJ.call(Z)==SJ.call($)}return!1}var PR=1,VR=2,LR="[object Boolean]",wR="[object Date]",AR="[object Error]",BR="[object Map]",DR="[object Number]",IR="[object RegExp]",CR="[object Set]",SR="[object String]",fR="[object Symbol]",TR="[object ArrayBuffer]",jR="[object DataView]",JH=X5?X5.prototype:void 0,SJ=JH?JH.valueOf:void 0,XH=hR;function yR(Z,$,J,X,K,G){var W=J&xR,Y=U7(Z),H=Y.length,Q=U7($),z=Q.length;if(H!=z&&!W)return!1;var _=H;while(_--){var M=Y[_];if(!(W?M in $:kR.call($,M)))return!1}var U=G.get(Z),R=G.get($);if(U&&R)return U==$&&R==Z;var E=!0;G.set(Z,$),G.set($,Z);var F=W;while(++_<H){M=Y[_];var q=Z[M],N=$[M];if(X)var P=W?X(N,q,M,$,Z,G):X(q,N,M,Z,$,G);if(!(P===void 0?q===N||K(q,N,J,X,G):P)){E=!1;break}F||(F=M=="constructor")}if(E&&!F){var O=Z.constructor,D=$.constructor;if(O!=D&&(("constructor"in Z)&&("constructor"in $))&&!(typeof O=="function"&&O instanceof O&&typeof D=="function"&&D instanceof D))E=!1}return G.delete(Z),G.delete($),E}var xR=1,vR=Object.prototype,kR=vR.hasOwnProperty,KH=yR;function pR(Z,$,J,X,K,G){var W=K5(Z),Y=K5($),H=W?WH:Z6(Z),Q=Y?WH:Z6($);H=H==GH?M$:H,Q=Q==GH?M$:Q;var z=H==M$,_=Q==M$,M=H==Q;if(M&&j5(Z)){if(!j5($))return!1;W=!0,z=!1}if(M&&!z)return G||(G=new I6),W||e8(Z)?_$(Z,$,J,X,K,G):XH(Z,$,H,J,X,K,G);if(!(J&bR)){var U=z&&YH.call(Z,"__wrapped__"),R=_&&YH.call($,"__wrapped__");if(U||R){var E=U?Z.value():Z,F=R?$.value():$;return G||(G=new I6),K(E,F,J,X,G)}}if(!M)return!1;return G||(G=new I6),KH(Z,$,J,X,K,G)}var bR=1,GH="[object Arguments]",WH="[object Array]",M$="[object Object]",gR=Object.prototype,YH=gR.hasOwnProperty,HH=pR;function QH(Z,$,J,X,K){if(Z===$)return!0;if(Z==null||$==null||!F1(Z)&&!F1($))return Z!==Z&&$!==$;return HH(Z,$,J,X,QH,K)}var zH=QH;function mR(Z){return function($,J,X){var K=-1,G=Object($),W=X($),Y=W.length;while(Y--){var H=W[Z?Y:++K];if(J(G[H],H,G)===!1)break}return $}}var _H=mR;var uR=_H(),MH=uR;function dR(Z,$,J){if(J!==void 0&&!f5(Z[$],J)||J===void 0&&!($ in Z))r8(Z,$,J)}var F7=dR;function cR(Z){return F1(Z)&&L6(Z)}var qH=cR;function lR(Z,$){if($==="constructor"&&typeof Z[$]==="function")return;if($=="__proto__")return;return Z[$]}var N7=lR;function iR(Z){return T5(Z,x5(Z))}var UH=iR;function sR(Z,$,J,X,K,G,W){var Y=N7(Z,J),H=N7($,J),Q=W.get(H);if(Q){F7(Z,J,Q);return}var z=G?G(Y,H,J+"",Z,$,W):void 0,_=z===void 0;if(_){var M=K5(H),U=!M&&j5(H),R=!M&&!U&&e8(H);if(z=H,M||U||R)if(K5(Y))z=Y;else if(qH(Y))z=mZ(Y);else if(U)_=!1,z=q7(H,!0);else if(R)_=!1,z=Y$(H,!0);else z=[];else if(zY(H)||_7(H)){if(z=Y,_7(Y))z=UH(Y);else if(!E1(Y)||n8(Y))z=H$(H)}else _=!1}if(_)W.set(H,z),K(z,H,X,G,W),W.delete(H);F7(Z,J,z)}var FH=sR;function NH(Z,$,J,X,K){if(Z===$)return;MH($,function(G,W){if(K||(K=new I6),E1(G))FH(Z,$,W,J,NH,X,K);else{var Y=X?X(N7(Z,W),G,W+"",Z,$,K):void 0;if(Y===void 0)Y=G;F7(Z,W,Y)}},x5)}var RH=NH;function nR(Z,$){return zH(Z,$)}var Y8=nR;var oR=hW(function(Z,$,J){RH(Z,$,J)}),x1=oR;var O7={};v4(O7,{TextBlot:()=>q4,StyleAttributor:()=>y1,ScrollBlot:()=>E7,Scope:()=>m,Registry:()=>C6,ParentBlot:()=>v1,LeafBlot:()=>X1,InlineBlot:()=>q$,EmbedBlot:()=>u0,ContainerBlot:()=>M4,ClassAttributor:()=>J1,BlockBlot:()=>Q8,AttributorStore:()=>R7,Attributor:()=>k1});function EH(Z,$){return(Z.getAttribute("class")||"").split(/\s+/).filter((J)=>J.indexOf(`${$}-`)===0)}function fJ(Z){const $=Z.split("-"),J=$.slice(1).map((X)=>X[0].toUpperCase()+X.slice(1)).join("");return $[0]+J}function OH(Z,$){const J=$.find(Z);if(J)return J;try{return $.create(Z)}catch{const X=$.create(m.INLINE);return Array.from(Z.childNodes).forEach((K)=>{X.domNode.appendChild(K)}),Z.parentNode&&Z.parentNode.replaceChild(X.domNode,Z),X.attach(),X}}function tR(Z,$){if(Object.keys(Z).length!==Object.keys($).length)return!1;for(let J in Z)if(Z[J]!==$[J])return!1;return!0}var m=((Z)=>(Z[Z.TYPE=3]="TYPE",Z[Z.LEVEL=12]="LEVEL",Z[Z.ATTRIBUTE=13]="ATTRIBUTE",Z[Z.BLOT=14]="BLOT",Z[Z.INLINE=7]="INLINE",Z[Z.BLOCK=11]="BLOCK",Z[Z.BLOCK_BLOT=10]="BLOCK_BLOT",Z[Z.INLINE_BLOT=6]="INLINE_BLOT",Z[Z.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Z[Z.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Z[Z.ANY=15]="ANY",Z))(m||{});class k1{constructor(Z,$,J={}){this.attrName=Z,this.keyName=$;const X=m.TYPE&m.ATTRIBUTE;this.scope=J.scope!=null?J.scope&m.LEVEL|X:m.ATTRIBUTE,J.whitelist!=null&&(this.whitelist=J.whitelist)}static keys(Z){return Array.from(Z.attributes).map(($)=>$.name)}add(Z,$){return this.canAdd(Z,$)?(Z.setAttribute(this.keyName,$),!0):!1}canAdd(Z,$){return this.whitelist==null?!0:typeof $=="string"?this.whitelist.indexOf($.replace(/["']/g,""))>-1:this.whitelist.indexOf($)>-1}remove(Z){Z.removeAttribute(this.keyName)}value(Z){const $=Z.getAttribute(this.keyName);return this.canAdd(Z,$)&&$?$:""}}class H8 extends Error{constructor(Z){Z="[Parchment] "+Z,super(Z),this.message=Z,this.name=this.constructor.name}}var PH=class Z{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find($,J=!1){if($==null)return null;if(this.blots.has($))return this.blots.get($)||null;if(J){let X=null;try{X=$.parentNode}catch{return null}return this.find(X,J)}return null}create($,J,X){const K=this.query(J);if(K==null)throw new H8(`Unable to create ${J} blot`);const G=K,W=J instanceof Node||J.nodeType===Node.TEXT_NODE?J:G.create(X),Y=new G($,W,X);return Z.blots.set(Y.domNode,Y),Y}find($,J=!1){return Z.find($,J)}query($,J=m.ANY){let X;return typeof $=="string"?X=this.types[$]||this.attributes[$]:$ instanceof Text||$.nodeType===Node.TEXT_NODE?X=this.types.text:typeof $=="number"?$&m.LEVEL&m.BLOCK?X=this.types.block:$&m.LEVEL&m.INLINE&&(X=this.types.inline):$ instanceof Element&&(($.getAttribute("class")||"").split(/\s+/).some((K)=>(X=this.classes[K],!!X)),X=X||this.tags[$.tagName]),X==null?null:("scope"in X)&&J&m.LEVEL&X.scope&&J&m.TYPE&X.scope?X:null}register(...$){return $.map((J)=>{const X="blotName"in J,K="attrName"in J;if(!X&&!K)throw new H8("Invalid definition");if(X&&J.blotName==="abstract")throw new H8("Cannot register abstract class");const G=X?J.blotName:K?J.attrName:void 0;return this.types[G]=J,K?typeof J.keyName=="string"&&(this.attributes[J.keyName]=J):X&&(J.className&&(this.classes[J.className]=J),J.tagName&&(Array.isArray(J.tagName)?J.tagName=J.tagName.map((W)=>W.toUpperCase()):J.tagName=J.tagName.toUpperCase(),(Array.isArray(J.tagName)?J.tagName:[J.tagName]).forEach((W)=>{(this.tags[W]==null||J.className==null)&&(this.tags[W]=J)}))),J})}};PH.blots=new WeakMap;var C6=PH;class VH extends k1{static keys(Z){return(Z.getAttribute("class")||"").split(/\s+/).map(($)=>$.split("-").slice(0,-1).join("-"))}add(Z,$){return this.canAdd(Z,$)?(this.remove(Z),Z.classList.add(`${this.keyName}-${$}`),!0):!1}remove(Z){EH(Z,this.keyName).forEach(($)=>{Z.classList.remove($)}),Z.classList.length===0&&Z.removeAttribute("class")}value(Z){const $=(EH(Z,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(Z,$)?$:""}}var J1=VH;class LH extends k1{static keys(Z){return(Z.getAttribute("style")||"").split(";").map(($)=>$.split(":")[0].trim())}add(Z,$){return this.canAdd(Z,$)?(Z.style[fJ(this.keyName)]=$,!0):!1}remove(Z){Z.style[fJ(this.keyName)]="",Z.getAttribute("style")||Z.removeAttribute("style")}value(Z){const $=Z.style[fJ(this.keyName)];return this.canAdd(Z,$)?$:""}}var y1=LH;class wH{constructor(Z){this.attributes={},this.domNode=Z,this.build()}attribute(Z,$){$?Z.add(this.domNode,$)&&(Z.value(this.domNode)!=null?this.attributes[Z.attrName]=Z:delete this.attributes[Z.attrName]):(Z.remove(this.domNode),delete this.attributes[Z.attrName])}build(){this.attributes={};const Z=C6.find(this.domNode);if(Z==null)return;const $=k1.keys(this.domNode),J=J1.keys(this.domNode),X=y1.keys(this.domNode);$.concat(J).concat(X).forEach((K)=>{const G=Z.scroll.query(K,m.ATTRIBUTE);G instanceof k1&&(this.attributes[G.attrName]=G)})}copy(Z){Object.keys(this.attributes).forEach(($)=>{const J=this.attributes[$].value(this.domNode);Z.format($,J)})}move(Z){this.copy(Z),Object.keys(this.attributes).forEach(($)=>{this.attributes[$].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((Z,$)=>(Z[$]=this.attributes[$].value(this.domNode),Z),{})}}var R7=wH,AH=class Z{constructor($,J){this.scroll=$,this.domNode=J,C6.blots.set(J,this),this.prev=null,this.next=null}static create($){if(this.tagName==null)throw new H8("Blot definition missing tagName");let J,X;return Array.isArray(this.tagName)?(typeof $=="string"?(X=$.toUpperCase(),parseInt(X,10).toString()===X&&(X=parseInt(X,10))):typeof $=="number"&&(X=$),typeof X=="number"?J=document.createElement(this.tagName[X-1]):X&&this.tagName.indexOf(X)>-1?J=document.createElement(X):J=document.createElement(this.tagName[0])):J=document.createElement(this.tagName),this.className&&J.classList.add(this.className),J}get statics(){return this.constructor}attach(){}clone(){const $=this.domNode.cloneNode(!1);return this.scroll.create($)}detach(){this.parent!=null&&this.parent.removeChild(this),C6.blots.delete(this.domNode)}deleteAt($,J){this.isolate($,J).remove()}formatAt($,J,X,K){const G=this.isolate($,J);if(this.scroll.query(X,m.BLOT)!=null&&K)G.wrap(X,K);else if(this.scroll.query(X,m.ATTRIBUTE)!=null){const W=this.scroll.create(this.statics.scope);G.wrap(W),W.format(X,K)}}insertAt($,J,X){const K=X==null?this.scroll.create("text",J):this.scroll.create(J,X),G=this.split($);this.parent.insertBefore(K,G||void 0)}isolate($,J){const X=this.split($);if(X==null)throw new Error("Attempt to isolate at end");return X.split(J),X}length(){return 1}offset($=this.parent){return this.parent==null||this===$?0:this.parent.children.offset(this)+this.parent.offset($)}optimize($){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith($,J){const X=typeof $=="string"?this.scroll.create($,J):$;return this.parent!=null&&(this.parent.insertBefore(X,this.next||void 0),this.remove()),X}split($,J){return $===0?this:this.next}update($,J){}wrap($,J){const X=typeof $=="string"?this.scroll.create($,J):$;if(this.parent!=null&&this.parent.insertBefore(X,this.next||void 0),typeof X.appendChild!="function")throw new H8(`Cannot wrap ${$}`);return X.appendChild(this),X}};AH.blotName="abstract";var BH=AH,DH=class Z extends BH{static value($){return!0}index($,J){return this.domNode===$||this.domNode.compareDocumentPosition($)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(J,1):-1}position($,J){let X=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return $>0&&(X+=1),[this.parent.domNode,X]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};DH.scope=m.INLINE_BLOT;var rR=DH,X1=rR;class IH{constructor(){this.head=null,this.tail=null,this.length=0}append(...Z){if(this.insertBefore(Z[0],null),Z.length>1){const $=Z.slice(1);this.append(...$)}}at(Z){const $=this.iterator();let J=$();for(;J&&Z>0;)Z-=1,J=$();return J}contains(Z){const $=this.iterator();let J=$();for(;J;){if(J===Z)return!0;J=$()}return!1}indexOf(Z){const $=this.iterator();let J=$(),X=0;for(;J;){if(J===Z)return X;X+=1,J=$()}return-1}insertBefore(Z,$){Z!=null&&(this.remove(Z),Z.next=$,$!=null?(Z.prev=$.prev,$.prev!=null&&($.prev.next=Z),$.prev=Z,$===this.head&&(this.head=Z)):this.tail!=null?(this.tail.next=Z,Z.prev=this.tail,this.tail=Z):(Z.prev=null,this.head=this.tail=Z),this.length+=1)}offset(Z){let $=0,J=this.head;for(;J!=null;){if(J===Z)return $;$+=J.length(),J=J.next}return-1}remove(Z){this.contains(Z)&&(Z.prev!=null&&(Z.prev.next=Z.next),Z.next!=null&&(Z.next.prev=Z.prev),Z===this.head&&(this.head=Z.next),Z===this.tail&&(this.tail=Z.prev),this.length-=1)}iterator(Z=this.head){return()=>{const $=Z;return Z!=null&&(Z=Z.next),$}}find(Z,$=!1){const J=this.iterator();let X=J();for(;X;){const K=X.length();if(Z<K||$&&Z===K&&(X.next==null||X.next.length()!==0))return[X,Z];Z-=K,X=J()}return[null,0]}forEach(Z){const $=this.iterator();let J=$();for(;J;)Z(J),J=$()}forEachAt(Z,$,J){if($<=0)return;const[X,K]=this.find(Z);let G=Z-K;const W=this.iterator(X);let Y=W();for(;Y&&G<Z+$;){const H=Y.length();Z>G?J(Y,Z-G,Math.min($,G+H-Z)):J(Y,0,Math.min(H,Z+$-G)),G+=H,Y=W()}}map(Z){return this.reduce(($,J)=>($.push(Z(J)),$),[])}reduce(Z,$){const J=this.iterator();let X=J();for(;X;)$=Z($,X),X=J();return $}}var CH=class Z extends BH{constructor($,J){super($,J),this.uiNode=null,this.build()}appendChild($){this.insertBefore($)}attach(){super.attach(),this.children.forEach(($)=>{$.attach()})}attachUI($){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=$,Z.uiClass&&this.uiNode.classList.add(Z.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new IH,Array.from(this.domNode.childNodes).filter(($)=>$!==this.uiNode).reverse().forEach(($)=>{try{const J=OH($,this.scroll);this.insertBefore(J,this.children.head||void 0)}catch(J){if(J instanceof H8)return;throw J}})}deleteAt($,J){if($===0&&J===this.length())return this.remove();this.children.forEachAt($,J,(X,K,G)=>{X.deleteAt(K,G)})}descendant($,J=0){const[X,K]=this.children.find(J);return $.blotName==null&&$(X)||$.blotName!=null&&X instanceof $?[X,K]:X instanceof Z?X.descendant($,K):[null,-1]}descendants($,J=0,X=Number.MAX_VALUE){let K=[],G=X;return this.children.forEachAt(J,X,(W,Y,H)=>{($.blotName==null&&$(W)||$.blotName!=null&&W instanceof $)&&K.push(W),W instanceof Z&&(K=K.concat(W.descendants($,Y,G))),G-=H}),K}detach(){this.children.forEach(($)=>{$.detach()}),super.detach()}enforceAllowedChildren(){let $=!1;this.children.forEach((J)=>{$||this.statics.allowedChildren.some((X)=>J instanceof X)||(J.statics.scope===m.BLOCK_BLOT?(J.next!=null&&this.splitAfter(J),J.prev!=null&&this.splitAfter(J.prev),J.parent.unwrap(),$=!0):J instanceof Z?J.unwrap():J.remove())})}formatAt($,J,X,K){this.children.forEachAt($,J,(G,W,Y)=>{G.formatAt(W,Y,X,K)})}insertAt($,J,X){const[K,G]=this.children.find($);if(K)K.insertAt(G,J,X);else{const W=X==null?this.scroll.create("text",J):this.scroll.create(J,X);this.appendChild(W)}}insertBefore($,J){$.parent!=null&&$.parent.children.remove($);let X=null;this.children.insertBefore($,J||null),$.parent=this,J!=null&&(X=J.domNode),(this.domNode.parentNode!==$.domNode||this.domNode.nextSibling!==X)&&this.domNode.insertBefore($.domNode,X),$.attach()}length(){return this.children.reduce(($,J)=>$+J.length(),0)}moveChildren($,J){this.children.forEach((X)=>{$.insertBefore(X,J)})}optimize($){if(super.optimize($),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const J=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(J)}else this.remove()}path($,J=!1){const[X,K]=this.children.find($,J),G=[[this,$]];return X instanceof Z?G.concat(X.path(K,J)):(X!=null&&G.push([X,K]),G)}removeChild($){this.children.remove($)}replaceWith($,J){const X=typeof $=="string"?this.scroll.create($,J):$;return X instanceof Z&&this.moveChildren(X),super.replaceWith(X)}split($,J=!1){if(!J){if($===0)return this;if($===this.length())return this.next}const X=this.clone();return this.parent&&this.parent.insertBefore(X,this.next||void 0),this.children.forEachAt($,this.length(),(K,G,W)=>{const Y=K.split(G,J);Y!=null&&X.appendChild(Y)}),X}splitAfter($){const J=this.clone();for(;$.next!=null;)J.appendChild($.next);return this.parent&&this.parent.insertBefore(J,this.next||void 0),J}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update($,J){const X=[],K=[];$.forEach((G)=>{G.target===this.domNode&&G.type==="childList"&&(X.push(...G.addedNodes),K.push(...G.removedNodes))}),K.forEach((G)=>{if(G.parentNode!=null&&G.tagName!=="IFRAME"&&document.body.compareDocumentPosition(G)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const W=this.scroll.find(G);W!=null&&(W.domNode.parentNode==null||W.domNode.parentNode===this.domNode)&&W.detach()}),X.filter((G)=>G.parentNode===this.domNode&&G!==this.uiNode).sort((G,W)=>G===W?0:G.compareDocumentPosition(W)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach((G)=>{let W=null;G.nextSibling!=null&&(W=this.scroll.find(G.nextSibling));const Y=OH(G,this.scroll);(Y.next!==W||Y.next==null)&&(Y.parent!=null&&Y.parent.removeChild(this),this.insertBefore(Y,W||void 0))}),this.enforceAllowedChildren()}};CH.uiClass="";var aR=CH,v1=aR,Q4=class Z extends v1{static create($){return super.create($)}static formats($,J){const X=J.query(Z.blotName);if(!(X!=null&&$.tagName===X.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return $.tagName.toLowerCase()}}constructor($,J){super($,J),this.attributes=new R7(this.domNode)}format($,J){if($===this.statics.blotName&&!J)this.children.forEach((X)=>{X instanceof Z||(X=X.wrap(Z.blotName,!0)),this.attributes.copy(X)}),this.unwrap();else{const X=this.scroll.query($,m.INLINE);if(X==null)return;X instanceof k1?this.attributes.attribute(X,J):J&&($!==this.statics.blotName||this.formats()[$]!==J)&&this.replaceWith($,J)}}formats(){const $=this.attributes.values(),J=this.statics.formats(this.domNode,this.scroll);return J!=null&&($[this.statics.blotName]=J),$}formatAt($,J,X,K){this.formats()[X]!=null||this.scroll.query(X,m.ATTRIBUTE)?this.isolate($,J).format(X,K):super.formatAt($,J,X,K)}optimize($){super.optimize($);const J=this.formats();if(Object.keys(J).length===0)return this.unwrap();const X=this.next;X instanceof Z&&X.prev===this&&tR(J,X.formats())&&(X.moveChildren(this),X.remove())}replaceWith($,J){const X=super.replaceWith($,J);return this.attributes.copy(X),X}update($,J){super.update($,J),$.some((X)=>X.target===this.domNode&&X.type==="attributes")&&this.attributes.build()}wrap($,J){const X=super.wrap($,J);return X instanceof Z&&this.attributes.move(X),X}};Q4.allowedChildren=[Q4,X1],Q4.blotName="inline",Q4.scope=m.INLINE_BLOT,Q4.tagName="SPAN";var eR=Q4,q$=eR,z4=class Z extends v1{static create($){return super.create($)}static formats($,J){const X=J.query(Z.blotName);if(!(X!=null&&$.tagName===X.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return $.tagName.toLowerCase()}}constructor($,J){super($,J),this.attributes=new R7(this.domNode)}format($,J){const X=this.scroll.query($,m.BLOCK);X!=null&&(X instanceof k1?this.attributes.attribute(X,J):$===this.statics.blotName&&!J?this.replaceWith(Z.blotName):J&&($!==this.statics.blotName||this.formats()[$]!==J)&&this.replaceWith($,J))}formats(){const $=this.attributes.values(),J=this.statics.formats(this.domNode,this.scroll);return J!=null&&($[this.statics.blotName]=J),$}formatAt($,J,X,K){this.scroll.query(X,m.BLOCK)!=null?this.format(X,K):super.formatAt($,J,X,K)}insertAt($,J,X){if(X==null||this.scroll.query(J,m.INLINE)!=null)super.insertAt($,J,X);else{const K=this.split($);if(K!=null){const G=this.scroll.create(J,X);K.parent.insertBefore(G,K)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith($,J){const X=super.replaceWith($,J);return this.attributes.copy(X),X}update($,J){super.update($,J),$.some((X)=>X.target===this.domNode&&X.type==="attributes")&&this.attributes.build()}};z4.blotName="block",z4.scope=m.BLOCK_BLOT,z4.tagName="P",z4.allowedChildren=[q$,z4,X1];var ZE=z4,Q8=ZE,TJ=class Z extends v1{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt($,J){super.deleteAt($,J),this.enforceAllowedChildren()}formatAt($,J,X,K){super.formatAt($,J,X,K),this.enforceAllowedChildren()}insertAt($,J,X){super.insertAt($,J,X),this.enforceAllowedChildren()}optimize($){super.optimize($),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};TJ.blotName="container",TJ.scope=m.BLOCK_BLOT;var $E=TJ,M4=$E;class SH extends X1{static formats(Z,$){}format(Z,$){super.formatAt(0,this.length(),Z,$)}formatAt(Z,$,J,X){Z===0&&$===this.length()?this.format(J,X):super.formatAt(Z,$,J,X)}formats(){return this.statics.formats(this.domNode,this.scroll)}}var u0=SH,JE={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},XE=100,_4=class Z extends v1{constructor($,J){super(null,J),this.registry=$,this.scroll=this,this.build(),this.observer=new MutationObserver((X)=>{this.update(X)}),this.observer.observe(this.domNode,JE),this.attach()}create($,J){return this.registry.create(this,$,J)}find($,J=!1){const X=this.registry.find($,J);return X?X.scroll===this?X:J?this.find(X.scroll.domNode.parentNode,!0):null:null}query($,J=m.ANY){return this.registry.query($,J)}register(...$){return this.registry.register(...$)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt($,J){this.update(),$===0&&J===this.length()?this.children.forEach((X)=>{X.remove()}):super.deleteAt($,J)}formatAt($,J,X,K){this.update(),super.formatAt($,J,X,K)}insertAt($,J,X){this.update(),super.insertAt($,J,X)}optimize($=[],J={}){super.optimize(J);const X=J.mutationsMap||new WeakMap;let K=Array.from(this.observer.takeRecords());for(;K.length>0;)$.push(K.pop());const G=(H,Q=!0)=>{H==null||H===this||H.domNode.parentNode!=null&&(X.has(H.domNode)||X.set(H.domNode,[]),Q&&G(H.parent))},W=(H)=>{X.has(H.domNode)&&(H instanceof v1&&H.children.forEach(W),X.delete(H.domNode),H.optimize(J))};let Y=$;for(let H=0;Y.length>0;H+=1){if(H>=XE)throw new Error("[Parchment] Maximum optimize iterations reached");for(Y.forEach((Q)=>{const z=this.find(Q.target,!0);z!=null&&(z.domNode===Q.target&&(Q.type==="childList"?(G(this.find(Q.previousSibling,!1)),Array.from(Q.addedNodes).forEach((_)=>{const M=this.find(_,!1);G(M,!1),M instanceof v1&&M.children.forEach((U)=>{G(U,!1)})})):Q.type==="attributes"&&G(z.prev)),G(z))}),this.children.forEach(W),Y=Array.from(this.observer.takeRecords()),K=Y.slice();K.length>0;)$.push(K.pop())}}update($,J={}){$=$||this.observer.takeRecords();const X=new WeakMap;$.map((K)=>{const G=this.find(K.target,!0);return G==null?null:X.has(G.domNode)?(X.get(G.domNode).push(K),null):(X.set(G.domNode,[K]),G)}).forEach((K)=>{K!=null&&K!==this&&X.has(K.domNode)&&K.update(X.get(K.domNode)||[],J)}),J.mutationsMap=X,X.has(this.domNode)&&super.update(X.get(this.domNode),J),this.optimize($,J)}};_4.blotName="scroll",_4.defaultChild=Q8,_4.allowedChildren=[Q8,M4],_4.scope=m.BLOCK_BLOT,_4.tagName="DIV";var KE=_4,E7=KE,jJ=class Z extends X1{static create($){return document.createTextNode($)}static value($){return $.data}constructor($,J){super($,J),this.text=this.statics.value(this.domNode)}deleteAt($,J){this.domNode.data=this.text=this.text.slice(0,$)+this.text.slice($+J)}index($,J){return this.domNode===$?J:-1}insertAt($,J,X){X==null?(this.text=this.text.slice(0,$)+J+this.text.slice($),this.domNode.data=this.text):super.insertAt($,J,X)}length(){return this.text.length}optimize($){super.optimize($),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Z&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position($,J=!1){return[this.domNode,$]}split($,J=!1){if(!J){if($===0)return this;if($===this.length())return this.next}const X=this.scroll.create(this.domNode.splitText($));return this.parent.insertBefore(X,this.next||void 0),this.text=this.statics.value(this.domNode),X}update($,J){$.some((X)=>X.type==="characterData"&&X.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};jJ.blotName="text",jJ.scope=m.INLINE_BLOT;var GE=jJ,q4=GE;var v6=f1(s1(),1);var d0=f1(s1(),1);var qX=f1(s1(),1);class g$ extends u0{static value(){return}optimize(){if(this.prev||this.next)this.remove()}length(){return 0}value(){return""}}g$.blotName="break";g$.tagName="BR";var O1=g$;function E8(Z){return Z.replace(/[&<>"']/g,($)=>{return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[$]})}class K1 extends q4{}class j6 extends q${static allowedChildren=[j6,O1,u0,K1];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(Z,$){const J=j6.order.indexOf(Z),X=j6.order.indexOf($);if(J>=0||X>=0)return J-X;if(Z===$)return 0;if(Z<$)return-1;return 1}formatAt(Z,$,J,X){if(j6.compare(this.statics.blotName,J)<0&&this.scroll.query(J,m.BLOT)){const K=this.isolate(Z,$);if(X)K.wrap(J,X)}else super.formatAt(Z,$,J,X)}optimize(Z){if(super.optimize(Z),this.parent instanceof j6&&j6.compare(this.statics.blotName,this.parent.statics.blotName)>0){const $=this.parent.isolate(this.offset(),this.length());this.moveChildren($),$.wrap(this)}}}var P1=j6;function UX(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Z.descendants(X1).reduce((J,X)=>{if(X.length()===0)return J;return J.insert(X.value(),b1(X,{},$))},new qX.default).insert("\n",b1(Z))}function b1(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Z==null)return $;if("formats"in Z&&typeof Z.formats==="function"){if($={...$,...Z.formats()},J)delete $["code-token"]}if(Z.parent==null||Z.parent.statics.blotName==="scroll"||Z.parent.statics.scope!==Z.statics.scope)return $;return b1(Z.parent,$,J)}var Ez=1;class h0 extends Q8{cache={};delta(){if(this.cache.delta==null)this.cache.delta=UX(this);return this.cache.delta}deleteAt(Z,$){super.deleteAt(Z,$),this.cache={}}formatAt(Z,$,J,X){if($<=0)return;if(this.scroll.query(J,m.BLOCK)){if(Z+$===this.length())this.format(J,X)}else super.formatAt(Z,Math.min($,this.length()-Z-1),J,X);this.cache={}}insertAt(Z,$,J){if(J!=null){super.insertAt(Z,$,J),this.cache={};return}if($.length===0)return;const X=$.split("\n"),K=X.shift();if(K.length>0){if(Z<this.length()-1||this.children.tail==null)super.insertAt(Math.min(Z,this.length()-1),K);else this.children.tail.insertAt(this.children.tail.length(),K);this.cache={}}let G=this;X.reduce((W,Y)=>{return G=G.split(W,!0),G.insertAt(0,Y),Y.length},Z+K.length)}insertBefore(Z,$){const{head:J}=this.children;if(super.insertBefore(Z,$),J instanceof O1)J.remove();this.cache={}}length(){if(this.cache.length==null)this.cache.length=super.length()+Ez;return this.cache.length}moveChildren(Z,$){super.moveChildren(Z,$),this.cache={}}optimize(Z){super.optimize(Z),this.cache={}}path(Z){return super.path(Z,!0)}removeChild(Z){super.removeChild(Z),this.cache={}}split(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(Z===0||Z>=this.length()-Ez)){const X=this.clone();if(Z===0)return this.parent.insertBefore(X,this),this;return this.parent.insertBefore(X,this.next),X}const J=super.split(Z,$);return this.cache={},J}}h0.blotName="block";h0.tagName="P";h0.defaultChild=O1;h0.allowedChildren=[O1,P1,u0,K1];class U1 extends u0{attach(){super.attach(),this.attributes=new R7(this.domNode)}delta(){return new qX.default().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(Z,$){const J=this.scroll.query(Z,m.BLOCK_ATTRIBUTE);if(J!=null)this.attributes.attribute(J,$)}formatAt(Z,$,J,X){this.format(J,X)}insertAt(Z,$,J){if(J!=null){super.insertAt(Z,$,J);return}const X=$.split("\n"),K=X.pop(),G=X.map((Y)=>{const H=this.scroll.create(h0.blotName);return H.insertAt(0,Y),H}),W=this.split(Z);if(G.forEach((Y)=>{this.parent.insertBefore(Y,W)}),K)this.parent.insertBefore(this.scroll.create("text",K),W)}}U1.scope=m.BLOCK_BLOT;class h6 extends u0{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){return}constructor(Z,$,J){super(Z,$);this.selection=J,this.textNode=document.createTextNode(h6.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){if(this.parent!=null)this.parent.removeChild(this)}format(Z,$){if(this.savedLength!==0){super.format(Z,$);return}let J=this,X=0;while(J!=null&&J.statics.scope!==m.BLOCK_BLOT)X+=J.offset(J.parent),J=J.parent;if(J!=null)this.savedLength=h6.CONTENTS.length,J.optimize(),J.formatAt(X,h6.CONTENTS.length,Z,$),this.savedLength=0}index(Z,$){if(Z===this.textNode)return 0;return super.index(Z,$)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const Z=this.selection.getNativeRange();while(this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const $=this.prev instanceof K1?this.prev:null,J=$?$.length():0,X=this.next instanceof K1?this.next:null,K=X?X.text:"",{textNode:G}=this,W=G.data.split(h6.CONTENTS).join("");G.data=h6.CONTENTS;let Y;if($){if(Y=$,W||X){if($.insertAt($.length(),W+K),X)X.remove()}}else if(X)Y=X,X.insertAt(0,W);else{const H=document.createTextNode(W);Y=this.scroll.create(H),this.parent.insertBefore(Y,this)}if(this.remove(),Z){const H=(_,M)=>{if($&&_===$.domNode)return M;if(_===G)return J+M-1;if(X&&_===X.domNode)return J+W.length+M;return null},Q=H(Z.start.node,Z.start.offset),z=H(Z.end.node,Z.end.offset);if(Q!==null&&z!==null)return{startNode:Y.domNode,startOffset:Q,endNode:Y.domNode,endOffset:z}}return null}update(Z,$){if(Z.some((J)=>{return J.type==="characterData"&&J.target===this.textNode})){const J=this.restore();if(J)$.range=J}}optimize(Z){super.optimize(Z);let{parent:$}=this;while($){if($.domNode.tagName==="A"){this.savedLength=h6.CONTENTS.length,$.isolate(this.offset($),this.length()).unwrap(),this.savedLength=0;break}$=$.parent}}value(){return""}}var x6=h6;var NX=f1(Pz(),1);var C7=new WeakMap;function Vz(Z){if(EX){if(RX.indexOf(Z)<=RX.indexOf(EX)){for(var $=arguments.length,J=new Array($>1?$-1:0),X=1;X<$;X++)J[X-1]=arguments[X];console[Z](...J)}}}function OX(Z){return RX.reduce(($,J)=>{return $[J]=Vz.bind(console,J,Z),$},{})}var RX=["error","warn","log","info"],EX="warn";OX.level=(Z)=>{EX=Z};Vz.level=OX.level;var n1=OX;var PX=n1("quill:events"),fV=["selectionchange","mousedown","mouseup","click"];fV.forEach((Z)=>{document.addEventListener(Z,function(){for(var $=arguments.length,J=new Array($),X=0;X<$;X++)J[X]=arguments[X];Array.from(document.querySelectorAll(".ql-container")).forEach((K)=>{const G=C7.get(K);if(G&&G.emitter)G.emitter.handleDOM(...J)})})});class Lz extends NX.default{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super();this.domListeners={},this.on("error",PX.error)}emit(){for(var Z=arguments.length,$=new Array(Z),J=0;J<Z;J++)$[J]=arguments[J];return PX.log.call(PX,...$),super.emit(...$)}handleDOM(Z){for(var $=arguments.length,J=new Array($>1?$-1:0),X=1;X<$;X++)J[X-1]=arguments[X];(this.domListeners[Z.type]||[]).forEach((K)=>{let{node:G,handler:W}=K;if(Z.target===G||G.contains(Z.target))W(Z,...J)})}listenDOM(Z,$,J){if(!this.domListeners[Z])this.domListeners[Z]=[];this.domListeners[Z].push({node:$,handler:J})}}var d=Lz;function LX(Z,$){try{$.parentNode}catch(J){return!1}return Z.contains($)}var VX=n1("quill:selection");class g1{constructor(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=Z,this.length=$}}class wz{constructor(Z,$){this.emitter=$,this.scroll=Z,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new g1(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{if(!this.mouseDown&&!this.composing)setTimeout(this.update.bind(this,d.sources.USER),1)}),this.emitter.on(d.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const J=this.getNativeRange();if(J==null)return;if(J.start.node===this.cursor.textNode)return;this.emitter.once(d.events.SCROLL_UPDATE,(X,K)=>{try{if(this.root.contains(J.start.node)&&this.root.contains(J.end.node))this.setNativeRange(J.start.node,J.start.offset,J.end.node,J.end.offset);const G=K.some((W)=>W.type==="characterData"||W.type==="childList"||W.type==="attributes"&&W.target===this.root);this.update(G?d.sources.SILENT:X)}catch(G){}})}),this.emitter.on(d.events.SCROLL_OPTIMIZE,(J,X)=>{if(X.range){const{startNode:K,startOffset:G,endNode:W,endOffset:Y}=X.range;this.setNativeRange(K,G,W,Y),this.update(d.sources.SILENT)}}),this.update(d.sources.SILENT)}handleComposition(){this.emitter.on(d.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(d.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const Z=this.cursor.restore();if(!Z)return;setTimeout(()=>{this.setNativeRange(Z.startNode,Z.startOffset,Z.endNode,Z.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(d.sources.USER)})}focus(){if(this.hasFocus())return;this.root.focus({preventScroll:!0}),this.setRange(this.savedRange)}format(Z,$){this.scroll.update();const J=this.getNativeRange();if(J==null||!J.native.collapsed||this.scroll.query(Z,m.BLOCK))return;if(J.start.node!==this.cursor.textNode){const X=this.scroll.find(J.start.node,!1);if(X==null)return;if(X instanceof X1){const K=X.split(J.start.offset);X.parent.insertBefore(this.cursor,K)}else X.insertBefore(this.cursor,J.start.node);this.cursor.attach()}this.cursor.format(Z,$),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}getBounds(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const J=this.scroll.length();Z=Math.min(Z,J-1),$=Math.min(Z+$,J-1)-Z;let X,[K,G]=this.scroll.leaf(Z);if(K==null)return null;if($>0&&G===K.length()){const[Q]=this.scroll.leaf(Z+1);if(Q){const[z]=this.scroll.line(Z),[_]=this.scroll.line(Z+1);if(z===_)K=Q,G=0}}[X,G]=K.position(G,!0);const W=document.createRange();if($>0){if(W.setStart(X,G),[K,G]=this.scroll.leaf(Z+$),K==null)return null;return[X,G]=K.position(G,!0),W.setEnd(X,G),W.getBoundingClientRect()}let Y="left",H;if(X instanceof Text){if(!X.data.length)return null;if(G<X.data.length)W.setStart(X,G),W.setEnd(X,G+1);else W.setStart(X,G-1),W.setEnd(X,G),Y="right";H=W.getBoundingClientRect()}else{if(!(K.domNode instanceof Element))return null;if(H=K.domNode.getBoundingClientRect(),G>0)Y="right"}return{bottom:H.top+H.height,height:H.height,left:H[Y],right:H[Y],top:H.top,width:0}}getNativeRange(){const Z=document.getSelection();if(Z==null||Z.rangeCount<=0)return null;const $=Z.getRangeAt(0);if($==null)return null;const J=this.normalizeNative($);return VX.info("getNativeRange",J),J}getRange(){const Z=this.scroll.domNode;if("isConnected"in Z&&!Z.isConnected)return[null,null];const $=this.getNativeRange();if($==null)return[null,null];return[this.normalizedToRange($),$]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&LX(this.root,document.activeElement)}normalizedToRange(Z){const $=[[Z.start.node,Z.start.offset]];if(!Z.native.collapsed)$.push([Z.end.node,Z.end.offset]);const J=$.map((G)=>{const[W,Y]=G,H=this.scroll.find(W,!0),Q=H.offset(this.scroll);if(Y===0)return Q;if(H instanceof X1)return Q+H.index(W,Y);return Q+H.length()}),X=Math.min(Math.max(...J),this.scroll.length()-1),K=Math.min(X,...J);return new g1(K,X-K)}normalizeNative(Z){if(!LX(this.root,Z.startContainer)||!Z.collapsed&&!LX(this.root,Z.endContainer))return null;const $={start:{node:Z.startContainer,offset:Z.startOffset},end:{node:Z.endContainer,offset:Z.endOffset},native:Z};return[$.start,$.end].forEach((J)=>{let{node:X,offset:K}=J;while(!(X instanceof Text)&&X.childNodes.length>0)if(X.childNodes.length>K)X=X.childNodes[K],K=0;else if(X.childNodes.length===K)if(X=X.lastChild,X instanceof Text)K=X.data.length;else if(X.childNodes.length>0)K=X.childNodes.length;else K=X.childNodes.length+1;else break;J.node=X,J.offset=K}),$}rangeToNative(Z){const $=this.scroll.length(),J=(X,K)=>{X=Math.min($-1,X);const[G,W]=this.scroll.leaf(X);return G?G.position(W,K):[null,-1]};return[...J(Z.index,!1),...J(Z.index+Z.length,!0)]}setNativeRange(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$,K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(VX.info("setNativeRange",Z,$,J,X),Z!=null&&(this.root.parentNode==null||Z.parentNode==null||J.parentNode==null))return;const G=document.getSelection();if(G==null)return;if(Z!=null){if(!this.hasFocus())this.root.focus({preventScroll:!0});const{native:W}=this.getNativeRange()||{};if(W==null||K||Z!==W.startContainer||$!==W.startOffset||J!==W.endContainer||X!==W.endOffset){if(Z instanceof Element&&Z.tagName==="BR")$=Array.from(Z.parentNode.childNodes).indexOf(Z),Z=Z.parentNode;if(J instanceof Element&&J.tagName==="BR")X=Array.from(J.parentNode.childNodes).indexOf(J),J=J.parentNode;const Y=document.createRange();Y.setStart(Z,$),Y.setEnd(J,X),G.removeAllRanges(),G.addRange(Y)}}else G.removeAllRanges(),this.root.blur()}setRange(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.sources.API;if(typeof $==="string")J=$,$=!1;if(VX.info("setRange",Z),Z!=null){const X=this.rangeToNative(Z);this.setNativeRange(...X,$)}else this.setNativeRange(null);this.update(J)}update(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.sources.USER;const $=this.lastRange,[J,X]=this.getRange();if(this.lastRange=J,this.lastNative=X,this.lastRange!=null)this.savedRange=this.lastRange;if(!Y8($,this.lastRange)){if(!this.composing&&X!=null&&X.native.collapsed&&X.start.node!==this.cursor.textNode){const G=this.cursor.restore();if(G)this.setNativeRange(G.startNode,G.startOffset,G.endNode,G.endOffset)}const K=[d.events.SELECTION_CHANGE,v5(this.lastRange),v5($),Z];if(this.emitter.emit(d.events.EDITOR_CHANGE,...K),Z!==d.sources.SILENT)this.emitter.emit(...K)}}}var Az=wz;function V4(Z,$,J){if(Z.length===0){const[U]=wX(J.pop());if($<=0)return`</li></${U}>`;return`</li></${U}>${V4([],$-1,J)}`}const[{child:X,offset:K,length:G,indent:W,type:Y},...H]=Z,[Q,z]=wX(Y);if(W>$){if(J.push(Y),W===$+1)return`<${Q}><li${z}>${S7(X,K,G)}${V4(H,W,J)}`;return`<${Q}><li>${V4(Z,$+1,J)}`}const _=J[J.length-1];if(W===$&&Y===_)return`</li><li${z}>${S7(X,K,G)}${V4(H,W,J)}`;const[M]=wX(J.pop());return`</li></${M}>${V4(Z,$-1,J)}`}function S7(Z,$,J){let X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in Z&&typeof Z.html==="function")return Z.html($,J);if(Z instanceof K1)return E8(Z.value().slice($,$+J));if(Z instanceof v1){if(Z.statics.blotName==="list-container"){const Q=[];return Z.children.forEachAt($,J,(z,_,M)=>{const U="formats"in z&&typeof z.formats==="function"?z.formats():{};Q.push({child:z,offset:_,length:M,indent:U.indent||0,type:U.list})}),V4(Q,-1,[])}const K=[];if(Z.children.forEachAt($,J,(Q,z,_)=>{K.push(S7(Q,z,_))}),X||Z.statics.blotName==="list")return K.join("");const{outerHTML:G,innerHTML:W}=Z.domNode,[Y,H]=G.split(`>${W}<`);if(Y==="<table")return`<table style="border: 1px solid #000;">${K.join("")}<${H}`;return`${Y}>${K.join("")}<${H}`}return Z.domNode instanceof Element?Z.domNode.outerHTML:""}function jV(Z,$){return Object.keys($).reduce((J,X)=>{if(Z[X]==null)return J;const K=$[X];if(K===Z[X])J[X]=K;else if(Array.isArray(K))if(K.indexOf(Z[X])<0)J[X]=K.concat([Z[X]]);else J[X]=K;else J[X]=[K,Z[X]];return J},{})}function wX(Z){const $=Z==="ordered"?"ol":"ul";switch(Z){case"checked":return[$,' data-list="checked"'];case"unchecked":return[$,' data-list="unchecked"'];default:return[$,""]}}function Bz(Z){return Z.reduce(($,J)=>{if(typeof J.insert==="string"){const X=J.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return $.insert(X,J.attributes)}return $.push(J)},new d0.default)}function Dz(Z,$){let{index:J,length:X}=Z;return new g1(J+$,X)}function hV(Z){const $=[];return Z.forEach((J)=>{if(typeof J.insert==="string")J.insert.split("\n").forEach((K,G)=>{if(G)$.push({insert:"\n",attributes:J.attributes});if(K)$.push({insert:K,attributes:J.attributes})});else $.push(J)}),$}var TV=/^[ -~]*$/;class Iz{constructor(Z){this.scroll=Z,this.delta=this.getDelta()}applyDelta(Z){this.scroll.update();let $=this.scroll.length();this.scroll.batchStart();const J=Bz(Z),X=new d0.default;return hV(J.ops.slice()).reduce((G,W)=>{const Y=d0.Op.length(W);let H=W.attributes||{},Q=!1,z=!1;if(W.insert!=null){if(X.retain(Y),typeof W.insert==="string"){const U=W.insert;z=!U.endsWith("\n")&&($<=G||!!this.scroll.descendant(U1,G)[0]),this.scroll.insertAt(G,U);const[R,E]=this.scroll.line(G);let F=x1({},b1(R));if(R instanceof h0){const[q]=R.descendant(X1,E);if(q)F=x1(F,b1(q))}H=d0.AttributeMap.diff(F,H)||{}}else if(typeof W.insert==="object"){const U=Object.keys(W.insert)[0];if(U==null)return G;const R=this.scroll.query(U,m.INLINE)!=null;if(R){if($<=G||!!this.scroll.descendant(U1,G)[0])z=!0}else if(G>0){const[E,F]=this.scroll.descendant(X1,G-1);if(E instanceof K1){if(E.value()[F]!=="\n")Q=!0}else if(E instanceof u0&&E.statics.scope===m.INLINE_BLOT)Q=!0}if(this.scroll.insertAt(G,U,W.insert[U]),R){const[E]=this.scroll.descendant(X1,G);if(E){const F=x1({},b1(E));H=d0.AttributeMap.diff(F,H)||{}}}}$+=Y}else if(X.push(W),W.retain!==null&&typeof W.retain==="object"){const U=Object.keys(W.retain)[0];if(U==null)return G;this.scroll.updateEmbedAt(G,U,W.retain[U])}Object.keys(H).forEach((U)=>{this.scroll.formatAt(G,Y,U,H[U])});const _=Q?1:0,M=z?1:0;return $+=_+M,X.retain(_),X.delete(M),G+Y+_+M},0),X.reduce((G,W)=>{if(typeof W.delete==="number")return this.scroll.deleteAt(G,W.delete),G;return G+d0.Op.length(W)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(J)}deleteText(Z,$){return this.scroll.deleteAt(Z,$),this.update(new d0.default().retain(Z).delete($))}formatLine(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(J).forEach((K)=>{this.scroll.lines(Z,Math.max($,1)).forEach((G)=>{G.format(K,J[K])})}),this.scroll.optimize();const X=new d0.default().retain(Z).retain($,v5(J));return this.update(X)}formatText(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(J).forEach((K)=>{this.scroll.formatAt(Z,$,K,J[K])});const X=new d0.default().retain(Z).retain($,v5(J));return this.update(X)}getContents(Z,$){return this.delta.slice(Z,Z+$)}getDelta(){return this.scroll.lines().reduce((Z,$)=>{return Z.concat($.delta())},new d0.default)}getFormat(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=[],X=[];if($===0)this.scroll.path(Z).forEach((W)=>{const[Y]=W;if(Y instanceof h0)J.push(Y);else if(Y instanceof X1)X.push(Y)});else J=this.scroll.lines(Z,$),X=this.scroll.descendants(X1,Z,$);const[K,G]=[J,X].map((W)=>{const Y=W.shift();if(Y==null)return{};let H=b1(Y);while(Object.keys(H).length>0){const Q=W.shift();if(Q==null)return H;H=jV(b1(Q),H)}return H});return{...K,...G}}getHTML(Z,$){const[J,X]=this.scroll.line(Z);if(J){const K=J.length();if(J.length()>=X+$&&!(X===0&&$===K))return S7(J,X,$,!0);return S7(this.scroll,Z,$,!0)}return""}getText(Z,$){return this.getContents(Z,$).filter((J)=>typeof J.insert==="string").map((J)=>J.insert).join("")}insertContents(Z,$){const J=Bz($),X=new d0.default().retain(Z).concat(J);return this.scroll.insertContents(Z,J),this.update(X)}insertEmbed(Z,$,J){return this.scroll.insertAt(Z,$,J),this.update(new d0.default().retain(Z).insert({[$]:J}))}insertText(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $=$.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(Z,$),Object.keys(J).forEach((X)=>{this.scroll.formatAt(Z,$.length,X,J[X])}),this.update(new d0.default().retain(Z).insert($,v5(J)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const Z=this.scroll.children.head;if(Z?.statics.blotName!==h0.blotName)return!1;const $=Z;if($.children.length>1)return!1;return $.children.head instanceof O1}removeFormat(Z,$){const J=this.getText(Z,$),[X,K]=this.scroll.line(Z+$);let G=0,W=new d0.default;if(X!=null)G=X.length()-K,W=X.delta().slice(K,K+G-1).insert("\n");const H=this.getContents(Z,$+G).diff(new d0.default().insert(J).concat(W)),Q=new d0.default().retain(Z).concat(H);return this.applyDelta(Q)}update(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const X=this.delta;if($.length===1&&$[0].type==="characterData"&&$[0].target.data.match(TV)&&this.scroll.find($[0].target)){const K=this.scroll.find($[0].target),G=b1(K),W=K.offset(this.scroll),Y=$[0].oldValue.replace(x6.CONTENTS,""),H=new d0.default().insert(Y),Q=new d0.default().insert(K.value()),z=J&&{oldRange:Dz(J.oldRange,-W),newRange:Dz(J.newRange,-W)};Z=new d0.default().retain(W).concat(H.diff(Q,z)).reduce((M,U)=>{if(U.insert)return M.insert(U.insert,G);return M.push(U)},new d0.default),this.delta=X.compose(Z)}else if(this.delta=this.getDelta(),!Z||!Y8(X.compose(Z),this.delta))Z=X.diff(this.delta,J);return Z}}var Cz=Iz;class Sz{static DEFAULTS={};constructor(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=Z,this.options=$}}var i0=Sz;var m$="\uFEFF";class fz extends u0{constructor(Z,$){super(Z,$);this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((J)=>{this.contentNode.appendChild(J)}),this.leftGuard=document.createTextNode(m$),this.rightGuard=document.createTextNode(m$),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(Z,$){if(Z===this.leftGuard)return 0;if(Z===this.rightGuard)return 1;return super.index(Z,$)}restore(Z){let $=null,J;const X=Z.data.split(m$).join("");if(Z===this.leftGuard)if(this.prev instanceof K1){const K=this.prev.length();this.prev.insertAt(K,X),$={startNode:this.prev.domNode,startOffset:K+X.length}}else J=document.createTextNode(X),this.parent.insertBefore(this.scroll.create(J),this),$={startNode:J,startOffset:X.length};else if(Z===this.rightGuard)if(this.next instanceof K1)this.next.insertAt(0,X),$={startNode:this.next.domNode,startOffset:X.length};else J=document.createTextNode(X),this.parent.insertBefore(this.scroll.create(J),this.next),$={startNode:J,startOffset:X.length};return Z.data=m$,$}update(Z,$){Z.forEach((J)=>{if(J.type==="characterData"&&(J.target===this.leftGuard||J.target===this.rightGuard)){const X=this.restore(J.target);if(X)$.range=X}})}}var L4=fz;class Tz{isComposing=!1;constructor(Z,$){this.scroll=Z,this.emitter=$,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(Z)=>{if(!this.isComposing)this.handleCompositionStart(Z)}),this.scroll.domNode.addEventListener("compositionend",(Z)=>{if(this.isComposing)queueMicrotask(()=>{this.handleCompositionEnd(Z)})})}handleCompositionStart(Z){const $=Z.target instanceof Node?this.scroll.find(Z.target,!0):null;if($&&!($ instanceof L4))this.emitter.emit(d.events.COMPOSITION_BEFORE_START,Z),this.scroll.batchStart(),this.emitter.emit(d.events.COMPOSITION_START,Z),this.isComposing=!0}handleCompositionEnd(Z){this.emitter.emit(d.events.COMPOSITION_BEFORE_END,Z),this.scroll.batchEnd(),this.emitter.emit(d.events.COMPOSITION_END,Z),this.isComposing=!1}}var jz=Tz;class AX{static DEFAULTS={modules:{}};static themes={default:AX};modules={};constructor(Z,$){this.quill=Z,this.options=$}init(){Object.keys(this.options.modules).forEach((Z)=>{if(this.modules[Z]==null)this.addModule(Z)})}addModule(Z){const $=this.quill.constructor.import(`modules/${Z}`);return this.modules[Z]=new $(this.quill,this.options.modules[Z]||{}),this.modules[Z]}}var w4=AX;var xV=(Z)=>Z.parentElement||Z.getRootNode().host||null,vV=(Z)=>{const $=Z.getBoundingClientRect(),J="offsetWidth"in Z&&Math.abs($.width)/Z.offsetWidth||1,X="offsetHeight"in Z&&Math.abs($.height)/Z.offsetHeight||1;return{top:$.top,right:$.left+Z.clientWidth*J,bottom:$.top+Z.clientHeight*X,left:$.left}},u$=(Z)=>{const $=parseInt(Z,10);return Number.isNaN($)?0:$},hz=(Z,$,J,X,K,G)=>{if(Z<J&&$>X)return 0;if(Z<J)return-(J-Z+K);if($>X)return $-Z>X-J?Z+K-J:$-X+G;return 0},kV=(Z,$)=>{const J=Z.ownerDocument;let X=$,K=Z;while(K){const G=K===J.body,W=G?{top:0,right:window.visualViewport?.width??J.documentElement.clientWidth,bottom:window.visualViewport?.height??J.documentElement.clientHeight,left:0}:vV(K),Y=getComputedStyle(K),H=hz(X.left,X.right,W.left,W.right,u$(Y.scrollPaddingLeft),u$(Y.scrollPaddingRight)),Q=hz(X.top,X.bottom,W.top,W.bottom,u$(Y.scrollPaddingTop),u$(Y.scrollPaddingBottom));if(H||Q)if(G)J.defaultView?.scrollBy(H,Q);else{const{scrollLeft:z,scrollTop:_}=K;if(Q)K.scrollTop+=Q;if(H)K.scrollLeft+=H;const M=K.scrollLeft-z,U=K.scrollTop-_;X={left:X.left-M,top:X.top-U,right:X.right-M,bottom:X.bottom-U}}K=G||Y.position==="fixed"?null:xV(K)}},xz=kV;var yV=100,bV=["block","break","cursor","inline","scroll","text"],gV=(Z,$,J)=>{const X=new C6;return bV.forEach((K)=>{const G=$.query(K);if(G)X.register(G)}),Z.forEach((K)=>{let G=$.query(K);if(!G)J.error(`Cannot register "${K}" specified in "formats" config. Are you sure it was registered?`);let W=0;while(G)if(X.register(G),G="blotName"in G?G.requiredContainer??null:null,W+=1,W>yV){J.error(`Cycle detected in registering blot requiredContainer: "${K}"`);break}}),X},vz=gV;function kz(Z){return typeof Z==="string"?document.querySelector(Z):Z}function BX(Z){return Object.entries(Z??{}).reduce(($,J)=>{let[X,K]=J;return{...$,[X]:K===!0?{}:K}},{})}function yz(Z){return Object.fromEntries(Object.entries(Z).filter(($)=>$[1]!==void 0))}function pV(Z,$){const J=kz(Z);if(!J)throw new Error("Invalid Quill container");const K=!$.theme||$.theme===f.DEFAULTS.theme?w4:f.import(`themes/${$.theme}`);if(!K)throw new Error(`Invalid theme ${$.theme}. Did you register it?`);const{modules:G,...W}=f.DEFAULTS,{modules:Y,...H}=K.DEFAULTS;let Q=BX($.modules);if(Q!=null&&Q.toolbar&&Q.toolbar.constructor!==Object)Q={...Q,toolbar:{container:Q.toolbar}};const z=x1({},BX(G),BX(Y),Q),_={...W,...yz(H),...yz($)};let M=$.registry;if(M){if($.formats)A4.warn('Ignoring "formats" option because "registry" is specified')}else M=$.formats?vz($.formats,_.registry,A4):_.registry;return{..._,registry:M,container:J,theme:K,modules:Object.entries(z).reduce((U,R)=>{let[E,F]=R;if(!F)return U;const q=f.import(`modules/${E}`);if(q==null)return A4.error(`Cannot load ${E} module. Are you sure you registered it?`),U;return{...U,[E]:x1({},q.DEFAULTS||{},F)}},{}),bounds:kz(_.bounds)}}function R5(Z,$,J,X){if(!this.isEnabled()&&$===d.sources.USER&&!this.allowReadOnlyEdits)return new v6.default;let K=J==null?null:this.getSelection();const G=this.editor.delta,W=Z();if(K!=null){if(J===!0)J=K.index;if(X==null)K=bz(K,W,$);else if(X!==0)K=bz(K,J,X,$);this.setSelection(K,d.sources.SILENT)}if(W.length()>0){const Y=[d.events.TEXT_CHANGE,W,G,$];if(this.emitter.emit(d.events.EDITOR_CHANGE,...Y),$!==d.sources.SILENT)this.emitter.emit(...Y)}return W}function W6(Z,$,J,X,K){let G={};if(typeof Z.index==="number"&&typeof Z.length==="number")if(typeof $!=="number")K=X,X=J,J=$,$=Z.length,Z=Z.index;else $=Z.length,Z=Z.index;else if(typeof $!=="number")K=X,X=J,J=$,$=0;if(typeof J==="object")G=J,K=X;else if(typeof J==="string")if(X!=null)G[J]=X;else K=J;return K=K||d.sources.API,[Z,$,G,K]}function bz(Z,$,J,X){const K=typeof J==="number"?J:0;if(Z==null)return null;let G,W;if($&&typeof $.transformPosition==="function")[G,W]=[Z.index,Z.index+Z.length].map((Y)=>$.transformPosition(Y,X!==d.sources.USER));else[G,W]=[Z.index,Z.index+Z.length].map((Y)=>{if(Y<$||Y===$&&X===d.sources.USER)return Y;if(K>=0)return Y+K;return Math.max($,Y+K)});return new g1(G,W-G)}var A4=n1("quill"),d$=new C6;v1.uiClass="ql-ui";class f{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:d$,theme:"default"};static events=d.events;static sources=d.sources;static version="2.0.2";static imports={delta:v6.default,parchment:O7,"core/module":i0,"core/theme":w4};static debug(Z){if(Z===!0)Z="log";n1.level(Z)}static find(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C7.get(Z)||d$.find(Z,$)}static import(Z){if(this.imports[Z]==null)A4.error(`Cannot import ${Z}. Are you sure it was registered?`);return this.imports[Z]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!=="string"){const Z=arguments.length<=0?void 0:arguments[0],$=!!(arguments.length<=1?void 0:arguments[1]),J="attrName"in Z?Z.attrName:Z.blotName;if(typeof J==="string")this.register(`formats/${J}`,Z,$);else Object.keys(Z).forEach((X)=>{this.register(X,Z[X],$)})}else{const Z=arguments.length<=0?void 0:arguments[0],$=arguments.length<=1?void 0:arguments[1],J=!!(arguments.length<=2?void 0:arguments[2]);if(this.imports[Z]!=null&&!J)A4.warn(`Overwriting ${Z} with`,$);if(this.imports[Z]=$,(Z.startsWith("blots/")||Z.startsWith("formats/"))&&$&&typeof $!=="boolean"&&$.blotName!=="abstract")d$.register($);if(typeof $.register==="function")$.register(d$)}}constructor(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=pV(Z,$),this.container=this.options.container,this.container==null){A4.error("Invalid Quill container",Z);return}if(this.options.debug)f.debug(this.options.debug);const J=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",C7.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new d;const X=E7.blotName,K=this.options.registry.query(X);if(!K||!("blotName"in K))throw new Error(`Cannot initialize Quill without "${X}" blot`);if(this.scroll=new K(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Cz(this.scroll),this.selection=new Az(this.scroll,this.emitter),this.composition=new jz(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(d.events.EDITOR_CHANGE,(G)=>{if(G===d.events.TEXT_CHANGE)this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(d.events.SCROLL_UPDATE,(G,W)=>{const Y=this.selection.lastRange,[H]=this.selection.getRange(),Q=Y&&H?{oldRange:Y,newRange:H}:void 0;R5.call(this,()=>this.editor.update(null,W,Q),G)}),this.emitter.on(d.events.SCROLL_EMBED_UPDATE,(G,W)=>{const Y=this.selection.lastRange,[H]=this.selection.getRange(),Q=Y&&H?{oldRange:Y,newRange:H}:void 0;R5.call(this,()=>{const z=new v6.default().retain(G.offset(this)).retain({[G.statics.blotName]:W});return this.editor.update(z,[],Q)},f.sources.USER)}),J){const G=this.clipboard.convert({html:`${J}<p><br></p>`,text:"\n"});this.setContents(G)}if(this.history.clear(),this.options.placeholder)this.root.setAttribute("data-placeholder",this.options.placeholder);if(this.options.readOnly)this.disable();this.allowReadOnlyEdits=!1}addContainer(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof Z==="string"){const J=Z;Z=document.createElement("div"),Z.classList.add(J)}return this.container.insertBefore(Z,$),Z}blur(){this.selection.setRange(null)}deleteText(Z,$,J){return[Z,$,,J]=W6(Z,$,J),R5.call(this,()=>{return this.editor.deleteText(Z,$)},J,Z,-1*$)}disable(){this.enable(!1)}editReadOnly(Z){this.allowReadOnlyEdits=!0;const $=Z();return this.allowReadOnlyEdits=!1,$}enable(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(Z),this.container.classList.toggle("ql-disabled",!Z)}focus(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.selection.focus(),!Z.preventScroll)this.scrollSelectionIntoView()}format(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.sources.API;return R5.call(this,()=>{const X=this.getSelection(!0);let K=new v6.default;if(X==null)return K;if(this.scroll.query(Z,m.BLOCK))K=this.editor.formatLine(X.index,X.length,{[Z]:$});else if(X.length===0)return this.selection.format(Z,$),K;else K=this.editor.formatText(X.index,X.length,{[Z]:$});return this.setSelection(X,d.sources.SILENT),K},J)}formatLine(Z,$,J,X,K){let G;return[Z,$,G,K]=W6(Z,$,J,X,K),R5.call(this,()=>{return this.editor.formatLine(Z,$,G)},K,Z,0)}formatText(Z,$,J,X,K){let G;return[Z,$,G,K]=W6(Z,$,J,X,K),R5.call(this,()=>{return this.editor.formatText(Z,$,G)},K,Z,0)}getBounds(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J=null;if(typeof Z==="number")J=this.selection.getBounds(Z,$);else J=this.selection.getBounds(Z.index,Z.length);if(!J)return null;const X=this.container.getBoundingClientRect();return{bottom:J.bottom-X.top,height:J.height,left:J.left-X.left,right:J.right-X.left,top:J.top-X.top,width:J.width}}getContents(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Z;return[Z,$]=W6(Z,$),this.editor.getContents(Z,$)}getFormat(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(typeof Z==="number")return this.editor.getFormat(Z,$);return this.editor.getFormat(Z.index,Z.length)}getIndex(Z){return Z.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(Z){return this.scroll.leaf(Z)}getLine(Z){return this.scroll.line(Z)}getLines(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;if(typeof Z!=="number")return this.scroll.lines(Z.index,Z.length);return this.scroll.lines(Z,$)}getModule(Z){return this.theme.modules[Z]}getSelection(){if(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)this.focus();return this.update(),this.selection.getRange()[0]}getSemanticHTML(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1?arguments[1]:void 0;if(typeof Z==="number")$=$??this.getLength()-Z;return[Z,$]=W6(Z,$),this.editor.getHTML(Z,$)}getText(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1?arguments[1]:void 0;if(typeof Z==="number")$=$??this.getLength()-Z;return[Z,$]=W6(Z,$),this.editor.getText(Z,$)}hasFocus(){return this.selection.hasFocus()}insertEmbed(Z,$,J){let X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f.sources.API;return R5.call(this,()=>{return this.editor.insertEmbed(Z,$,J)},X,Z)}insertText(Z,$,J,X,K){let G;return[Z,,G,K]=W6(Z,0,J,X,K),R5.call(this,()=>{return this.editor.insertText(Z,$,G)},K,Z,$.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(Z,$,J){return[Z,$,,J]=W6(Z,$,J),R5.call(this,()=>{return this.editor.removeFormat(Z,$)},J,Z)}scrollRectIntoView(Z){xz(this.root,Z)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const Z=this.selection.lastRange,$=Z&&this.selection.getBounds(Z.index,Z.length);if($)this.scrollRectIntoView($)}setContents(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.sources.API;return R5.call(this,()=>{Z=new v6.default(Z);const J=this.getLength(),X=this.editor.deleteText(0,J),K=this.editor.insertContents(0,Z),G=this.editor.deleteText(this.getLength()-1,1);return X.compose(K).compose(G)},$)}setSelection(Z,$,J){if(Z==null)this.selection.setRange(null,$||f.sources.API);else if([Z,$,,J]=W6(Z,$,J),this.selection.setRange(new g1(Math.max(0,Z),$),J),J!==d.sources.SILENT)this.scrollSelectionIntoView()}setText(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.sources.API;const J=new v6.default().insert(Z);return this.setContents(J,$)}update(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.sources.USER;const $=this.scroll.update(Z);return this.selection.update(Z),$}updateContents(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.sources.API;return R5.call(this,()=>{return Z=new v6.default(Z),this.editor.applyDelta(Z)},$,!0)}}class gz extends M4{}var W5=gz;var Y5=f1(s1(),1);function pz(Z){return Z instanceof h0||Z instanceof U1}function mz(Z){return typeof Z.updateContent==="function"}function DX(Z,$,J){J.reduce((X,K)=>{const G=Y5.Op.length(K);let W=K.attributes||{};if(K.insert!=null){if(typeof K.insert==="string"){const Y=K.insert;Z.insertAt(X,Y);const[H]=Z.descendant(X1,X),Q=b1(H);W=Y5.AttributeMap.diff(Q,W)||{}}else if(typeof K.insert==="object"){const Y=Object.keys(K.insert)[0];if(Y==null)return X;if(Z.insertAt(X,Y,K.insert[Y]),Z.scroll.query(Y,m.INLINE)!=null){const[Q]=Z.descendant(X1,X),z=b1(Q);W=Y5.AttributeMap.diff(z,W)||{}}}}return Object.keys(W).forEach((Y)=>{Z.formatAt(X,G,Y,W[Y])}),X+G},$)}class uz extends E7{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=h0;static allowedChildren=[h0,U1,W5];constructor(Z,$,J){let{emitter:X}=J;super(Z,$);this.emitter=X,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(K)=>this.handleDragStart(K))}batchStart(){if(!Array.isArray(this.batch))this.batch=[]}batchEnd(){if(!this.batch)return;const Z=this.batch;this.batch=!1,this.update(Z)}emitMount(Z){this.emitter.emit(d.events.SCROLL_BLOT_MOUNT,Z)}emitUnmount(Z){this.emitter.emit(d.events.SCROLL_BLOT_UNMOUNT,Z)}emitEmbedUpdate(Z,$){this.emitter.emit(d.events.SCROLL_EMBED_UPDATE,Z,$)}deleteAt(Z,$){const[J,X]=this.line(Z),[K]=this.line(Z+$);if(super.deleteAt(Z,$),K!=null&&J!==K&&X>0){if(J instanceof U1||K instanceof U1){this.optimize();return}const G=K.children.head instanceof O1?null:K.children.head;J.moveChildren(K,G),J.remove()}this.optimize()}enable(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",Z?"true":"false")}formatAt(Z,$,J,X){super.formatAt(Z,$,J,X),this.optimize()}insertAt(Z,$,J){if(Z>=this.length())if(J==null||this.scroll.query($,m.BLOCK)==null){const X=this.scroll.create(this.statics.defaultChild.blotName);if(this.appendChild(X),J==null&&$.endsWith("\n"))X.insertAt(0,$.slice(0,-1),J);else X.insertAt(0,$,J)}else{const X=this.scroll.create($,J);this.appendChild(X)}else super.insertAt(Z,$,J);this.optimize()}insertBefore(Z,$){if(Z.statics.scope===m.INLINE_BLOT){const J=this.scroll.create(this.statics.defaultChild.blotName);J.appendChild(Z),super.insertBefore(J,$)}else super.insertBefore(Z,$)}insertContents(Z,$){const J=this.deltaToRenderBlocks($.concat(new Y5.default().insert("\n"))),X=J.pop();if(X==null)return;this.batchStart();const K=J.shift();if(K){const Y=K.type==="block"&&(K.delta.length()===0||!this.descendant(U1,Z)[0]&&Z<this.length()),H=K.type==="block"?K.delta:new Y5.default().insert({[K.key]:K.value});DX(this,Z,H);const Q=K.type==="block"?1:0,z=Z+H.length()+Q;if(Y)this.insertAt(z-1,"\n");const _=b1(this.line(Z)[0]),M=Y5.AttributeMap.diff(_,K.attributes)||{};Object.keys(M).forEach((U)=>{this.formatAt(z-1,1,U,M[U])}),Z=z}let[G,W]=this.children.find(Z);if(J.length){if(G)G=G.split(W),W=0;J.forEach((Y)=>{if(Y.type==="block"){const H=this.createBlock(Y.attributes,G||void 0);DX(H,0,Y.delta)}else{const H=this.create(Y.key,Y.value);this.insertBefore(H,G||void 0),Object.keys(Y.attributes).forEach((Q)=>{H.format(Q,Y.attributes[Q])})}})}if(X.type==="block"&&X.delta.length()){const Y=G?G.offset(G.scroll)+W:this.length();DX(this,Y,X.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(Z){const $=this.path(Z).pop();if(!$)return[null,-1];const[J,X]=$;return J instanceof X1?[J,X]:[null,-1]}line(Z){if(Z===this.length())return this.line(Z-1);return this.descendant(pz,Z)}lines(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const J=(X,K,G)=>{let W=[],Y=G;return X.children.forEachAt(K,G,(H,Q,z)=>{if(pz(H))W.push(H);else if(H instanceof M4)W=W.concat(J(H,Q,Y));Y-=z}),W};return J(this,Z,$)}optimize(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.batch)return;if(super.optimize(Z,$),Z.length>0)this.emitter.emit(d.events.SCROLL_OPTIMIZE,Z,$)}path(Z){return super.path(Z).slice(1)}remove(){}update(Z){if(this.batch){if(Array.isArray(Z))this.batch=this.batch.concat(Z);return}let $=d.sources.USER;if(typeof Z==="string")$=Z;if(!Array.isArray(Z))Z=this.observer.takeRecords();if(Z=Z.filter((J)=>{let{target:X}=J;const K=this.find(X,!0);return K&&!mz(K)}),Z.length>0)this.emitter.emit(d.events.SCROLL_BEFORE_UPDATE,$,Z);if(super.update(Z.concat([])),Z.length>0)this.emitter.emit(d.events.SCROLL_UPDATE,$,Z)}updateEmbedAt(Z,$,J){const[X]=this.descendant((K)=>K instanceof U1,Z);if(X&&X.statics.blotName===$&&mz(X))X.updateContent(J)}handleDragStart(Z){Z.preventDefault()}deltaToRenderBlocks(Z){const $=[];let J=new Y5.default;if(Z.forEach((X)=>{const K=X?.insert;if(!K)return;if(typeof K==="string"){const G=K.split("\n");G.slice(0,-1).forEach((Y)=>{J.insert(Y,X.attributes),$.push({type:"block",delta:J,attributes:X.attributes??{}}),J=new Y5.default});const W=G[G.length-1];if(W)J.insert(W,X.attributes)}else{const G=Object.keys(K)[0];if(!G)return;if(this.query(G,m.INLINE))J.push(X);else{if(J.length())$.push({type:"block",delta:J,attributes:{}});J=new Y5.default,$.push({type:"blockEmbed",key:G,value:K[G],attributes:X.attributes??{}})}}}),J.length())$.push({type:"block",delta:J,attributes:{}});return $}createBlock(Z,$){let J;const X={};Object.entries(Z).forEach((W)=>{let[Y,H]=W;if(this.query(Y,m.BLOCK&m.BLOT)!=null)J=Y;else X[Y]=H});const K=this.create(J||this.statics.defaultChild.blotName,J?Z[J]:void 0);this.insertBefore(K,$||void 0);const G=K.length();return Object.entries(X).forEach((W)=>{let[Y,H]=W;K.formatAt(0,G,Y,H)}),K}}var dz=uz;var p1=f1(s1(),1);var IX={scope:m.BLOCK,whitelist:["right","center","justify"]},cz=new k1("align","align",IX),CX=new J1("align","ql-align",IX),c$=new y1("align","text-align",IX);class l$ extends y1{value(Z){let $=super.value(Z);if(!$.startsWith("rgb("))return $;return $=$.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${$.split(",").map((X)=>`00${parseInt(X,10).toString(16)}`.slice(-2)).join("")}`}}var lz=new J1("color","ql-color",{scope:m.INLINE}),f7=new l$("color","color",{scope:m.INLINE});var iz=new J1("background","ql-bg",{scope:m.INLINE}),T7=new l$("background","background-color",{scope:m.INLINE});class Y6 extends W5{static create(Z){const $=super.create(Z);return $.setAttribute("spellcheck","false"),$}code(Z,$){return this.children.map((J)=>J.length()<=1?"":J.domNode.innerText).join("\n").slice(Z,Z+$)}html(Z,$){return`<pre>\n${E8(this.code(Z,$))}\n</pre>`}}class H1 extends h0{static TAB="  ";static register(){f.register(Y6)}}class j7 extends P1{}j7.blotName="code";j7.tagName="CODE";H1.blotName="code-block";H1.className="ql-code-block";H1.tagName="DIV";Y6.blotName="code-block-container";Y6.className="ql-code-block-container";Y6.tagName="DIV";Y6.allowedChildren=[H1];H1.allowedChildren=[K1,O1,x6];H1.requiredContainer=Y6;var SX={scope:m.BLOCK,whitelist:["rtl"]},i$=new k1("direction","dir",SX),fX=new J1("direction","ql-direction",SX),s$=new y1("direction","direction",SX);var sz={scope:m.INLINE,whitelist:["serif","monospace"]},TX=new J1("font","ql-font",sz);class nz extends y1{value(Z){return super.value(Z).replace(/["']/g,"")}}var n$=new nz("font","font-family",sz);var jX=new J1("size","ql-size",{scope:m.INLINE,whitelist:["small","large","huge"]}),o$=new y1("size","font-size",{scope:m.INLINE,whitelist:["10px","18px","32px"]});var L1=f1(s1(),1);function oz(Z){return{key:"Tab",shiftKey:!Z,format:{"code-block":!0},handler($,J){let{event:X}=J;const K=this.quill.scroll.query("code-block"),{TAB:G}=K;if($.length===0&&!X.shiftKey){this.quill.insertText($.index,G,f.sources.USER),this.quill.setSelection($.index+G.length,f.sources.SILENT);return}const W=$.length===0?this.quill.getLines($.index,1):this.quill.getLines($);let{index:Y,length:H}=$;W.forEach((Q,z)=>{if(Z)if(Q.insertAt(0,G),z===0)Y+=G.length;else H+=G.length;else if(Q.domNode.textContent.startsWith(G))if(Q.deleteAt(0,G.length),z===0)Y-=G.length;else H-=G.length}),this.quill.update(f.sources.USER),this.quill.setSelection(Y,H,f.sources.SILENT)}}}function r$(Z,$){return{key:Z,shiftKey:$,altKey:null,[Z==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(X){let{index:K}=X;if(Z==="ArrowRight")K+=X.length+1;const[G]=this.quill.getLeaf(K);if(!(G instanceof u0))return!0;if(Z==="ArrowLeft")if($)this.quill.setSelection(X.index-1,X.length+1,f.sources.USER);else this.quill.setSelection(X.index-1,f.sources.USER);else if($)this.quill.setSelection(X.index,X.length+1,f.sources.USER);else this.quill.setSelection(X.index+X.length+1,f.sources.USER);return!1}}}function hX(Z){return{key:Z[0],shortKey:!0,handler($,J){this.quill.format(Z,!J.format[Z],f.sources.USER)}}}function rz(Z){return{key:Z?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler($,J){const X=Z?"prev":"next",K=J.line,G=K.parent[X];if(G!=null){if(G.statics.blotName==="table-row"){let W=G.children.head,Y=K;while(Y.prev!=null)Y=Y.prev,W=W.next;const H=W.offset(this.quill.scroll)+Math.min(J.offset,W.length()-1);this.quill.setSelection(H,0,f.sources.USER)}}else{const W=K.table()[X];if(W!=null)if(Z)this.quill.setSelection(W.offset(this.quill.scroll)+W.length()-1,0,f.sources.USER);else this.quill.setSelection(W.offset(this.quill.scroll),0,f.sources.USER)}return!1}}}function cV(Z){if(typeof Z==="string"||typeof Z==="number")Z={key:Z};else if(typeof Z==="object")Z=v5(Z);else return null;if(Z.shortKey)Z[uV]=Z.shortKey,delete Z.shortKey;return Z}function x7(Z){let{quill:$,range:J}=Z;const X=$.getLines(J);let K={};if(X.length>1){const G=X[0].formats(),W=X[X.length-1].formats();K=L1.AttributeMap.diff(W,G)||{}}if($.deleteText(J,f.sources.USER),Object.keys(K).length>0)$.formatLine(J.index,1,K,f.sources.USER);$.setSelection(J.index,f.sources.SILENT)}function lV(Z,$,J,X){if($.prev==null&&$.next==null){if(J.prev==null&&J.next==null)return X===0?-1:1;return J.prev==null?-1:1}if($.prev==null)return-1;if($.next==null)return 1;return null}var mV=n1("quill:keyboard"),uV=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class h7 extends i0{static match(Z,$){if(["altKey","ctrlKey","metaKey","shiftKey"].some((J)=>{return!!$[J]!==Z[J]&&$[J]!==null}))return!1;return $.key===Z.key||$.key===Z.which}constructor(Z,$){super(Z,$);if(this.bindings={},Object.keys(this.options.bindings).forEach((J)=>{if(this.options.bindings[J])this.addBinding(this.options.bindings[J])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent))this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete);else this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete);this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const X=cV(Z);if(X==null){mV.warn("Attempted to add invalid keyboard binding",X);return}if(typeof $==="function")$={handler:$};if(typeof J==="function")J={handler:J};(Array.isArray(X.key)?X.key:[X.key]).forEach((G)=>{const W={...X,key:G,...$,...J};this.bindings[W.key]=this.bindings[W.key]||[],this.bindings[W.key].push(W)})}listen(){this.quill.root.addEventListener("keydown",(Z)=>{if(Z.defaultPrevented||Z.isComposing)return;if(Z.keyCode===229&&(Z.key==="Enter"||Z.key==="Backspace"))return;const X=(this.bindings[Z.key]||[]).concat(this.bindings[Z.which]||[]).filter((F)=>h7.match(Z,F));if(X.length===0)return;const K=f.find(Z.target,!0);if(K&&K.scroll!==this.quill.scroll)return;const G=this.quill.getSelection();if(G==null||!this.quill.hasFocus())return;const[W,Y]=this.quill.getLine(G.index),[H,Q]=this.quill.getLeaf(G.index),[z,_]=G.length===0?[H,Q]:this.quill.getLeaf(G.index+G.length),M=H instanceof q4?H.value().slice(0,Q):"",U=z instanceof q4?z.value().slice(_):"",R={collapsed:G.length===0,empty:G.length===0&&W.length()<=1,format:this.quill.getFormat(G),line:W,offset:Y,prefix:M,suffix:U,event:Z};if(X.some((F)=>{if(F.collapsed!=null&&F.collapsed!==R.collapsed)return!1;if(F.empty!=null&&F.empty!==R.empty)return!1;if(F.offset!=null&&F.offset!==R.offset)return!1;if(Array.isArray(F.format)){if(F.format.every((q)=>R.format[q]==null))return!1}else if(typeof F.format==="object"){if(!Object.keys(F.format).every((q)=>{if(F.format[q]===!0)return R.format[q]!=null;if(F.format[q]===!1)return R.format[q]==null;return Y8(F.format[q],R.format[q])}))return!1}if(F.prefix!=null&&!F.prefix.test(R.prefix))return!1;if(F.suffix!=null&&!F.suffix.test(R.suffix))return!1;return F.handler.call(this,G,R,F)!==!0}))Z.preventDefault()})}handleBackspace(Z,$){const J=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test($.prefix)?2:1;if(Z.index===0||this.quill.getLength()<=1)return;let X={};const[K]=this.quill.getLine(Z.index);let G=new L1.default().retain(Z.index-J).delete(J);if($.offset===0){const[W]=this.quill.getLine(Z.index-1);if(W){if(!(W.statics.blotName==="block"&&W.length()<=1)){const H=K.formats(),Q=this.quill.getFormat(Z.index-1,1);if(X=L1.AttributeMap.diff(H,Q)||{},Object.keys(X).length>0){const z=new L1.default().retain(Z.index+K.length()-2).retain(1,X);G=G.compose(z)}}}}this.quill.updateContents(G,f.sources.USER),this.quill.focus()}handleDelete(Z,$){const J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test($.suffix)?2:1;if(Z.index>=this.quill.getLength()-J)return;let X={};const[K]=this.quill.getLine(Z.index);let G=new L1.default().retain(Z.index).delete(J);if($.offset>=K.length()-1){const[W]=this.quill.getLine(Z.index+1);if(W){const Y=K.formats(),H=this.quill.getFormat(Z.index,1);if(X=L1.AttributeMap.diff(Y,H)||{},Object.keys(X).length>0)G=G.retain(W.length()-1).retain(1,X)}}this.quill.updateContents(G,f.sources.USER),this.quill.focus()}handleDeleteRange(Z){x7({range:Z,quill:this.quill}),this.quill.focus()}handleEnter(Z,$){const J=Object.keys($.format).reduce((K,G)=>{if(this.quill.scroll.query(G,m.BLOCK)&&!Array.isArray($.format[G]))K[G]=$.format[G];return K},{}),X=new L1.default().retain(Z.index).delete(Z.length).insert("\n",J);this.quill.updateContents(X,f.sources.USER),this.quill.setSelection(Z.index+1,f.sources.SILENT),this.quill.focus()}}var dV={bindings:{bold:hX("bold"),italic:hX("italic"),underline:hX("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(Z,$){if($.collapsed&&$.offset!==0)return!0;return this.quill.format("indent","+1",f.sources.USER),!1}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(Z,$){if($.collapsed&&$.offset!==0)return!0;return this.quill.format("indent","-1",f.sources.USER),!1}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(Z,$){if($.format.indent!=null)this.quill.format("indent","-1",f.sources.USER);else if($.format.list!=null)this.quill.format("list",!1,f.sources.USER)}},"indent code-block":oz(!0),"outdent code-block":oz(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(Z){this.quill.deleteText(Z.index-1,1,f.sources.USER)}},tab:{key:"Tab",handler(Z,$){if($.format.table)return!0;this.quill.history.cutoff();const J=new L1.default().retain(Z.index).delete(Z.length).insert("\t");return this.quill.updateContents(J,f.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,f.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,f.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(Z,$){const J={list:!1};if($.format.indent)J.indent=!1;this.quill.formatLine(Z.index,Z.length,J,f.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(Z){const[$,J]=this.quill.getLine(Z.index),X={...$.formats(),list:"checked"},K=new L1.default().retain(Z.index).insert("\n",X).retain($.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(K,f.sources.USER),this.quill.setSelection(Z.index+1,f.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(Z,$){const[J,X]=this.quill.getLine(Z.index),K=new L1.default().retain(Z.index).insert("\n",$.format).retain(J.length()-X-1).retain(1,{header:null});this.quill.updateContents(K,f.sources.USER),this.quill.setSelection(Z.index+1,f.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(Z){const $=this.quill.getModule("table");if($){const[J,X,K,G]=$.getTable(Z),W=lV(J,X,K,G);if(W==null)return;let Y=J.offset();if(W<0){const H=new L1.default().retain(Y).insert("\n");this.quill.updateContents(H,f.sources.USER),this.quill.setSelection(Z.index+1,Z.length,f.sources.SILENT)}else if(W>0){Y+=J.length();const H=new L1.default().retain(Y).insert("\n");this.quill.updateContents(H,f.sources.USER),this.quill.setSelection(Y,f.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(Z,$){const{event:J,line:X}=$,K=X.offset(this.quill.scroll);if(J.shiftKey)this.quill.setSelection(K-1,f.sources.USER);else this.quill.setSelection(K+X.length(),f.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(Z,$){if(this.quill.scroll.query("list")==null)return!0;const{length:J}=$.prefix,[X,K]=this.quill.getLine(Z.index);if(K>J)return!0;let G;switch($.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(Z.index," ",f.sources.USER),this.quill.history.cutoff();const W=new L1.default().retain(Z.index-K).delete(J+1).retain(X.length()-2-K).retain(1,{list:G});return this.quill.updateContents(W,f.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-J,f.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(Z){const[$,J]=this.quill.getLine(Z.index);let X=2,K=$;while(K!=null&&K.length()<=1&&K.formats()["code-block"])if(K=K.prev,X-=1,X<=0){const G=new L1.default().retain(Z.index+$.length()-J-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(G,f.sources.USER),this.quill.setSelection(Z.index-1,f.sources.SILENT),!1}return!0}},"embed left":r$("ArrowLeft",!1),"embed left shift":r$("ArrowLeft",!0),"embed right":r$("ArrowRight",!1),"embed right shift":r$("ArrowRight",!0),"table down":rz(!1),"table up":rz(!0)}};h7.DEFAULTS=dV;var iV=/font-weight:\s*normal/,sV=["P","OL","UL"],az=(Z)=>{return Z&&sV.includes(Z.tagName)},nV=(Z)=>{Array.from(Z.querySelectorAll("br")).filter(($)=>az($.previousElementSibling)&&az($.nextElementSibling)).forEach(($)=>{$.parentNode?.removeChild($)})},oV=(Z)=>{Array.from(Z.querySelectorAll('b[style*="font-weight"]')).filter(($)=>$.getAttribute("style")?.match(iV)).forEach(($)=>{const J=Z.createDocumentFragment();J.append(...$.childNodes),$.parentNode?.replaceChild(J,$)})};function xX(Z){if(Z.querySelector('[id^="docs-internal-guid-"]'))oV(Z),nV(Z)}var rV=/\bmso-list:[^;]*ignore/i,aV=/\bmso-list:[^;]*\bl(\d+)/i,tV=/\bmso-list:[^;]*\blevel(\d+)/i,eV=(Z,$)=>{const J=Z.getAttribute("style"),X=J?.match(aV);if(!X)return null;const K=Number(X[1]),G=J?.match(tV),W=G?Number(G[1]):1,Y=new RegExp(`@list l${K}:level${W}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),H=$.match(Y),Q=H&&H[1]==="bullet"?"bullet":"ordered";return{id:K,indent:W,type:Q,element:Z}},ZL=(Z)=>{const $=Array.from(Z.querySelectorAll("[style*=mso-list]")),J=[],X=[];$.forEach((W)=>{if((W.getAttribute("style")||"").match(rV))J.push(W);else X.push(W)}),J.forEach((W)=>W.parentNode?.removeChild(W));const K=Z.documentElement.innerHTML,G=X.map((W)=>eV(W,K)).filter((W)=>W);while(G.length){const W=[];let Y=G.shift();while(Y)W.push(Y),Y=G.length&&G[0]?.element===Y.element.nextElementSibling&&G[0].id===Y.id?G.shift():null;const H=document.createElement("ul");W.forEach((_)=>{const M=document.createElement("li");if(M.setAttribute("data-list",_.type),_.indent>1)M.setAttribute("class",`ql-indent-${_.indent-1}`);M.innerHTML=_.element.innerHTML,H.appendChild(M)});const Q=W[0]?.element,{parentNode:z}=Q??{};if(Q)z?.replaceChild(H,Q);W.slice(1).forEach((_)=>{let{element:M}=_;z?.removeChild(M)})}};function vX(Z){if(Z.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word")ZL(Z)}var $L=[vX,xX],JL=(Z)=>{if(Z.documentElement)$L.forEach(($)=>{$(Z)})},tz=JL;function O8(Z,$,J,X){if(!X.query($))return Z;return Z.reduce((K,G)=>{if(!G.insert)return K;if(G.attributes&&G.attributes[$])return K.push(G);const W=J?{[$]:J}:{};return K.insert(G.insert,{...W,...G.attributes})},new p1.default)}function v7(Z,$){let J="";for(let X=Z.ops.length-1;X>=0&&J.length<$.length;--X){const K=Z.ops[X];if(typeof K.insert!=="string")break;J=K.insert+J}return J.slice(-1*$.length)===$}function k6(Z,$){if(!(Z instanceof Element))return!1;const J=$.query(Z);if(J&&J.prototype instanceof u0)return!1;return["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(Z.tagName.toLowerCase())}function WL(Z,$){return Z.previousElementSibling&&Z.nextElementSibling&&!k6(Z.previousElementSibling,$)&&!k6(Z.nextElementSibling,$)}function $_(Z){if(Z==null)return!1;if(!a$.has(Z))if(Z.tagName==="PRE")a$.set(Z,!0);else a$.set(Z,$_(Z.parentNode));return a$.get(Z)}function t$(Z,$,J,X,K){if($.nodeType===$.TEXT_NODE)return X.reduce((G,W)=>{return W($,G,Z)},new p1.default);if($.nodeType===$.ELEMENT_NODE)return Array.from($.childNodes||[]).reduce((G,W)=>{let Y=t$(Z,W,J,X,K);if(W.nodeType===$.ELEMENT_NODE)Y=J.reduce((H,Q)=>{return Q(W,H,Z)},Y),Y=(K.get(W)||[]).reduce((H,Q)=>{return Q(W,H,Z)},Y);return G.concat(Y)},new p1.default);return new p1.default}function kX(Z){return($,J,X)=>{return O8(J,Z,!0,X)}}function YL(Z,$,J){const X=k1.keys(Z),K=J1.keys(Z),G=y1.keys(Z),W={};return X.concat(K).concat(G).forEach((Y)=>{let H=J.query(Y,m.ATTRIBUTE);if(H!=null){if(W[H.attrName]=H.value(Z),W[H.attrName])return}if(H=GL[Y],H!=null&&(H.attrName===Y||H.keyName===Y))W[H.attrName]=H.value(Z)||void 0;if(H=ez[Y],H!=null&&(H.attrName===Y||H.keyName===Y))H=ez[Y],W[H.attrName]=H.value(Z)||void 0}),Object.entries(W).reduce((Y,H)=>{let[Q,z]=H;return O8(Y,Q,z,J)},$)}function HL(Z,$,J){const X=J.query(Z);if(X==null)return $;if(X.prototype instanceof u0){const K={},G=X.value(Z);if(G!=null)return K[X.blotName]=G,new p1.default().insert(K,X.formats(Z,J))}else{if(X.prototype instanceof Q8&&!v7($,"\n"))$.insert("\n");if("blotName"in X&&"formats"in X&&typeof X.formats==="function")return O8($,X.blotName,X.formats(Z,J),J)}return $}function QL(Z,$){if(!v7($,"\n"))$.insert("\n");return $}function zL(Z,$,J){const X=J.query("code-block"),K=X&&"formats"in X&&typeof X.formats==="function"?X.formats(Z,J):!0;return O8($,"code-block",K,J)}function _L(){return new p1.default}function ML(Z,$,J){const X=J.query(Z);if(X==null||X.blotName!=="list"||!v7($,"\n"))return $;let K=-1,G=Z.parentNode;while(G!=null){if(["OL","UL"].includes(G.tagName))K+=1;G=G.parentNode}if(K<=0)return $;return $.reduce((W,Y)=>{if(!Y.insert)return W;if(Y.attributes&&typeof Y.attributes.indent==="number")return W.push(Y);return W.insert(Y.insert,{indent:K,...Y.attributes||{}})},new p1.default)}function qL(Z,$,J){const X=Z;let K=X.tagName==="OL"?"ordered":"bullet";const G=X.getAttribute("data-checked");if(G)K=G==="true"?"checked":"unchecked";return O8($,"list",K,J)}function Z_(Z,$,J){if(!v7($,"\n")){if(k6(Z,J)&&(Z.childNodes.length>0||Z instanceof HTMLParagraphElement))return $.insert("\n");if($.length()>0&&Z.nextSibling){let X=Z.nextSibling;while(X!=null){if(k6(X,J))return $.insert("\n");const K=J.query(X);if(K&&K.prototype instanceof U1)return $.insert("\n");X=X.firstChild}}}return $}function UL(Z,$,J){const X={},K=Z.style||{};if(K.fontStyle==="italic")X.italic=!0;if(K.textDecoration==="underline")X.underline=!0;if(K.textDecoration==="line-through")X.strike=!0;if(K.fontWeight?.startsWith("bold")||parseInt(K.fontWeight,10)>=700)X.bold=!0;if($=Object.entries(X).reduce((G,W)=>{let[Y,H]=W;return O8(G,Y,H,J)},$),parseFloat(K.textIndent||0)>0)return new p1.default().insert("\t").concat($);return $}function FL(Z,$,J){const X=Z.parentElement?.tagName==="TABLE"?Z.parentElement:Z.parentElement?.parentElement;if(X!=null){const G=Array.from(X.querySelectorAll("tr")).indexOf(Z)+1;return O8($,"table",G,J)}return $}function NL(Z,$,J){let X=Z.data;if(Z.parentElement?.tagName==="O:P")return $.insert(X.trim());if(!$_(Z)){if(X.trim().length===0&&X.includes("\n")&&!WL(Z,J))return $;const K=(G,W)=>{const Y=W.replace(/[^\u00a0]/g,"");return Y.length<1&&G?" ":Y};if(X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,K.bind(K,!0)),Z.previousSibling==null&&Z.parentElement!=null&&k6(Z.parentElement,J)||Z.previousSibling instanceof Element&&k6(Z.previousSibling,J))X=X.replace(/^\s+/,K.bind(K,!1));if(Z.nextSibling==null&&Z.parentElement!=null&&k6(Z.parentElement,J)||Z.nextSibling instanceof Element&&k6(Z.nextSibling,J))X=X.replace(/\s+$/,K.bind(K,!1))}return $.insert(X)}var XL=n1("quill:clipboard"),KL=[[Node.TEXT_NODE,NL],[Node.TEXT_NODE,Z_],["br",QL],[Node.ELEMENT_NODE,Z_],[Node.ELEMENT_NODE,HL],[Node.ELEMENT_NODE,YL],[Node.ELEMENT_NODE,UL],["li",ML],["ol, ul",qL],["pre",zL],["tr",FL],["b",kX("bold")],["i",kX("italic")],["strike",kX("strike")],["style",_L]],GL=[cz,i$].reduce((Z,$)=>{return Z[$.keyName]=$,Z},{}),ez=[c$,T7,f7,s$,n$,o$].reduce((Z,$)=>{return Z[$.keyName]=$,Z},{});class yX extends i0{static DEFAULTS={matchers:[]};constructor(Z,$){super(Z,$);this.quill.root.addEventListener("copy",(J)=>this.onCaptureCopy(J,!1)),this.quill.root.addEventListener("cut",(J)=>this.onCaptureCopy(J,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],KL.concat(this.options.matchers??[]).forEach((J)=>{let[X,K]=J;this.addMatcher(X,K)})}addMatcher(Z,$){this.matchers.push([Z,$])}convert(Z){let{html:$,text:J}=Z,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X[H1.blotName])return new p1.default().insert(J||"",{[H1.blotName]:X[H1.blotName]});if(!$)return new p1.default().insert(J||"",X);const K=this.convertHTML($);if(v7(K,"\n")&&(K.ops[K.ops.length-1].attributes==null||X.table))return K.compose(new p1.default().retain(K.length()-1).delete(1));return K}normalizeHTML(Z){tz(Z)}convertHTML(Z){const $=new DOMParser().parseFromString(Z,"text/html");this.normalizeHTML($);const J=$.body,X=new WeakMap,[K,G]=this.prepareMatching(J,X);return t$(this.quill.scroll,J,K,G,X)}dangerouslyPasteHTML(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.sources.API;if(typeof Z==="string"){const X=this.convert({html:Z,text:""});this.quill.setContents(X,$),this.quill.setSelection(0,f.sources.SILENT)}else{const X=this.convert({html:$,text:""});this.quill.updateContents(new p1.default().retain(Z).concat(X),J),this.quill.setSelection(Z+X.length(),f.sources.SILENT)}}onCaptureCopy(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z.defaultPrevented)return;Z.preventDefault();const[J]=this.quill.selection.getRange();if(J==null)return;const{html:X,text:K}=this.onCopy(J,$);if(Z.clipboardData?.setData("text/plain",K),Z.clipboardData?.setData("text/html",X),$)x7({range:J,quill:this.quill})}normalizeURIList(Z){return Z.split(/\r?\n/).filter(($)=>$[0]!=="#").join("\n")}onCapturePaste(Z){if(Z.defaultPrevented||!this.quill.isEnabled())return;Z.preventDefault();const $=this.quill.getSelection(!0);if($==null)return;const J=Z.clipboardData?.getData("text/html");let X=Z.clipboardData?.getData("text/plain");if(!J&&!X){const G=Z.clipboardData?.getData("text/uri-list");if(G)X=this.normalizeURIList(G)}const K=Array.from(Z.clipboardData?.files||[]);if(!J&&K.length>0){this.quill.uploader.upload($,K);return}if(J&&K.length>0){const G=new DOMParser().parseFromString(J,"text/html");if(G.body.childElementCount===1&&G.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload($,K);return}}this.onPaste($,{html:J,text:X})}onCopy(Z){const $=this.quill.getText(Z);return{html:this.quill.getSemanticHTML(Z),text:$}}onPaste(Z,$){let{text:J,html:X}=$;const K=this.quill.getFormat(Z.index),G=this.convert({text:J,html:X},K);XL.log("onPaste",G,{text:J,html:X});const W=new p1.default().retain(Z.index).delete(Z.length).concat(G);this.quill.updateContents(W,f.sources.USER),this.quill.setSelection(W.length()-Z.length,f.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(Z,$){const J=[],X=[];return this.matchers.forEach((K)=>{const[G,W]=K;switch(G){case Node.TEXT_NODE:X.push(W);break;case Node.ELEMENT_NODE:J.push(W);break;default:Array.from(Z.querySelectorAll(G)).forEach((Y)=>{if($.has(Y))$.get(Y)?.push(W);else $.set(Y,[W])});break}}),[J,X]}}var a$=new WeakMap;function J_(Z,$){let J=$;for(let X=Z.length-1;X>=0;X-=1){const K=Z[X];if(Z[X]={delta:J.transform(K.delta,!0),range:K.range&&bX(K.range,J)},J=K.delta.transform(J),Z[X].delta.length()===0)Z.splice(X,1)}}function RL(Z,$){const J=$.ops[$.ops.length-1];if(J==null)return!1;if(J.insert!=null)return typeof J.insert==="string"&&J.insert.endsWith("\n");if(J.attributes!=null)return Object.keys(J.attributes).some((X)=>{return Z.query(X,m.BLOCK)!=null});return!1}function EL(Z,$){const J=$.reduce((K,G)=>{return K+(G.delete||0)},0);let X=$.length()-J;if(RL(Z,$))X-=1;return X}function bX(Z,$){if(!Z)return Z;const J=$.transformPosition(Z.index),X=$.transformPosition(Z.index+Z.length);return{index:J,length:X-J}}class gX extends i0{static DEFAULTS={delay:1000,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(Z,$){super(Z,$);if(this.quill.on(f.events.EDITOR_CHANGE,(J,X,K,G)=>{if(J===f.events.SELECTION_CHANGE){if(X&&G!==f.sources.SILENT)this.currentRange=X}else if(J===f.events.TEXT_CHANGE){if(!this.ignoreChange)if(!this.options.userOnly||G===f.sources.USER)this.record(X,K);else this.transform(X);this.currentRange=bX(this.currentRange,X)}}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform))this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this));this.quill.root.addEventListener("beforeinput",(J)=>{if(J.inputType==="historyUndo")this.undo(),J.preventDefault();else if(J.inputType==="historyRedo")this.redo(),J.preventDefault()})}change(Z,$){if(this.stack[Z].length===0)return;const J=this.stack[Z].pop();if(!J)return;const X=this.quill.getContents(),K=J.delta.invert(X);this.stack[$].push({delta:K,range:bX(J.range,K)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(J.delta,f.sources.USER),this.ignoreChange=!1,this.restoreSelection(J)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(Z,$){if(Z.ops.length===0)return;this.stack.redo=[];let J=Z.invert($),X=this.currentRange;const K=Date.now();if(this.lastRecorded+this.options.delay>K&&this.stack.undo.length>0){const G=this.stack.undo.pop();if(G)J=J.compose(G.delta),X=G.range}else this.lastRecorded=K;if(J.length()===0)return;if(this.stack.undo.push({delta:J,range:X}),this.stack.undo.length>this.options.maxStack)this.stack.undo.shift()}redo(){this.change("redo","undo")}transform(Z){J_(this.stack.undo,Z),J_(this.stack.redo,Z)}undo(){this.change("undo","redo")}restoreSelection(Z){if(Z.range)this.quill.setSelection(Z.range,f.sources.USER);else{const $=EL(this.quill.scroll,Z.delta);this.quill.setSelection($,f.sources.USER)}}}var X_=f1(s1(),1);class pX extends i0{constructor(Z,$){super(Z,$);Z.root.addEventListener("drop",(J)=>{J.preventDefault();let X=null;if(document.caretRangeFromPoint)X=document.caretRangeFromPoint(J.clientX,J.clientY);else if(document.caretPositionFromPoint){const G=document.caretPositionFromPoint(J.clientX,J.clientY);X=document.createRange(),X.setStart(G.offsetNode,G.offset),X.setEnd(G.offsetNode,G.offset)}const K=X&&Z.selection.normalizeNative(X);if(K){const G=Z.selection.normalizedToRange(K);if(J.dataTransfer?.files)this.upload(G,J.dataTransfer.files)}})}upload(Z,$){const J=[];if(Array.from($).forEach((X)=>{if(X&&this.options.mimetypes?.includes(X.type))J.push(X)}),J.length>0)this.options.handler.call(this,Z,J)}}pX.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(Z,$){if(!this.quill.scroll.query("image"))return;const J=$.map((X)=>{return new Promise((K)=>{const G=new FileReader;G.onload=()=>{K(G.result)},G.readAsDataURL(X)})});Promise.all(J).then((X)=>{const K=X.reduce((G,W)=>{return G.insert({image:W})},new X_.default().retain(Z.index).delete(Z.length));this.quill.updateContents(K,d.sources.USER),this.quill.setSelection(Z.index+X.length,d.sources.SILENT)})}};var K_=pX;var e$=f1(s1(),1);var G_=f1(s1(),1);function PL(Z){if(typeof Z.data==="string")return Z.data;if(Z.dataTransfer?.types.includes("text/plain"))return Z.dataTransfer.getData("text/plain");return null}var OL=["insertText","insertReplacementText"];class W_ extends i0{constructor(Z,$){super(Z,$);if(Z.root.addEventListener("beforeinput",(J)=>{this.handleBeforeInput(J)}),!/Android/i.test(navigator.userAgent))Z.on(f.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(Z){x7({range:Z,quill:this.quill})}replaceText(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(Z.length===0)return!1;if($){const J=this.quill.getFormat(Z.index,1);this.deleteRange(Z),this.quill.updateContents(new G_.default().retain(Z.index).insert($,J),f.sources.USER)}else this.deleteRange(Z);return this.quill.setSelection(Z.index+$.length,0,f.sources.SILENT),!0}handleBeforeInput(Z){if(this.quill.composition.isComposing||Z.defaultPrevented||!OL.includes(Z.inputType))return;const $=Z.getTargetRanges?Z.getTargetRanges()[0]:null;if(!$||$.collapsed===!0)return;const J=PL(Z);if(J==null)return;const X=this.quill.selection.normalizeNative($),K=X?this.quill.selection.normalizedToRange(X):null;if(K&&this.replaceText(K,J))Z.preventDefault()}handleCompositionStart(){const Z=this.quill.getSelection();if(Z)this.replaceText(Z)}}var Y_=W_;var VL=/Mac/i.test(navigator.platform),LL=100,wL=(Z)=>{if(Z.key==="ArrowLeft"||Z.key==="ArrowRight"||Z.key==="ArrowUp"||Z.key==="ArrowDown"||Z.key==="Home")return!0;if(VL&&Z.key==="a"&&Z.ctrlKey===!0)return!0;return!1};class H_ extends i0{isListening=!1;selectionChangeDeadline=0;constructor(Z,$){super(Z,$);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(Z,$){let{line:J,event:X}=$;if(!(J instanceof v1)||!J.uiNode)return!0;const K=getComputedStyle(J.domNode).direction==="rtl";if(K&&X.key!=="ArrowRight"||!K&&X.key!=="ArrowLeft")return!0;return this.quill.setSelection(Z.index-1,Z.length+(X.shiftKey?1:0),f.sources.USER),!1}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(Z)=>{if(!Z.defaultPrevented&&wL(Z))this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+LL,this.isListening)return;this.isListening=!0;const Z=()=>{if(this.isListening=!1,Date.now()<=this.selectionChangeDeadline)this.handleSelectionChange()};document.addEventListener("selectionchange",Z,{once:!0})}handleSelectionChange(){const Z=document.getSelection();if(!Z)return;const $=Z.getRangeAt(0);if($.collapsed!==!0||$.startOffset!==0)return;const J=this.quill.scroll.find($.startContainer);if(!(J instanceof v1)||!J.uiNode)return;const X=document.createRange();X.setStartAfter(J.uiNode),X.setEndAfter(J.uiNode),Z.removeAllRanges(),Z.addRange(X)}}var Q_=H_;f.register({"blots/block":h0,"blots/block/embed":U1,"blots/break":O1,"blots/container":W5,"blots/cursor":x6,"blots/embed":L4,"blots/inline":P1,"blots/scroll":dz,"blots/text":K1,"modules/clipboard":yX,"modules/history":gX,"modules/keyboard":h7,"modules/uploader":K_,"modules/input":Y_,"modules/uiNode":Q_});var Z9=f;class z_ extends J1{add(Z,$){let J=0;if($==="+1"||$==="-1"){const X=this.value(Z)||0;J=$==="+1"?X+1:X-1}else if(typeof $==="number")J=$;if(J===0)return this.remove(Z),!0;return super.add(Z,J.toString())}canAdd(Z,$){return super.canAdd(Z,$)||super.canAdd(Z,parseInt($,10))}value(Z){return parseInt(super.value(Z),10)||void 0}}var AL=new z_("indent","ql-indent",{scope:m.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),__=AL;class M_ extends h0{static blotName="blockquote";static tagName="blockquote"}var q_=M_;class U_ extends h0{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(Z){return this.tagName.indexOf(Z.tagName)+1}}var F_=U_;class B4 extends W5{}B4.blotName="list-container";B4.tagName="OL";class P8 extends h0{static create(Z){const $=super.create();return $.setAttribute("data-list",Z),$}static formats(Z){return Z.getAttribute("data-list")||void 0}static register(){f.register(B4)}constructor(Z,$){super(Z,$);const J=$.ownerDocument.createElement("span"),X=(K)=>{if(!Z.isEnabled())return;const G=this.statics.formats($,Z);if(G==="checked")this.format("list","unchecked"),K.preventDefault();else if(G==="unchecked")this.format("list","checked"),K.preventDefault()};J.addEventListener("mousedown",X),J.addEventListener("touchstart",X),this.attachUI(J)}format(Z,$){if(Z===this.statics.blotName&&$)this.domNode.setAttribute("data-list",$);else super.format(Z,$)}}P8.blotName="list";P8.tagName="LI";B4.allowedChildren=[P8];P8.requiredContainer=B4;class N_ extends P1{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(Z){if(super.optimize(Z),this.domNode.tagName!==this.statics.tagName[0])this.replaceWith(this.statics.blotName)}}var D4=N_;class R_ extends D4{static blotName="italic";static tagName=["EM","I"]}var E_=R_;function mX(Z,$){const J=document.createElement("a");J.href=Z;const X=J.href.slice(0,J.href.indexOf(":"));return $.indexOf(X)>-1}class y6 extends P1{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(Z){const $=super.create(Z);return $.setAttribute("href",this.sanitize(Z)),$.setAttribute("rel","noopener noreferrer"),$.setAttribute("target","_blank"),$}static formats(Z){return Z.getAttribute("href")}static sanitize(Z){return mX(Z,this.PROTOCOL_WHITELIST)?Z:this.SANITIZED_URL}format(Z,$){if(Z!==this.statics.blotName||!$)super.format(Z,$);else this.domNode.setAttribute("href",this.constructor.sanitize($))}}class O_ extends P1{static blotName="script";static tagName=["SUB","SUP"];static create(Z){if(Z==="super")return document.createElement("sup");if(Z==="sub")return document.createElement("sub");return super.create(Z)}static formats(Z){if(Z.tagName==="SUB")return"sub";if(Z.tagName==="SUP")return"super";return}}var P_=O_;class V_ extends D4{static blotName="strike";static tagName=["S","STRIKE"]}var L_=V_;class w_ extends P1{static blotName="underline";static tagName="U"}var A_=w_;class B_ extends L4{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(Z){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const $=super.create(Z);if(typeof Z==="string")window.katex.render(Z,$,{throwOnError:!1,errorColor:"#f00"}),$.setAttribute("data-value",Z);return $}static value(Z){return Z.getAttribute("data-value")}html(){const{formula:Z}=this.value();return`<span>${Z}</span>`}}var D_=B_;var I_=["alt","height","width"];class C_ extends u0{static blotName="image";static tagName="IMG";static create(Z){const $=super.create(Z);if(typeof Z==="string")$.setAttribute("src",this.sanitize(Z));return $}static formats(Z){return I_.reduce(($,J)=>{if(Z.hasAttribute(J))$[J]=Z.getAttribute(J);return $},{})}static match(Z){return/\.(jpe?g|gif|png)$/.test(Z)||/^data:image\/.+;base64/.test(Z)}static sanitize(Z){return mX(Z,["http","https","data"])?Z:"//:0"}static value(Z){return Z.getAttribute("src")}format(Z,$){if(I_.indexOf(Z)>-1)if($)this.domNode.setAttribute(Z,$);else this.domNode.removeAttribute(Z);else super.format(Z,$)}}var S_=C_;var f_=["height","width"];class T_ extends U1{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(Z){const $=super.create(Z);return $.setAttribute("frameborder","0"),$.setAttribute("allowfullscreen","true"),$.setAttribute("src",this.sanitize(Z)),$}static formats(Z){return f_.reduce(($,J)=>{if(Z.hasAttribute(J))$[J]=Z.getAttribute(J);return $},{})}static sanitize(Z){return y6.sanitize(Z)}static value(Z){return Z.getAttribute("src")}format(Z,$){if(f_.indexOf(Z)>-1)if($)this.domNode.setAttribute(Z,$);else this.domNode.removeAttribute(Z);else super.format(Z,$)}html(){const{video:Z}=this.value();return`<a href="${Z}">${Z}</a>`}}var j_=T_;var $9=f1(s1(),1);var k7=new J1("code-token","hljs",{scope:m.INLINE});class H6 extends P1{static formats(Z,$){while(Z!=null&&Z!==$.domNode){if(Z.classList&&Z.classList.contains(H1.className))return super.formats(Z,$);Z=Z.parentNode}return}constructor(Z,$,J){super(Z,$,J);k7.add(this.domNode,J)}format(Z,$){if(Z!==H6.blotName)super.format(Z,$);else if($)k7.add(this.domNode,$);else k7.remove(this.domNode),this.domNode.classList.remove(this.statics.className)}optimize(){if(super.optimize(...arguments),!k7.value(this.domNode))this.unwrap()}}H6.blotName="code-token";H6.className="ql-token";class o1 extends H1{static create(Z){const $=super.create(Z);if(typeof Z==="string")$.setAttribute("data-language",Z);return $}static formats(Z){return Z.getAttribute("data-language")||"plain"}static register(){}format(Z,$){if(Z===this.statics.blotName&&$)this.domNode.setAttribute("data-language",$);else super.format(Z,$)}replaceWith(Z,$){return this.formatAt(0,this.length(),H6.blotName,!1),super.replaceWith(Z,$)}}class I4 extends Y6{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(Z,$){if(Z===o1.blotName)this.forceNext=!0,this.children.forEach((J)=>{J.format(Z,$)})}formatAt(Z,$,J,X){if(J===o1.blotName)this.forceNext=!0;super.formatAt(Z,$,J,X)}highlight(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const X=`${Array.from(this.domNode.childNodes).filter((G)=>G!==this.uiNode).map((G)=>G.textContent).join("\n")}\n`,K=o1.formats(this.children.head.domNode);if($||this.forceNext||this.cachedText!==X){if(X.trim().length>0||this.cachedText==null){const G=this.children.reduce((Y,H)=>{return Y.concat(UX(H,!1))},new $9.default),W=Z(X,K);G.diff(W).reduce((Y,H)=>{let{retain:Q,attributes:z}=H;if(!Q)return Y;if(z)Object.keys(z).forEach((_)=>{if([o1.blotName,H6.blotName].includes(_))this.formatAt(Y,Q,_,z[_])});return Y+Q},0)}this.cachedText=X,this.forceNext=!1}}html(Z,$){const[J]=this.children.find(Z);return`<pre data-language="${J?o1.formats(J.domNode):"plain"}">\n${E8(this.code(Z,$))}\n</pre>`}optimize(Z){if(super.optimize(Z),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const $=o1.formats(this.children.head.domNode);if($!==this.uiNode.value)this.uiNode.value=$}}}I4.allowedChildren=[o1];o1.requiredContainer=I4;o1.allowedChildren=[H6,x6,K1,O1];var BL=(Z,$,J)=>{if(typeof Z.versionString==="string"){const X=Z.versionString.split(".")[0];if(parseInt(X,10)>=11)return Z.highlight(J,{language:$}).value}return Z.highlight($,J).value};class J9 extends i0{static register(){f.register(H6,!0),f.register(o1,!0),f.register(I4,!0)}constructor(Z,$){super(Z,$);if(this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((J,X)=>{let{key:K}=X;return J[K]=!0,J},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(f.events.SCROLL_BLOT_MOUNT,(Z)=>{if(!(Z instanceof I4))return;const $=this.quill.root.ownerDocument.createElement("select");if(this.options.languages.forEach((J)=>{let{key:X,label:K}=J;const G=$.ownerDocument.createElement("option");G.textContent=K,G.setAttribute("value",X),$.appendChild(G)}),$.addEventListener("change",()=>{Z.format(o1.blotName,$.value),this.quill.root.focus(),this.highlight(Z,!0)}),Z.uiNode==null){if(Z.attachUI($),Z.children.head)$.value=o1.formats(Z.children.head.domNode)}})}initTimer(){let Z=null;this.quill.on(f.events.SCROLL_OPTIMIZE,()=>{if(Z)clearTimeout(Z);Z=setTimeout(()=>{this.highlight(),Z=null},this.options.interval)})}highlight(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(f.sources.USER);const J=this.quill.getSelection();if((Z==null?this.quill.scroll.descendants(I4):[Z]).forEach((K)=>{K.highlight(this.highlightBlot,$)}),this.quill.update(f.sources.SILENT),J!=null)this.quill.setSelection(J,f.sources.SILENT)}highlightBlot(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if($=this.languages[$]?$:"plain",$==="plain")return E8(Z).split("\n").reduce((X,K,G)=>{if(G!==0)X.insert("\n",{[H1.blotName]:$});return X.insert(K)},new $9.default);const J=this.quill.root.ownerDocument.createElement("div");return J.classList.add(H1.className),J.innerHTML=BL(this.options.hljs,$,Z),t$(this.quill.scroll,J,[(X,K)=>{const G=k7.value(X);if(G)return K.compose(new $9.default().retain(K.length(),{[H6.blotName]:G}));return K}],[(X,K)=>{return X.data.split("\n").reduce((G,W,Y)=>{if(Y!==0)G.insert("\n",{[H1.blotName]:$});return G.insert(W)},K)}],new WeakMap)}}J9.DEFAULTS={hljs:(()=>{return window.hljs})(),interval:1000,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var h_=f1(s1(),1);function X9(){return`row-${Math.random().toString(36).slice(2,6)}`}class H5 extends h0{static blotName="table";static tagName="TD";static create(Z){const $=super.create();if(Z)$.setAttribute("data-row",Z);else $.setAttribute("data-row",X9());return $}static formats(Z){if(Z.hasAttribute("data-row"))return Z.getAttribute("data-row");return}cellOffset(){if(this.parent)return this.parent.children.indexOf(this);return-1}format(Z,$){if(Z===H5.blotName&&$)this.domNode.setAttribute("data-row",$);else super.format(Z,$)}row(){return this.parent}rowOffset(){if(this.row())return this.row().rowOffset();return-1}table(){return this.row()&&this.row().table()}}class Q6 extends W5{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const Z=this.children.head.formats(),$=this.children.tail.formats(),J=this.next.children.head.formats(),X=this.next.children.tail.formats();return Z.table===$.table&&Z.table===J.table&&Z.table===X.table}return!1}optimize(Z){super.optimize(Z),this.children.forEach(($)=>{if($.next==null)return;const J=$.formats(),X=$.next.formats();if(J.table!==X.table){const K=this.splitAfter($);if(K)K.optimize();if(this.prev)this.prev.optimize()}})}rowOffset(){if(this.parent)return this.parent.children.indexOf(this);return-1}table(){return this.parent&&this.parent.parent}}class y5 extends W5{static blotName="table-body";static tagName="TBODY"}class C4 extends W5{static blotName="table-container";static tagName="TABLE";balanceCells(){const Z=this.descendants(Q6),$=Z.reduce((J,X)=>{return Math.max(X.children.length,J)},0);Z.forEach((J)=>{new Array($-J.children.length).fill(0).forEach(()=>{let X;if(J.children.head!=null)X=H5.formats(J.children.head.domNode);const K=this.scroll.create(H5.blotName,X);J.appendChild(K),K.optimize()})})}cells(Z){return this.rows().map(($)=>$.children.at(Z))}deleteColumn(Z){const[$]=this.descendant(y5);if($==null||$.children.head==null)return;$.children.forEach((J)=>{const X=J.children.at(Z);if(X!=null)X.remove()})}insertColumn(Z){const[$]=this.descendant(y5);if($==null||$.children.head==null)return;$.children.forEach((J)=>{const X=J.children.at(Z),K=H5.formats(J.children.head.domNode),G=this.scroll.create(H5.blotName,K);J.insertBefore(G,X)})}insertRow(Z){const[$]=this.descendant(y5);if($==null||$.children.head==null)return;const J=X9(),X=this.scroll.create(Q6.blotName);$.children.head.children.forEach(()=>{const G=this.scroll.create(H5.blotName,J);X.appendChild(G)});const K=$.children.at(Z);$.insertBefore(X,K)}rows(){const Z=this.children.head;if(Z==null)return[];return Z.children.map(($)=>$)}}C4.allowedChildren=[y5];y5.requiredContainer=C4;y5.allowedChildren=[Q6];Q6.requiredContainer=y5;Q6.allowedChildren=[H5];H5.requiredContainer=Q6;class x_ extends i0{static register(){f.register(H5),f.register(Q6),f.register(y5),f.register(C4)}constructor(){super(...arguments);this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(C4).forEach((Z)=>{Z.balanceCells()})}deleteColumn(){const[Z,,$]=this.getTable();if($==null)return;Z.deleteColumn($.cellOffset()),this.quill.update(f.sources.USER)}deleteRow(){const[,Z]=this.getTable();if(Z==null)return;Z.remove(),this.quill.update(f.sources.USER)}deleteTable(){const[Z]=this.getTable();if(Z==null)return;const $=Z.offset();Z.remove(),this.quill.update(f.sources.USER),this.quill.setSelection($,f.sources.SILENT)}getTable(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(Z==null)return[null,null,null,-1];const[$,J]=this.quill.getLine(Z.index);if($==null||$.statics.blotName!==H5.blotName)return[null,null,null,-1];const X=$.parent;return[X.parent.parent,X,$,J]}insertColumn(Z){const $=this.quill.getSelection();if(!$)return;const[J,X,K]=this.getTable($);if(K==null)return;const G=K.cellOffset();J.insertColumn(G+Z),this.quill.update(f.sources.USER);let W=X.rowOffset();if(Z===0)W+=1;this.quill.setSelection($.index+W,$.length,f.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(Z){const $=this.quill.getSelection();if(!$)return;const[J,X,K]=this.getTable($);if(K==null)return;const G=X.rowOffset();if(J.insertRow(G+Z),this.quill.update(f.sources.USER),Z>0)this.quill.setSelection($,f.sources.SILENT);else this.quill.setSelection($.index+X.children.length,$.length,f.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(Z,$){const J=this.quill.getSelection();if(J==null)return;const X=new Array(Z).fill(0).reduce((K)=>{const G=new Array($).fill("\n").join("");return K.insert(G,{table:X9()})},new h_.default().retain(J.index));this.quill.updateContents(X,f.sources.USER),this.quill.setSelection(J.index,f.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(f.events.SCROLL_OPTIMIZE,(Z)=>{Z.some(($)=>{if(["TD","TR","TBODY","TABLE"].includes($.target.tagName))return this.quill.once(f.events.TEXT_CHANGE,(J,X,K)=>{if(K!==f.sources.USER)return;this.balanceTables()}),!0;return!1})})}}var v_=x_;var b_=f1(s1(),1);function y_(Z,$,J){const X=document.createElement("button");if(X.setAttribute("type","button"),X.classList.add(`ql-${$}`),X.setAttribute("aria-pressed","false"),J!=null)X.value=J,X.setAttribute("aria-label",`${$}: ${J}`);else X.setAttribute("aria-label",$);Z.appendChild(X)}function DL(Z,$){if(!Array.isArray($[0]))$=[$];$.forEach((J)=>{const X=document.createElement("span");X.classList.add("ql-formats"),J.forEach((K)=>{if(typeof K==="string")y_(X,K);else{const G=Object.keys(K)[0],W=K[G];if(Array.isArray(W))IL(X,G,W);else y_(X,G,W)}}),Z.appendChild(X)})}function IL(Z,$,J){const X=document.createElement("select");X.classList.add(`ql-${$}`),J.forEach((K)=>{const G=document.createElement("option");if(K!==!1)G.setAttribute("value",String(K));else G.setAttribute("selected","selected");X.appendChild(G)}),Z.appendChild(X)}var k_=n1("quill:toolbar");class y7 extends i0{constructor(Z,$){super(Z,$);if(Array.isArray(this.options.container)){const J=document.createElement("div");J.setAttribute("role","toolbar"),DL(J,this.options.container),Z.container?.parentNode?.insertBefore(J,Z.container),this.container=J}else if(typeof this.options.container==="string")this.container=document.querySelector(this.options.container);else this.container=this.options.container;if(!(this.container instanceof HTMLElement)){k_.error("Container required for toolbar",this.options);return}if(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers)Object.keys(this.options.handlers).forEach((J)=>{const X=this.options.handlers?.[J];if(X)this.addHandler(J,X)});Array.from(this.container.querySelectorAll("button, select")).forEach((J)=>{this.attach(J)}),this.quill.on(f.events.EDITOR_CHANGE,()=>{const[J]=this.quill.selection.getRange();this.update(J)})}addHandler(Z,$){this.handlers[Z]=$}attach(Z){let $=Array.from(Z.classList).find((X)=>{return X.indexOf("ql-")===0});if(!$)return;if($=$.slice("ql-".length),Z.tagName==="BUTTON")Z.setAttribute("type","button");if(this.handlers[$]==null&&this.quill.scroll.query($)==null){k_.warn("ignoring attaching to nonexistent format",$,Z);return}const J=Z.tagName==="SELECT"?"change":"click";Z.addEventListener(J,(X)=>{let K;if(Z.tagName==="SELECT"){if(Z.selectedIndex<0)return;const W=Z.options[Z.selectedIndex];if(W.hasAttribute("selected"))K=!1;else K=W.value||!1}else{if(Z.classList.contains("ql-active"))K=!1;else K=Z.value||!Z.hasAttribute("value");X.preventDefault()}this.quill.focus();const[G]=this.quill.selection.getRange();if(this.handlers[$]!=null)this.handlers[$].call(this,K);else if(this.quill.scroll.query($).prototype instanceof u0){if(K=prompt(`Enter ${$}`),!K)return;this.quill.updateContents(new b_.default().retain(G.index).delete(G.length).insert({[$]:K}),f.sources.USER)}else this.quill.format($,K,f.sources.USER);this.update(G)}),this.controls.push([$,Z])}update(Z){const $=Z==null?{}:this.quill.getFormat(Z);this.controls.forEach((J)=>{const[X,K]=J;if(K.tagName==="SELECT"){let G=null;if(Z==null)G=null;else if($[X]==null)G=K.querySelector("option[selected]");else if(!Array.isArray($[X])){let W=$[X];if(typeof W==="string")W=W.replace(/"/g,'\\"');G=K.querySelector(`option[value="${W}"]`)}if(G==null)K.value="",K.selectedIndex=-1;else G.selected=!0}else if(Z==null)K.classList.remove("ql-active"),K.setAttribute("aria-pressed","false");else if(K.hasAttribute("value")){const G=$[X],W=G===K.getAttribute("value")||G!=null&&G.toString()===K.getAttribute("value")||G==null&&!K.getAttribute("value");K.classList.toggle("ql-active",W),K.setAttribute("aria-pressed",W.toString())}else{const G=$[X]!=null;K.classList.toggle("ql-active",G),K.setAttribute("aria-pressed",G.toString())}})}}y7.DEFAULTS={};y7.DEFAULTS={container:null,handlers:{clean(){const Z=this.quill.getSelection();if(Z==null)return;if(Z.length===0){const $=this.quill.getFormat();Object.keys($).forEach((J)=>{if(this.quill.scroll.query(J,m.INLINE)!=null)this.quill.format(J,!1,f.sources.USER)})}else this.quill.removeFormat(Z.index,Z.length,f.sources.USER)},direction(Z){const{align:$}=this.quill.getFormat();if(Z==="rtl"&&$==null)this.quill.format("align","right",f.sources.USER);else if(!Z&&$==="right")this.quill.format("align",!1,f.sources.USER);this.quill.format("direction",Z,f.sources.USER)},indent(Z){const $=this.quill.getSelection(),J=this.quill.getFormat($),X=parseInt(J.indent||0,10);if(Z==="+1"||Z==="-1"){let K=Z==="+1"?1:-1;if(J.direction==="rtl")K*=-1;this.quill.format("indent",X+K,f.sources.USER)}},link(Z){if(Z===!0)Z=prompt("Enter link URL:");this.quill.format("link",Z,f.sources.USER)},list(Z){const $=this.quill.getSelection(),J=this.quill.getFormat($);if(Z==="check")if(J.list==="checked"||J.list==="unchecked")this.quill.format("list",!1,f.sources.USER);else this.quill.format("list","unchecked",f.sources.USER);else this.quill.format("list",Z,f.sources.USER)}}};var b6={align:{"":"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"13\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"9\" y1=\"4\" y2=\"4\"/></svg>",center:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"14\" x2=\"4\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"12\" x2=\"6\" y1=\"4\" y2=\"4\"/></svg>",right:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"5\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"9\" y1=\"4\" y2=\"4\"/></svg>",justify:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"3\" y1=\"4\" y2=\"4\"/></svg>"},background:"<svg viewbox=\"0 0 18 18\"><g class=\"ql-fill ql-color-label\"><polygon points=\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\"/><rect height=\"1\" width=\"1\" x=\"4\" y=\"4\"/><polygon points=\"6.817 5 6 5 6 6 6.38 6 6.817 5\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"6\"/><rect height=\"1\" width=\"1\" x=\"3\" y=\"5\"/><rect height=\"1\" width=\"1\" x=\"4\" y=\"7\"/><polygon points=\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"12\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"9\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"15\"/><polygon points=\"4.63 10 4 10 4 11 4.192 11 4.63 10\"/><rect height=\"1\" width=\"1\" x=\"3\" y=\"8\"/><path d=\"M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z\"/><path d=\"M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z\"/><path d=\"M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z\"/><rect height=\"1\" width=\"1\" x=\"12\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"11\" y=\"3\"/><path d=\"M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z\"/><rect height=\"1\" width=\"1\" x=\"2\" y=\"3\"/><rect height=\"1\" width=\"1\" x=\"6\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"3\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"5\" y=\"3\"/><rect height=\"1\" width=\"1\" x=\"9\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"14\"/><polygon points=\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\"/><rect height=\"1\" width=\"1\" x=\"13\" y=\"7\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"5\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"6\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"8\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"9\"/><path d=\"M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"3\"/><polygon points=\"12 6.868 12 6 11.62 6 12 6.868\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"2\"/><rect height=\"1\" width=\"1\" x=\"12\" y=\"5\"/><rect height=\"1\" width=\"1\" x=\"13\" y=\"4\"/><polygon points=\"12.933 9 13 9 13 8 12.495 8 12.933 9\"/><rect height=\"1\" width=\"1\" x=\"9\" y=\"14\"/><rect height=\"1\" width=\"1\" x=\"8\" y=\"15\"/><path d=\"M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z\"/><rect height=\"1\" width=\"1\" x=\"5\" y=\"15\"/><path d=\"M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z\"/><rect height=\"1\" width=\"1\" x=\"11\" y=\"15\"/><path d=\"M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z\"/><rect height=\"1\" width=\"1\" x=\"14\" y=\"15\"/><rect height=\"1\" width=\"1\" x=\"15\" y=\"11\"/></g><polyline class=\"ql-stroke\" points=\"5.5 13 9 5 12.5 13\"/><line class=\"ql-stroke\" x1=\"11.63\" x2=\"6.38\" y1=\"11\" y2=\"11\"/></svg>",blockquote:"<svg viewbox=\"0 0 18 18\"><rect class=\"ql-fill ql-stroke\" height=\"3\" width=\"3\" x=\"4\" y=\"5\"/><rect class=\"ql-fill ql-stroke\" height=\"3\" width=\"3\" x=\"11\" y=\"5\"/><path class=\"ql-even ql-fill ql-stroke\" d=\"M7,8c0,4.031-3,5-3,5\"/><path class=\"ql-even ql-fill ql-stroke\" d=\"M14,8c0,4.031-3,5-3,5\"/></svg>",bold:"<svg viewbox=\"0 0 18 18\"><path class=\"ql-stroke\" d=\"M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z\"/><path class=\"ql-stroke\" d=\"M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z\"/></svg>",clean:"<svg class=\"\" viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"5\" x2=\"13\" y1=\"3\" y2=\"3\"/><line class=\"ql-stroke\" x1=\"6\" x2=\"9.35\" y1=\"12\" y2=\"3\"/><line class=\"ql-stroke\" x1=\"11\" x2=\"15\" y1=\"11\" y2=\"15\"/><line class=\"ql-stroke\" x1=\"15\" x2=\"11\" y1=\"11\" y2=\"15\"/><rect class=\"ql-fill\" height=\"1\" rx=\"0.5\" ry=\"0.5\" width=\"7\" x=\"2\" y=\"14\"/></svg>",code:"<svg viewbox=\"0 0 18 18\"><polyline class=\"ql-even ql-stroke\" points=\"5 7 3 9 5 11\"/><polyline class=\"ql-even ql-stroke\" points=\"13 7 15 9 13 11\"/><line class=\"ql-stroke\" x1=\"10\" x2=\"8\" y1=\"5\" y2=\"13\"/></svg>","code-block":"<svg viewbox=\"0 0 18 18\"><polyline class=\"ql-even ql-stroke\" points=\"5 7 3 9 5 11\"/><polyline class=\"ql-even ql-stroke\" points=\"13 7 15 9 13 11\"/><line class=\"ql-stroke\" x1=\"10\" x2=\"8\" y1=\"5\" y2=\"13\"/></svg>",color:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-color-label ql-stroke ql-transparent\" x1=\"3\" x2=\"15\" y1=\"15\" y2=\"15\"/><polyline class=\"ql-stroke\" points=\"5.5 11 9 3 12.5 11\"/><line class=\"ql-stroke\" x1=\"11.63\" x2=\"6.38\" y1=\"9\" y2=\"9\"/></svg>",direction:{"":"<svg viewbox=\"0 0 18 18\"><polygon class=\"ql-stroke ql-fill\" points=\"3 11 5 9 3 7 3 11\"/><line class=\"ql-stroke ql-fill\" x1=\"15\" x2=\"11\" y1=\"4\" y2=\"4\"/><path class=\"ql-fill\" d=\"M11,3a3,3,0,0,0,0,6h1V3H11Z\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"11\" y=\"4\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"13\" y=\"4\"/></svg>",rtl:"<svg viewbox=\"0 0 18 18\"><polygon class=\"ql-stroke ql-fill\" points=\"15 12 13 10 15 8 15 12\"/><line class=\"ql-stroke ql-fill\" x1=\"9\" x2=\"5\" y1=\"4\" y2=\"4\"/><path class=\"ql-fill\" d=\"M5,3A3,3,0,0,0,5,9H6V3H5Z\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"5\" y=\"4\"/><rect class=\"ql-fill\" height=\"11\" width=\"1\" x=\"7\" y=\"4\"/></svg>"},formula:"<svg viewbox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z\"/><rect class=\"ql-fill\" height=\"1.6\" rx=\"0.8\" ry=\"0.8\" width=\"5\" x=\"5.15\" y=\"6.2\"/><path class=\"ql-fill\" d=\"M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z\"/></svg>",header:{"1":"<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z\"/></svg>","2":"<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\"/></svg>","3":"<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\"/></svg>","4":"<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z\"/></svg>","5":"<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z\"/></svg>","6":"<svg viewBox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z\"/></svg>"},italic:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"7\" x2=\"13\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"5\" x2=\"11\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"8\" x2=\"10\" y1=\"14\" y2=\"4\"/></svg>",image:"<svg viewbox=\"0 0 18 18\"><rect class=\"ql-stroke\" height=\"10\" width=\"12\" x=\"3\" y=\"4\"/><circle class=\"ql-fill\" cx=\"6\" cy=\"7\" r=\"1\"/><polyline class=\"ql-even ql-fill\" points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\"/></svg>",indent:{"+1":"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"/><polyline class=\"ql-fill ql-stroke\" points=\"3 7 3 11 5 9 3 7\"/></svg>","-1":"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"/><polyline class=\"ql-stroke\" points=\"5 7 5 11 3 9 5 7\"/></svg>"},link:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"7\" x2=\"11\" y1=\"7\" y2=\"11\"/><path class=\"ql-even ql-stroke\" d=\"M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z\"/><path class=\"ql-even ql-stroke\" d=\"M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z\"/></svg>",list:{bullet:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"6\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"6\" x2=\"15\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"6\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"3\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"3\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"3\" x2=\"3\" y1=\"14\" y2=\"14\"/></svg>",check:"<svg class=\"\" viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"4\" y2=\"4\"/><polyline class=\"ql-stroke\" points=\"3 4 4 5 6 3\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"14\" y2=\"14\"/><polyline class=\"ql-stroke\" points=\"3 14 4 15 6 13\"/><line class=\"ql-stroke\" x1=\"9\" x2=\"15\" y1=\"9\" y2=\"9\"/><polyline class=\"ql-stroke\" points=\"3 9 4 10 6 8\"/></svg>",ordered:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke\" x1=\"7\" x2=\"15\" y1=\"4\" y2=\"4\"/><line class=\"ql-stroke\" x1=\"7\" x2=\"15\" y1=\"9\" y2=\"9\"/><line class=\"ql-stroke\" x1=\"7\" x2=\"15\" y1=\"14\" y2=\"14\"/><line class=\"ql-stroke ql-thin\" x1=\"2.5\" x2=\"4.5\" y1=\"5.5\" y2=\"5.5\"/><path class=\"ql-fill\" d=\"M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z\"/><path class=\"ql-stroke ql-thin\" d=\"M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156\"/><path class=\"ql-stroke ql-thin\" d=\"M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109\"/></svg>"},script:{sub:"<svg viewbox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z\"/><path class=\"ql-fill\" d=\"M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z\"/></svg>",super:"<svg viewbox=\"0 0 18 18\"><path class=\"ql-fill\" d=\"M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z\"/><path class=\"ql-fill\" d=\"M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z\"/></svg>"},strike:"<svg viewbox=\"0 0 18 18\"><line class=\"ql-stroke ql-thin\" x1=\"15.5\" x2=\"2.5\" y1=\"8.5\" y2=\"9.5\"/><path class=\"ql-fill\" d=\"M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z\"/><path class=\"ql-fill\" d=\"M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z\"/></svg>",table:"<svg viewbox=\"0 0 18 18\"><rect class=\"ql-stroke\" height=\"12\" width=\"12\" x=\"3\" y=\"3\"/><rect class=\"ql-fill\" height=\"2\" width=\"3\" x=\"5\" y=\"5\"/><rect class=\"ql-fill\" height=\"2\" width=\"4\" x=\"9\" y=\"5\"/><g class=\"ql-fill ql-transparent\"><rect height=\"2\" width=\"3\" x=\"5\" y=\"8\"/><rect height=\"2\" width=\"4\" x=\"9\" y=\"8\"/><rect height=\"2\" width=\"3\" x=\"5\" y=\"11\"/><rect height=\"2\" width=\"4\" x=\"9\" y=\"11\"/></g></svg>",underline:"<svg viewbox=\"0 0 18 18\"><path class=\"ql-stroke\" d=\"M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3\"/><rect class=\"ql-fill\" height=\"1\" rx=\"0.5\" ry=\"0.5\" width=\"12\" x=\"3\" y=\"15\"/></svg>",video:"<svg viewbox=\"0 0 18 18\"><rect class=\"ql-stroke\" height=\"12\" width=\"12\" x=\"3\" y=\"3\"/><rect class=\"ql-fill\" height=\"12\" width=\"1\" x=\"5\" y=\"3\"/><rect class=\"ql-fill\" height=\"12\" width=\"1\" x=\"12\" y=\"3\"/><rect class=\"ql-fill\" height=\"2\" width=\"8\" x=\"5\" y=\"8\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"5\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"7\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"10\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"3\" y=\"12\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"5\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"7\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"10\"/><rect class=\"ql-fill\" height=\"1\" width=\"3\" x=\"12\" y=\"12\"/></svg>"};function p_(Z,$){Z.setAttribute($,`${Z.getAttribute($)!=="true"}`)}var g_=0;class m_{constructor(Z){this.select=Z,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",($)=>{switch($.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),$.preventDefault();break;default:}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),p_(this.label,"aria-expanded"),p_(this.options,"aria-hidden")}buildItem(Z){const $=document.createElement("span");$.tabIndex="0",$.setAttribute("role","button"),$.classList.add("ql-picker-item");const J=Z.getAttribute("value");if(J)$.setAttribute("data-value",J);if(Z.textContent)$.setAttribute("data-label",Z.textContent);return $.addEventListener("click",()=>{this.selectItem($,!0)}),$.addEventListener("keydown",(X)=>{switch(X.key){case"Enter":this.selectItem($,!0),X.preventDefault();break;case"Escape":this.escape(),X.preventDefault();break;default:}}),$}buildLabel(){const Z=document.createElement("span");return Z.classList.add("ql-picker-label"),Z.innerHTML="<svg viewbox=\"0 0 18 18\"><polygon class=\"ql-stroke\" points=\"7 11 9 13 11 11 7 11\"/><polygon class=\"ql-stroke\" points=\"7 7 9 5 11 7 7 7\"/></svg>",Z.tabIndex="0",Z.setAttribute("role","button"),Z.setAttribute("aria-expanded","false"),this.container.appendChild(Z),Z}buildOptions(){const Z=document.createElement("span");Z.classList.add("ql-picker-options"),Z.setAttribute("aria-hidden","true"),Z.tabIndex="-1",Z.id=`ql-picker-options-${g_}`,g_+=1,this.label.setAttribute("aria-controls",Z.id),this.options=Z,Array.from(this.select.options).forEach(($)=>{const J=this.buildItem($);if(Z.appendChild(J),$.selected===!0)this.selectItem(J)}),this.container.appendChild(Z)}buildPicker(){Array.from(this.select.attributes).forEach((Z)=>{this.container.setAttribute(Z.name,Z.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(Z){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const J=this.container.querySelector(".ql-selected");if(Z===J)return;if(J!=null)J.classList.remove("ql-selected");if(Z==null)return;if(Z.classList.add("ql-selected"),this.select.selectedIndex=Array.from(Z.parentNode.children).indexOf(Z),Z.hasAttribute("data-value"))this.label.setAttribute("data-value",Z.getAttribute("data-value"));else this.label.removeAttribute("data-value");if(Z.hasAttribute("data-label"))this.label.setAttribute("data-label",Z.getAttribute("data-label"));else this.label.removeAttribute("data-label");if($)this.select.dispatchEvent(new Event("change")),this.close()}update(){let Z;if(this.select.selectedIndex>-1){const J=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];Z=this.select.options[this.select.selectedIndex],this.selectItem(J)}else this.selectItem(null);const $=Z!=null&&Z!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",$)}}var g6=m_;class u_ extends g6{constructor(Z,$){super(Z);this.label.innerHTML=$,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((J)=>{J.classList.add("ql-primary")})}buildItem(Z){const $=super.buildItem(Z);return $.style.backgroundColor=Z.getAttribute("value")||"",$}selectItem(Z,$){super.selectItem(Z,$);const J=this.label.querySelector(".ql-color-label"),X=Z?Z.getAttribute("data-value")||"":"";if(J)if(J.tagName==="line")J.style.stroke=X;else J.style.fill=X}}var K9=u_;class d_ extends g6{constructor(Z,$){super(Z);this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((J)=>{J.innerHTML=$[J.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(Z,$){super.selectItem(Z,$);const J=Z||this.defaultItem;if(J!=null){if(this.label.innerHTML===J.innerHTML)return;this.label.innerHTML=J.innerHTML}}}var G9=d_;var CL=(Z)=>{const{overflowY:$}=getComputedStyle(Z,null);return $!=="visible"&&$!=="clip"};class c_{constructor(Z,$){if(this.quill=Z,this.boundsContainer=$||document.body,this.root=Z.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,CL(this.quill.root))this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`});this.hide()}hide(){this.root.classList.add("ql-hidden")}position(Z){const $=Z.left+Z.width/2-this.root.offsetWidth/2,J=Z.bottom+this.quill.root.scrollTop;this.root.style.left=`${$}px`,this.root.style.top=`${J}px`,this.root.classList.remove("ql-flip");const X=this.boundsContainer.getBoundingClientRect(),K=this.root.getBoundingClientRect();let G=0;if(K.right>X.right)G=X.right-K.right,this.root.style.left=`${$+G}px`;if(K.left<X.left)G=X.left-K.left,this.root.style.left=`${$+G}px`;if(K.bottom>X.bottom){const W=K.bottom-K.top,Y=Z.bottom-Z.top+W;this.root.style.top=`${J-Y}px`,this.root.classList.add("ql-flip")}return G}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}var W9=c_;function xL(Z){let $=Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if($)return`${$[1]||"https"}://www.youtube.com/embed/${$[2]}?showinfo=0`;if($=Z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return`${$[1]||"https"}://player.vimeo.com/video/${$[2]}/`;return Z}function b7(Z,$){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach((X)=>{const K=document.createElement("option");if(X===J)K.setAttribute("selected","selected");else K.setAttribute("value",String(X));Z.appendChild(K)})}var SL=[!1,"center","right","justify"],fL=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],TL=[!1,"serif","monospace"],jL=["1","2","3",!1],hL=["small",!1,"large","huge"];class p6 extends w4{constructor(Z,$){super(Z,$);const J=(X)=>{if(!document.body.contains(Z.root)){document.body.removeEventListener("click",J);return}if(this.tooltip!=null&&!this.tooltip.root.contains(X.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus())this.tooltip.hide();if(this.pickers!=null)this.pickers.forEach((K)=>{if(!K.container.contains(X.target))K.close()})};Z.emitter.listenDOM("click",document.body,J)}addModule(Z){const $=super.addModule(Z);if(Z==="toolbar")this.extendToolbar($);return $}buildButtons(Z,$){Array.from(Z).forEach((J)=>{(J.getAttribute("class")||"").split(/\s+/).forEach((K)=>{if(!K.startsWith("ql-"))return;if(K=K.slice("ql-".length),$[K]==null)return;if(K==="direction")J.innerHTML=$[K][""]+$[K].rtl;else if(typeof $[K]==="string")J.innerHTML=$[K];else{const G=J.value||"";if(G!=null&&$[K][G])J.innerHTML=$[K][G]}})})}buildPickers(Z,$){this.pickers=Array.from(Z).map((X)=>{if(X.classList.contains("ql-align")){if(X.querySelector("option")==null)b7(X,SL);if(typeof $.align==="object")return new G9(X,$.align)}if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){const K=X.classList.contains("ql-background")?"background":"color";if(X.querySelector("option")==null)b7(X,fL,K==="background"?"#ffffff":"#000000");return new K9(X,$[K])}if(X.querySelector("option")==null){if(X.classList.contains("ql-font"))b7(X,TL);else if(X.classList.contains("ql-header"))b7(X,jL);else if(X.classList.contains("ql-size"))b7(X,hL)}return new g6(X)});const J=()=>{this.pickers.forEach((X)=>{X.update()})};this.quill.on(d.events.EDITOR_CHANGE,J)}}p6.DEFAULTS=x1({},w4.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let Z=this.container.querySelector("input.ql-image[type=file]");if(Z==null)Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),Z.classList.add("ql-image"),Z.addEventListener("change",()=>{const $=this.quill.getSelection(!0);this.quill.uploader.upload($,Z.files),Z.value=""}),this.container.appendChild(Z);Z.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class g7 extends W9{constructor(Z,$){super(Z,$);this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(Z)=>{if(Z.key==="Enter")this.save(),Z.preventDefault();else if(Z.key==="Escape")this.cancel(),Z.preventDefault()})}cancel(){this.hide(),this.restoreFocus()}edit(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;if($!=null)this.textbox.value=$;else if(Z!==this.root.getAttribute("data-mode"))this.textbox.value="";const J=this.quill.getBounds(this.quill.selection.savedRange);if(J!=null)this.position(J);this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${Z}`)||""),this.root.setAttribute("data-mode",Z)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:Z}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:$}=this.quill.root;if(this.linkRange)this.quill.formatText(this.linkRange,"link",Z,d.sources.USER),delete this.linkRange;else this.restoreFocus(),this.quill.format("link",Z,d.sources.USER);this.quill.root.scrollTop=$;break}case"video":Z=xL(Z);case"formula":{if(!Z)break;const $=this.quill.getSelection(!0);if($!=null){const J=$.index+$.length;if(this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),Z,d.sources.USER),this.root.getAttribute("data-mode")==="formula")this.quill.insertText(J+1," ",d.sources.USER);this.quill.setSelection(J+2,d.sources.USER)}break}default:}this.textbox.value="",this.hide()}}var vL=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class l_ extends g7{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(Z,$){super(Z,$);this.quill.on(d.events.EDITOR_CHANGE,(J,X,K,G)=>{if(J!==d.events.SELECTION_CHANGE)return;if(X!=null&&X.length>0&&G===d.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const W=this.quill.getLines(X.index,X.length);if(W.length===1){const Y=this.quill.getBounds(X);if(Y!=null)this.position(Y)}else{const Y=W[W.length-1],H=this.quill.getIndex(Y),Q=Math.min(Y.length()-1,X.index+X.length-H),z=this.quill.getBounds(new g1(H,Q));if(z!=null)this.position(z)}}else if(document.activeElement!==this.textbox&&this.quill.hasFocus())this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(d.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const Z=this.quill.getSelection();if(Z!=null){const $=this.quill.getBounds(Z);if($!=null)this.position($)}},1)})}cancel(){this.show()}position(Z){const $=super.position(Z),J=this.root.querySelector(".ql-tooltip-arrow");if(J.style.marginLeft="",$!==0)J.style.marginLeft=`${-1*$-J.offsetWidth/2}px`;return $}}class Y9 extends p6{constructor(Z,$){if($.modules.toolbar!=null&&$.modules.toolbar.container==null)$.modules.toolbar.container=vL;super(Z,$);this.quill.container.classList.add("ql-bubble")}extendToolbar(Z){if(this.tooltip=new l_(this.quill,this.options.bounds),Z.container!=null)this.tooltip.root.appendChild(Z.container),this.buildButtons(Z.container.querySelectorAll("button"),b6),this.buildPickers(Z.container.querySelectorAll("select"),b6)}}Y9.DEFAULTS=x1({},p6.DEFAULTS,{modules:{toolbar:{handlers:{link(Z){if(!Z)this.quill.format("link",!1,f.sources.USER);else this.quill.theme.tooltip.edit()}}}}});var kL=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class i_ extends g7{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(Z)=>{if(this.root.classList.contains("ql-editing"))this.save();else this.edit("link",this.preview.textContent);Z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",(Z)=>{if(this.linkRange!=null){const $=this.linkRange;this.restoreFocus(),this.quill.formatText($,"link",!1,d.sources.USER),delete this.linkRange}Z.preventDefault(),this.hide()}),this.quill.on(d.events.SELECTION_CHANGE,(Z,$,J)=>{if(Z==null)return;if(Z.length===0&&J===d.sources.USER){const[X,K]=this.quill.scroll.descendant(y6,Z.index);if(X!=null){this.linkRange=new g1(Z.index-K,X.length());const G=y6.formats(X.domNode);this.preview.textContent=G,this.preview.setAttribute("href",G),this.show();const W=this.quill.getBounds(this.linkRange);if(W!=null)this.position(W);return}}else delete this.linkRange;this.hide()})}show(){super.show(),this.root.removeAttribute("data-mode")}}class uX extends p6{constructor(Z,$){if($.modules.toolbar!=null&&$.modules.toolbar.container==null)$.modules.toolbar.container=kL;super(Z,$);this.quill.container.classList.add("ql-snow")}extendToolbar(Z){if(Z.container!=null){if(Z.container.classList.add("ql-snow"),this.buildButtons(Z.container.querySelectorAll("button"),b6),this.buildPickers(Z.container.querySelectorAll("select"),b6),this.tooltip=new i_(this.quill,this.options.bounds),Z.container.querySelector(".ql-link"))this.quill.keyboard.addBinding({key:"k",shortKey:!0},($,J)=>{Z.handlers.link.call(Z,!J.format.link)})}}}uX.DEFAULTS=x1({},p6.DEFAULTS,{modules:{toolbar:{handlers:{link(Z){if(Z){const $=this.quill.getSelection();if($==null||$.length===0)return;let J=this.quill.getText($);if(/^\S+@\S+\.\S+$/.test(J)&&J.indexOf("mailto:")!==0)J=`mailto:${J}`;const{tooltip:X}=this.quill.theme;X.edit("link",J)}else this.quill.format("link",!1,f.sources.USER)}}}}});var s_=uX;Z9.register({"attributors/attribute/direction":i$,"attributors/class/align":CX,"attributors/class/background":iz,"attributors/class/color":lz,"attributors/class/direction":fX,"attributors/class/font":TX,"attributors/class/size":jX,"attributors/style/align":c$,"attributors/style/background":T7,"attributors/style/color":f7,"attributors/style/direction":s$,"attributors/style/font":n$,"attributors/style/size":o$},!0);Z9.register({"formats/align":CX,"formats/direction":fX,"formats/indent":__,"formats/background":T7,"formats/color":f7,"formats/font":TX,"formats/size":jX,"formats/blockquote":q_,"formats/code-block":H1,"formats/header":F_,"formats/list":P8,"formats/bold":D4,"formats/code":j7,"formats/italic":E_,"formats/link":y6,"formats/script":P_,"formats/strike":L_,"formats/underline":A_,"formats/formula":D_,"formats/image":S_,"formats/video":j_,"modules/syntax":J9,"modules/table":v_,"modules/toolbar":y7,"themes/bubble":Y9,"themes/snow":s_,"ui/icons":b6,"ui/picker":g6,"ui/icon-picker":G9,"ui/color-picker":K9,"ui/tooltip":W9},!0);var dX=Z9;var $2=f1(n_(),1);var o_=(Z)=>{Z=1831565813+(Z|=0)|0;let $=Math.imul(Z^Z>>>15,1|Z);return $=$+Math.imul($^$>>>7,61|$)^$,(($^$>>>14)>>>0)/4294967296};class a_{constructor(Z){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:$,separator:J,dictionaries:X,style:K,seed:G}=Z;this.dictionaries=X,this.separator=J,this.length=$,this.style=K,this.seed=G}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.\nLength provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let Z=this.seed;return this.dictionaries.slice(0,this.length).reduce(($,J)=>{let X;Z?(X=((G)=>{if(typeof G=="string"){const W=G.split("").map((H)=>H.charCodeAt(0)).reduce((H,Q)=>H+Q,1),Y=Math.floor(Number(W));return o_(Y)}return o_(G)})(Z),Z=4294967296*X):X=Math.random();let K=J[Math.floor(X*J.length)]||"";if(this.style==="lowerCase")K=K.toLowerCase();else if(this.style==="capital"){const[G,...W]=K.split("");K=G.toUpperCase()+W.join("")}else this.style==="upperCase"&&(K=K.toUpperCase());return $?`${$}${this.separator}${K}`:`${K}`},"")}}var r_={separator:"_",dictionaries:[]},t_=(Z)=>{const $=[...Z&&Z.dictionaries||r_.dictionaries],J={...r_,...Z,length:Z&&Z.length||$.length,dictionaries:$};if(!Z||!Z.dictionaries||!Z.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new a_(J).generate()},e_=["able","above","absent","absolute","abstract","abundant","academic","acceptable","accepted","accessible","accurate","accused","active","actual","acute","added","additional","adequate","adjacent","administrative","adorable","advanced","adverse","advisory","aesthetic","afraid","aggregate","aggressive","agreeable","agreed","agricultural","alert","alive","alleged","allied","alone","alright","alternative","amateur","amazing","ambitious","amused","ancient","angry","annoyed","annual","anonymous","anxious","appalling","apparent","applicable","appropriate","arbitrary","architectural","armed","arrogant","artificial","artistic","ashamed","asleep","assistant","associated","atomic","attractive","automatic","autonomous","available","average","awake","aware","awful","awkward","back","bad","balanced","bare","basic","beautiful","beneficial","better","bewildered","big","binding","biological","bitter","bizarre","blank","blind","blonde","bloody","blushing","boiling","bold","bored","boring","bottom","brainy","brave","breakable","breezy","brief","bright","brilliant","broad","broken","bumpy","burning","busy","calm","capable","capitalist","careful","casual","causal","cautious","central","certain","changing","characteristic","charming","cheap","cheerful","chemical","chief","chilly","chosen","christian","chronic","chubby","circular","civic","civil","civilian","classic","classical","clean","clear","clever","clinical","close","closed","cloudy","clumsy","coastal","cognitive","coherent","cold","collective","colonial","colorful","colossal","coloured","colourful","combative","combined","comfortable","coming","commercial","common","communist","compact","comparable","comparative","compatible","competent","competitive","complete","complex","complicated","comprehensive","compulsory","conceptual","concerned","concrete","condemned","confident","confidential","confused","conscious","conservation","conservative","considerable","consistent","constant","constitutional","contemporary","content","continental","continued","continuing","continuous","controlled","controversial","convenient","conventional","convinced","convincing","cooing","cool","cooperative","corporate","correct","corresponding","costly","courageous","crazy","creative","creepy","criminal","critical","crooked","crowded","crucial","crude","cruel","cuddly","cultural","curious","curly","current","curved","cute","daily","damaged","damp","dangerous","dark","dead","deaf","deafening","dear","decent","decisive","deep","defeated","defensive","defiant","definite","deliberate","delicate","delicious","delighted","delightful","democratic","dependent","depressed","desirable","desperate","detailed","determined","developed","developing","devoted","different","difficult","digital","diplomatic","direct","dirty","disabled","disappointed","disastrous","disciplinary","disgusted","distant","distinct","distinctive","distinguished","disturbed","disturbing","diverse","divine","dizzy","domestic","dominant","double","doubtful","drab","dramatic","dreadful","driving","drunk","dry","dual","due","dull","dusty","dutch","dying","dynamic","eager","early","eastern","easy","economic","educational","eerie","effective","efficient","elaborate","elated","elderly","eldest","electoral","electric","electrical","electronic","elegant","eligible","embarrassed","embarrassing","emotional","empirical","empty","enchanting","encouraging","endless","energetic","enormous","enthusiastic","entire","entitled","envious","environmental","equal","equivalent","essential","established","estimated","ethical","ethnic","eventual","everyday","evident","evil","evolutionary","exact","excellent","exceptional","excess","excessive","excited","exciting","exclusive","existing","exotic","expected","expensive","experienced","experimental","explicit","extended","extensive","external","extra","extraordinary","extreme","exuberant","faint","fair","faithful","familiar","famous","fancy","fantastic","far","fascinating","fashionable","fast","fat","fatal","favourable","favourite","federal","fellow","female","feminist","few","fierce","filthy","final","financial","fine","firm","fiscal","fit","fixed","flaky","flat","flexible","fluffy","fluttering","flying","following","fond","foolish","foreign","formal","formidable","forthcoming","fortunate","forward","fragile","frail","frantic","free","frequent","fresh","friendly","frightened","front","frozen","full","fun","functional","fundamental","funny","furious","future","fuzzy","gastric","gay","general","generous","genetic","gentle","genuine","geographical","giant","gigantic","given","glad","glamorous","gleaming","global","glorious","golden","good","gorgeous","gothic","governing","graceful","gradual","grand","grateful","greasy","great","grieving","grim","gross","grotesque","growing","grubby","grumpy","guilty","handicapped","handsome","happy","hard","harsh","head","healthy","heavy","helpful","helpless","hidden","high","hilarious","hissing","historic","historical","hollow","holy","homeless","homely","hon","honest","horizontal","horrible","hostile","hot","huge","human","hungry","hurt","hushed","husky","icy","ideal","identical","ideological","ill","illegal","imaginative","immediate","immense","imperial","implicit","important","impossible","impressed","impressive","improved","inadequate","inappropriate","inc","inclined","increased","increasing","incredible","independent","indirect","individual","industrial","inevitable","influential","informal","inherent","initial","injured","inland","inner","innocent","innovative","inquisitive","instant","institutional","insufficient","intact","integral","integrated","intellectual","intelligent","intense","intensive","interested","interesting","interim","interior","intermediate","internal","international","intimate","invisible","involved","irrelevant","isolated","itchy","jealous","jittery","joint","jolly","joyous","judicial","juicy","junior","just","keen","key","kind","known","labour","large","late","latin","lazy","leading","left","legal","legislative","legitimate","lengthy","lesser","level","lexical","liable","liberal","light","like","likely","limited","linear","linguistic","liquid","literary","little","live","lively","living","local","logical","lonely","long","loose","lost","loud","lovely","low","loyal","ltd","lucky","mad","magic","magnetic","magnificent","main","major","male","mammoth","managerial","managing","manual","many","marginal","marine","marked","married","marvellous","marxist","mass","massive","mathematical","mature","maximum","mean","meaningful","mechanical","medical","medieval","melodic","melted","mental","mere","metropolitan","mid","middle","mighty","mild","military","miniature","minimal","minimum","ministerial","minor","miserable","misleading","missing","misty","mixed","moaning","mobile","moderate","modern","modest","molecular","monetary","monthly","moral","motionless","muddy","multiple","mushy","musical","mute","mutual","mysterious","naked","narrow","nasty","national","native","natural","naughty","naval","near","nearby","neat","necessary","negative","neighbouring","nervous","net","neutral","new","nice","noble","noisy","normal","northern","nosy","notable","novel","nuclear","numerous","nursing","nutritious","nutty","obedient","objective","obliged","obnoxious","obvious","occasional","occupational","odd","official","ok","okay","old","olympic","only","open","operational","opposite","optimistic","oral","ordinary","organic","organisational","original","orthodox","other","outdoor","outer","outrageous","outside","outstanding","overall","overseas","overwhelming","painful","pale","panicky","parallel","parental","parliamentary","partial","particular","passing","passive","past","patient","payable","peaceful","peculiar","perfect","permanent","persistent","personal","petite","philosophical","physical","plain","planned","plastic","pleasant","pleased","poised","polite","political","poor","popular","positive","possible","potential","powerful","practical","precious","precise","preferred","pregnant","preliminary","premier","prepared","present","presidential","pretty","previous","prickly","primary","prime","primitive","principal","printed","prior","private","probable","productive","professional","profitable","profound","progressive","prominent","promising","proper","proposed","prospective","protective","protestant","proud","provincial","psychiatric","psychological","public","puny","pure","purring","puzzled","quaint","qualified","quarrelsome","querulous","quick","quickest","quiet","quintessential","quixotic","racial","radical","rainy","random","rapid","rare","raspy","rational","ratty","raw","ready","real","realistic","rear","reasonable","recent","reduced","redundant","regional","registered","regular","regulatory","related","relative","relaxed","relevant","reliable","relieved","religious","reluctant","remaining","remarkable","remote","renewed","representative","repulsive","required","resident","residential","resonant","respectable","respective","responsible","resulting","retail","retired","revolutionary","rich","ridiculous","right","rigid","ripe","rising","rival","roasted","robust","rolling","romantic","rotten","rough","round","royal","rubber","rude","ruling","running","rural","sacred","sad","safe","salty","satisfactory","satisfied","scared","scary","scattered","scientific","scornful","scrawny","screeching","secondary","secret","secure","select","selected","selective","selfish","semantic","senior","sensible","sensitive","separate","serious","severe","sexual","shaggy","shaky","shallow","shared","sharp","sheer","shiny","shivering","shocked","short","shrill","shy","sick","significant","silent","silky","silly","similar","simple","single","skilled","skinny","sleepy","slight","slim","slimy","slippery","slow","small","smart","smiling","smoggy","smooth","social","socialist","soft","solar","sole","solid","sophisticated","sore","sorry","sound","sour","southern","soviet","spare","sparkling","spatial","special","specific","specified","spectacular","spicy","spiritual","splendid","spontaneous","sporting","spotless","spotty","square","squealing","stable","stale","standard","static","statistical","statutory","steady","steep","sticky","stiff","still","stingy","stormy","straight","straightforward","strange","strategic","strict","striking","striped","strong","structural","stuck","stupid","subjective","subsequent","substantial","subtle","successful","successive","sudden","sufficient","suitable","sunny","super","superb","superior","supporting","supposed","supreme","sure","surprised","surprising","surrounding","surviving","suspicious","sweet","swift","symbolic","sympathetic","systematic","tall","tame","tart","tasteless","tasty","technical","technological","teenage","temporary","tender","tense","terrible","territorial","testy","then","theoretical","thick","thin","thirsty","thorough","thoughtful","thoughtless","thundering","tight","tiny","tired","top","tory","total","tough","toxic","traditional","tragic","tremendous","tricky","tropical","troubled","typical","ugliest","ugly","ultimate","unable","unacceptable","unaware","uncertain","unchanged","uncomfortable","unconscious","underground","underlying","unemployed","uneven","unexpected","unfair","unfortunate","unhappy","uniform","uninterested","unique","united","universal","unknown","unlikely","unnecessary","unpleasant","unsightly","unusual","unwilling","upper","upset","uptight","urban","urgent","used","useful","useless","usual","vague","valid","valuable","variable","varied","various","varying","vast","verbal","vertical","very","vicarious","vicious","victorious","violent","visible","visiting","visual","vital","vitreous","vivacious","vivid","vocal","vocational","voiceless","voluminous","voluntary","vulnerable","wandering","warm","wasteful","watery","weak","wealthy","weary","wee","weekly","weird","welcome","well","western","wet","whispering","whole","wicked","wide","widespread","wild","wilful","willing","willowy","wily","wise","wispy","wittering","witty","wonderful","wooden","working","worldwide","worried","worrying","worthwhile","worthy","written","wrong","xenacious","xenial","xenogeneic","xenophobic","xeric","xerothermic","yabbering","yammering","yappiest","yappy","yawning","yearling","yearning","yeasty","yelling","yelping","yielding","yodelling","young","youngest","youthful","ytterbic","yucky","yummy","zany","zealous","zeroth","zestful","zesty","zippy","zonal","zoophagous","zygomorphic","zygotic"],Z2=["aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","canidae","capybara","cardinal","caribou","carp","cat","caterpillar","catfish","catshark","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","cicada","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragon","dragonfly","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","felidae","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","galliform","gamefowl","gayal","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","unicorn","urial","vicuna","viper","vole","vulture","wallaby","walrus","warbler","wasp","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra"];dX.register("modules/cursors",$2.default);window.addEventListener("load",()=>{const Z=new n5,$=new AJ(`ws${location.protocol.slice(4)}//${location.host}/ws`,"quill-demo",Z),J=Z.getText("quill"),X=document.getElementById("editor");X.setAttribute("id","editor"),document.body.insertBefore(X,null);const K=new dX(X,{modules:{cursors:!0,toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],history:{userOnly:!0}},placeholder:"Start writing...",theme:"snow"}),G=new BJ(J,K,$.awareness);$.awareness.setLocalStateField("user",{name:t_({dictionaries:[e_,Z2]}),color:`#${Array.from({length:3},()=>("0"+Math.floor(Math.random()*128).toString(16)).slice(-2)).join("")}`}),window.example={provider:$,ydoc:Z,ytext:J,binding:G,Y:H7}});
